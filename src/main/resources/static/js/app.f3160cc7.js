(function(){"use strict";var e={10:function(e,t,a){var s=a(751),l=a(641),n=a(33);const i={id:"app"},o={class:"navbar navbar-expand-lg navbar-dark bg-primary"},r={class:"container"},c={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav ms-auto"},u={class:"nav-item"},m={class:"nav-item"},v={class:"nav-item"},p={class:"nav-item"},h={key:0,class:"nav-item"},b={key:1,class:"nav-item"},k={key:2,class:"nav-item dropdown"},g={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown"},y={class:"dropdown-menu"},L={class:"dropdown-header"},f={class:"nav-item ms-2"},C={class:"nav-item ms-2"},w={class:"nav-item ms-2"},E={class:"container-fluid py-4"};function S(e,t,a,s,S,T){const A=(0,l.g2)("PWAInstaller"),I=(0,l.g2)("router-link"),R=(0,l.g2)("ThemeToggle"),M=(0,l.g2)("SimpleThemeToggle"),x=(0,l.g2)("MobileNavigation"),D=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(A),(0,l.Lk)("nav",o,[(0,l.Lk)("div",r,[(0,l.bF)(I,{class:"navbar-brand",to:"/"},{default:(0,l.k6)(()=>[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill me-2"},null,-1),(0,l.eW)(" Campus Chapter Organizer ",-1)])]),_:1}),t[12]||(t[12]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",c,[(0,l.Lk)("ul",d,[(0,l.Lk)("li",u,[(0,l.bF)(I,{class:"nav-link",to:"/","exact-active-class":"active"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-speedometer2 me-1"},null,-1),(0,l.eW)("Dashboard ",-1)])]),_:1})]),(0,l.Lk)("li",m,[(0,l.bF)(I,{class:"nav-link",to:"/chapters","active-class":"active"},{default:(0,l.k6)(()=>[...t[4]||(t[4]=[(0,l.Lk)("i",{class:"bi bi-building me-1"},null,-1),(0,l.eW)("Chapters ",-1)])]),_:1})]),(0,l.Lk)("li",v,[(0,l.bF)(I,{class:"nav-link",to:"/members","active-class":"active"},{default:(0,l.k6)(()=>[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-people-fill me-1"},null,-1),(0,l.eW)("Members ",-1)])]),_:1})]),(0,l.Lk)("li",p,[(0,l.bF)(I,{class:"nav-link",to:"/events","active-class":"active"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-calendar-event me-1"},null,-1),(0,l.eW)("Events ",-1)])]),_:1})]),S.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",h,[(0,l.bF)(I,{class:"nav-link",to:"/login","active-class":"active"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right me-1"},null,-1),(0,l.eW)("Login ",-1)])]),_:1})])),S.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",b,[(0,l.bF)(I,{class:"nav-link",to:"/register","active-class":"active"},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)("Register ",-1)])]),_:1})])),S.currentUser?((0,l.uX)(),(0,l.CE)("li",k,[(0,l.Lk)("a",g,[t[9]||(t[9]=(0,l.Lk)("i",{class:"bi bi-person-circle me-1"},null,-1)),(0,l.eW)((0,n.v_)(S.currentUser.username),1)]),(0,l.Lk)("ul",y,[(0,l.Lk)("li",null,[(0,l.Lk)("h6",L,"Welcome, "+(0,n.v_)(S.currentUser.username)+"!",1)]),t[11]||(t[11]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=(...e)=>T.logout&&T.logout(...e))},[...t[10]||(t[10]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-1"},null,-1),(0,l.eW)("Logout ",-1)])])])])])):(0,l.Q3)("",!0),(0,l.Lk)("li",f,[(0,l.bF)(R)]),(0,l.Lk)("li",C,[(0,l.bF)(M)]),(0,l.Lk)("li",w,[(0,l.Lk)("button",{class:"btn btn-outline-light btn-sm",onClick:t[1]||(t[1]=(...e)=>s.debugToggleTheme&&s.debugToggleTheme(...e)),style:{"font-size":"0.8rem"}}," Debug Theme ")])])])])]),(0,l.bF)(x,{"current-user":S.currentUser,onLogout:T.logout},null,8,["current-user","onLogout"]),(0,l.Lk)("main",E,[(0,l.bF)(D)]),t[13]||(t[13]=(0,l.Fv)('<footer class="bg-light py-4 mt-5"><div class="container"><div class="row"><div class="col-md-6"><p class="text-muted mb-0"> © 2025 Campus Chapter Organizer. Built with Vue.js &amp; Spring Boot. </p></div><div class="col-md-6 text-end"><p class="text-muted mb-0"><i class="bi bi-code-slash me-1"></i> Frontend: Vue.js | Backend: Spring Boot </p></div></div></div></footer>',1))])}const T={class:"dropdown"},A=["title"],I={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"themeDropdown"},R={class:"text-muted ms-2"};function M(e,t,a,s,i,o){return(0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("button",{class:"btn btn-outline-light theme-toggle dropdown-toggle",type:"button",id:"themeDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",title:`Current theme: ${s.currentTheme}`},[(0,l.Lk)("i",{class:(0,n.C4)(s.getCurrentIcon())},null,2)],8,A),(0,l.Lk)("ul",I,[t[7]||(t[7]=(0,l.Lk)("li",null,[(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-palette me-2"}),(0,l.eW)(" Choose Theme ")])],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:s.isSystemTheme}]),onClick:t[0]||(t[0]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e))},[t[3]||(t[3]=(0,l.Lk)("i",{class:"bi bi-circle-half me-2"},null,-1)),t[4]||(t[4]=(0,l.Lk)("span",{class:"flex-grow-1"},"System",-1)),(0,l.Lk)("small",R,(0,n.v_)(s.systemPrefersDark?"Dark":"Light"),1)],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"light"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("light"))},[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-sun me-2"},null,-1),(0,l.eW)(" Light ",-1)])],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"dark"===s.currentTheme}]),onClick:t[2]||(t[2]=e=>s.setTheme("dark"))},[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-moon-stars me-2"},null,-1),(0,l.eW)(" Dark ",-1)])],2)]),t[8]||(t[8]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),t[9]||(t[9]=(0,l.Lk)("li",null,[(0,l.Lk)("div",{class:"px-3 py-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,l.eW)(" System theme follows your OS preference ")])])],-1))])])}var x=a(953);const D=(0,x.KR)(!1),N=(0,x.KR)(!0);function F(){const e=(0,l.EW)(()=>"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches),t=(0,l.EW)(()=>N.value?e.value?"dark":"light":D.value?"dark":"light"),a=()=>{const e=localStorage.getItem("theme-preference"),t=localStorage.getItem("theme-is-system");e&&null!==t?(N.value="true"===t,N.value||(D.value="dark"===e)):N.value=!0,s()},s=()=>{const e=document.documentElement,a=document.body,s=t.value;console.log("🌙 useTheme: Applying theme:",s),console.log("🌙 useTheme: HTML element:",e),console.log("🌙 useTheme: Body element:",a),e.setAttribute("data-theme",s),a.setAttribute("data-theme",s),console.log("🌙 useTheme: Set data-theme attribute on html and body"),"dark"===s?(e.setAttribute("data-bs-theme","dark"),a.setAttribute("data-bs-theme","dark"),e.classList.add("dark-theme"),a.classList.add("dark-theme"),console.log("🌙 useTheme: Added dark theme classes and attributes")):(e.removeAttribute("data-bs-theme"),a.removeAttribute("data-bs-theme"),e.classList.remove("dark-theme"),a.classList.remove("dark-theme"),console.log("🌙 useTheme: Removed dark theme classes and attributes")),a.style.backgroundColor="dark"===s?"#1a1d23":"#ffffff",a.style.color="dark"===s?"#f7fafc":"#212529",console.log("🌙 useTheme: Applied inline styles - backgroundColor:",a.style.backgroundColor,"color:",a.style.color),localStorage.setItem("theme-preference",s),localStorage.setItem("theme-is-system",N.value.toString()),console.log("🌙 useTheme: Theme applied. HTML data-theme:",e.getAttribute("data-theme")),console.log("🌙 useTheme: Body data-theme:",a.getAttribute("data-theme")),console.log("🌙 useTheme: HTML classes:",e.className),console.log("🌙 useTheme: Body classes:",a.className)},n=()=>{N.value?(N.value=!1,D.value=!e.value):D.value=!D.value},i=()=>{N.value=!0},o=e=>{N.value=!1,D.value="dark"===e},r=()=>{if("undefined"!==typeof window){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{N.value&&s()};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}};(0,l.wB)([t],()=>{s()});const c=[{value:"system",label:"System",icon:"bi-circle-half"},{value:"light",label:"Light",icon:"bi-sun"},{value:"dark",label:"Dark",icon:"bi-moon-stars"}];return{isDark:(0,l.EW)(()=>"dark"===t.value),currentTheme:t,isSystemTheme:N,systemPrefersDark:e,themeOptions:c,initializeTheme:a,toggleTheme:n,useSystemTheme:i,setTheme:o,watchSystemTheme:r}}var _={name:"ThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:i,watchSystemTheme:o}=F();let r;(0,l.sV)(()=>{i(),r=o()}),(0,l.hi)(()=>{r&&r()});const c=()=>t.value?"bi bi-circle-half":"dark"===e.value?"bi bi-moon-stars":"bi bi-sun",d=t=>{console.log("🎨 ThemeToggle: Setting theme to:",t),console.log("🎨 ThemeToggle: Current theme before:",e.value),n(t),console.log("🎨 ThemeToggle: Current theme after:",e.value)},u=()=>{console.log("🎨 ThemeToggle: Setting to system theme"),console.log("🎨 ThemeToggle: System prefers dark:",a.value),s(),console.log("🎨 ThemeToggle: Current theme after system:",e.value)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:u,setTheme:d,getCurrentIcon:c}}},U=a(262);const P=(0,U.A)(_,[["render",M],["__scopeId","data-v-5d2cc150"]]);var W=P;const X={class:"simple-theme-toggle d-flex gap-1"};function V(e,t,a,s,i,o){return(0,l.uX)(),(0,l.CE)("div",X,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"light"===s.currentTheme}]),onClick:t[0]||(t[0]=e=>s.setTheme("light")),title:"Light Mode"}," ☀️ ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"dark"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("dark")),title:"Dark Mode"}," 🌙 ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:s.isSystemTheme}]),onClick:t[2]||(t[2]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e)),title:"System Theme"}," 🔄 ",2)])}var K={name:"SimpleThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:i,watchSystemTheme:o}=F();let r;(0,l.sV)(()=>{console.log("🎯 SimpleThemeToggle: Component mounted"),i(),r=o(),console.log("🎯 SimpleThemeToggle: Initial theme:",e.value)}),(0,l.hi)(()=>{r&&r()});const c=t=>{console.log("🎯 SimpleThemeToggle: Setting theme to:",t),n(t),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after set:",e.value)},50)},d=()=>{console.log("🎯 SimpleThemeToggle: Using system theme"),s(),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after system:",e.value)},50)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:d,setTheme:c}}};const O=(0,U.A)(K,[["render",V],["__scopeId","data-v-439d4286"]]);var B=O;const $={key:0,class:"pwa-install-banner"},Q={class:"container-fluid"},j={class:"alert alert-info alert-dismissible fade show mb-0",role:"alert"},G={class:"d-flex align-items-center"},J={class:"btn-group ms-3"};function H(e,t,a,s,n,i){return s.showInstallPrompt?((0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("div",Q,[(0,l.Lk)("div",j,[(0,l.Lk)("div",G,[t[4]||(t[4]=(0,l.Lk)("i",{class:"bi bi-download me-3 fs-4"},null,-1)),t[5]||(t[5]=(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("strong",null,"Install App"),(0,l.Lk)("p",{class:"mb-0 small"},"Get the full experience with offline access and faster loading")],-1)),(0,l.Lk)("div",J,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.installPWA&&s.installPWA(...e))},[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-1"},null,-1),(0,l.eW)(" Install ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[1]||(t[1]=(...e)=>s.dismissPrompt&&s.dismissPrompt(...e))},[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])])])])])])):(0,l.Q3)("",!0)}var q={name:"PWAInstaller",setup(){const e=(0,x.KR)(!1),t=(0,x.KR)(null),a=a=>{a.preventDefault(),t.value=a,e.value=!0},s=async()=>{if(!t.value)return;t.value.prompt();const{outcome:a}=await t.value.userChoice;console.log(`PWA install outcome: ${a}`),t.value=null,e.value=!1},n=()=>{e.value=!1,sessionStorage.setItem("pwa-prompt-dismissed","true")},i=()=>{console.log("PWA was installed"),e.value=!1,t.value=null};return(0,l.sV)(()=>{if(!sessionStorage.getItem("pwa-prompt-dismissed"))return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",i),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",i)}}),{showInstallPrompt:e,installPWA:s,dismissPrompt:n}}};const Y=(0,U.A)(q,[["render",H],["__scopeId","data-v-1efada21"]]);var z=Y;const Z={class:"mobile-navigation"},ee={class:"mobile-header d-md-none"},te={class:"container-fluid"},ae={class:"d-flex justify-content-between align-items-center py-3"},se={class:"d-flex align-items-center"},le={class:"position-relative me-3"},ne={key:0,class:"notification-badge"},ie={key:0,class:"user-profile-section"},oe={class:"d-flex align-items-center mb-3"},re={class:"fw-semibold"},ce={class:"text-muted small"},de={class:"quick-actions mb-4"},ue={class:"row g-2"},me={class:"col-6"},ve={class:"col-6"},pe={class:"mobile-nav"},he={key:0,class:"badge bg-danger ms-auto"},be={class:"settings-section mt-4"},ke={class:"setting-item"},ge={class:"d-flex justify-content-between align-items-center"},ye={class:"form-check form-switch"},Le=["checked"],fe={class:"setting-item"},Ce={class:"d-flex justify-content-between align-items-center"},we={class:"form-check form-switch"},Ee={class:"bottom-navigation d-md-none"},Se={class:"container-fluid p-0"},Te={class:"row g-0"},Ae={class:"nav-label"},Ie={key:0,class:"nav-badge"},Re={class:"notification-content"},Me={class:"notification-header"},xe={class:"notification-list"},De={class:"notification-icon"},Ne={class:"notification-content"},Fe={class:"notification-title"},_e={class:"notification-text"},Ue={class:"notification-time"},Pe={key:0,class:"text-center py-4 text-muted"};function We(e,t,a,i,o,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Z,[(0,l.Lk)("div",ee,[(0,l.Lk)("div",te,[(0,l.Lk)("div",ae,[t[14]||(t[14]=(0,l.Lk)("div",{class:"mobile-logo"},[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill text-primary me-2"}),(0,l.Lk)("span",{class:"fw-bold"},"Chapter")],-1)),(0,l.Lk)("div",se,[(0,l.Lk)("div",le,[(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[0]||(t[0]=e=>i.showNotifications=!i.showNotifications)},[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-bell fs-5"},null,-1)),i.notificationCount?((0,l.uX)(),(0,l.CE)("span",ne,(0,n.v_)(i.notificationCount),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.showMobileMenu?"bi-x-lg":"bi-list"]),style:{"font-size":"1.5rem"}},null,2)])])])])]),i.showMobileMenu?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"mobile-menu-overlay d-md-none",onClick:t[2]||(t[2]=e=>i.showMobileMenu=!1)})):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:(0,n.C4)(["mobile-menu d-md-none",{show:i.showMobileMenu}])},[i.currentUser?((0,l.uX)(),(0,l.CE)("div",ie,[(0,l.Lk)("div",oe,[t[15]||(t[15]=(0,l.Lk)("div",{class:"user-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle text-primary",style:{"font-size":"3rem"}})],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",re,(0,n.v_)(i.currentUser.username),1),(0,l.Lk)("div",ce,(0,n.v_)(i.currentUser.role),1)])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",de,[(0,l.Lk)("div",ue,[(0,l.Lk)("div",me,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm w-100",onClick:t[3]||(t[3]=e=>i.navigateTo("/members/create"))},[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])])]),(0,l.Lk)("div",ve,[(0,l.Lk)("button",{class:"btn btn-success btn-sm w-100",onClick:t[4]||(t[4]=e=>i.navigateTo("/events/create"))},[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" New Event ",-1)])])])])]),(0,l.Lk)("nav",pe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.navigationItems,a=>((0,l.uX)(),(0,l.Wv)(c,{key:a.path,to:a.path,class:(0,n.C4)(["mobile-nav-item",{active:e.$route.path===a.path}]),onClick:t[5]||(t[5]=e=>i.showMobileMenu=!1)},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",a.icon])},null,2),(0,l.Lk)("span",null,(0,n.v_)(a.label),1),a.badge?((0,l.uX)(),(0,l.CE)("span",he,(0,n.v_)(a.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"]))),128))]),(0,l.Lk)("div",be,[t[23]||(t[23]=(0,l.Lk)("div",{class:"section-divider"},null,-1)),(0,l.Lk)("div",ke,[(0,l.Lk)("div",ge,[t[18]||(t[18]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-palette me-3"}),(0,l.Lk)("span",null,"Dark Mode")],-1)),(0,l.Lk)("div",ye,[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",checked:i.isDarkMode,onChange:t[6]||(t[6]=(...e)=>i.toggleTheme&&i.toggleTheme(...e))},null,40,Le)])])]),(0,l.Lk)("div",fe,[(0,l.Lk)("div",Ce,[t[19]||(t[19]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-bell me-3"}),(0,l.Lk)("span",null,"Notifications")],-1)),(0,l.Lk)("div",we,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>i.notificationsEnabled=e)},null,512),[[s.lH,i.notificationsEnabled]])])])]),(0,l.bF)(c,{to:"/settings",class:"setting-item",onClick:t[8]||(t[8]=e=>i.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-gear me-3"},null,-1),(0,l.Lk)("span",null,"Settings",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),(0,l.bF)(c,{to:"/help",class:"setting-item",onClick:t[9]||(t[9]=e=>i.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.Lk)("i",{class:"bi bi-question-circle me-3"},null,-1),(0,l.Lk)("span",null,"Help & Support",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),i.currentUser?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"setting-item logout-item",onClick:t[10]||(t[10]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-3 text-danger"},null,-1),(0,l.Lk)("span",{class:"text-danger"},"Logout",-1)])])):(0,l.Q3)("",!0)])],2),(0,l.Lk)("div",Ee,[(0,l.Lk)("div",Se,[(0,l.Lk)("div",Te,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.bottomNavItems,t=>((0,l.uX)(),(0,l.CE)("div",{key:t.path,class:"col"},[(0,l.bF)(c,{to:t.path,class:(0,n.C4)(["bottom-nav-item",{active:e.$route.path===t.path}])},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",t.icon])},null,2),(0,l.Lk)("span",Ae,(0,n.v_)(t.label),1),t.badge?((0,l.uX)(),(0,l.CE)("span",Ie,(0,n.v_)(t.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"])]))),128))])])]),i.showNotifications?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"notification-panel d-md-none",onClick:t[12]||(t[12]=(0,s.D$)(e=>i.showNotifications=!1,["self"]))},[(0,l.Lk)("div",Re,[(0,l.Lk)("div",Me,[t[25]||(t[25]=(0,l.Lk)("h6",{class:"mb-0"},"Notifications",-1)),(0,l.Lk)("button",{class:"btn btn-link p-0 text-muted",onClick:t[11]||(t[11]=e=>i.showNotifications=!1)},[...t[24]||(t[24]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,l.Lk)("div",xe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.notifications,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["notification-item",{unread:!e.read}])},[(0,l.Lk)("div",De,[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2)]),(0,l.Lk)("div",Ne,[(0,l.Lk)("div",Fe,(0,n.v_)(e.title),1),(0,l.Lk)("div",_e,(0,n.v_)(e.message),1),(0,l.Lk)("div",Ue,(0,n.v_)(i.formatTime(e.time)),1)])],2))),128)),0===i.notifications.length?((0,l.uX)(),(0,l.CE)("div",Pe,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-bell-slash display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No notifications",-1)])])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])}var Xe=a(43),Ve={name:"MobileNavigation",setup(){const e=(0,Xe.rd)(),{currentTheme:t,setTheme:a}=((0,Xe.lq)(),F()),s=(0,x.KR)(!1),n=(0,x.KR)(!1),i=(0,x.KR)(!0),o=(0,x.KR)({username:"John Doe",role:"Chapter President"}),r=(0,x.KR)([{path:"/",label:"Dashboard",icon:"bi-speedometer2"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill",badge:5},{path:"/events",label:"Events",icon:"bi-calendar-event"},{path:"/analytics",label:"Analytics",icon:"bi-graph-up"},{path:"/reports",label:"Reports",icon:"bi-file-earmark-bar-graph"}]),c=(0,x.KR)([{path:"/",label:"Home",icon:"bi-house-fill"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill"},{path:"/events",label:"Events",icon:"bi-calendar-event",badge:3}]),d=(0,x.KR)([{id:1,title:"New Member Request",message:"Sarah Johnson wants to join UC Berkeley chapter",icon:"bi-person-plus-fill",time:new Date(Date.now()-3e5),read:!1},{id:2,title:"Event Reminder",message:"Weekly meeting starts in 30 minutes",icon:"bi-calendar-event",time:new Date(Date.now()-18e5),read:!1},{id:3,title:"System Update",message:"New features have been added to the dashboard",icon:"bi-info-circle-fill",time:new Date(Date.now()-72e5),read:!0}]),u=(0,l.EW)(()=>d.value.filter(e=>!e.read).length),m=(0,l.EW)(()=>"dark"===t.value),v=()=>{s.value=!s.value,s.value&&(n.value=!1)},p=t=>{e.push(t),s.value=!1},h=()=>{const e="dark"===t.value?"light":"dark";a(e)},b=()=>{o.value=null,s.value=!1,e.push("/login")},k=e=>{const t=new Date,a=t-e,s=Math.floor(a/6e4),l=Math.floor(s/60),n=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ago`:`${n}d ago`};return e.afterEach(()=>{s.value=!1,n.value=!1}),{showMobileMenu:s,showNotifications:n,notificationsEnabled:i,currentUser:o,navigationItems:r,bottomNavItems:c,notifications:d,notificationCount:u,isDarkMode:m,toggleMobileMenu:v,navigateTo:p,toggleTheme:h,handleLogout:b,formatTime:k}}};const Ke=(0,U.A)(Ve,[["render",We],["__scopeId","data-v-6dee0850"]]);var Oe=Ke,Be={name:"App",components:{ThemeToggle:W,SimpleThemeToggle:B,PWAInstaller:z,MobileNavigation:Oe},setup(){const{initializeTheme:e,setTheme:t,currentTheme:a}=F();(0,l.sV)(()=>{e(),document.body.classList.add("preload"),setTimeout(()=>{document.body.classList.remove("preload")},100)});const s=()=>{console.log("🔥 DEBUG: Current theme before toggle:",a.value);const e="dark"===a.value?"light":"dark";console.log("🔥 DEBUG: Setting theme to:",e),t(e),setTimeout(()=>{const e=document.documentElement,t=document.body;console.log("🔥 DEBUG: HTML data-theme:",e.getAttribute("data-theme")),console.log("🔥 DEBUG: Body data-theme:",t.getAttribute("data-theme")),console.log("🔥 DEBUG: HTML classes:",e.className),console.log("🔥 DEBUG: Body classes:",t.className),console.log("🔥 DEBUG: Body background color:",t.style.backgroundColor),console.log("🔥 DEBUG: Body color:",t.style.color)},100)};return{debugToggleTheme:s}},data(){return{currentUser:null}},mounted(){this.checkAuthState(),window.addEventListener("storage",this.checkAuthState)},beforeUnmount(){window.removeEventListener("storage",this.checkAuthState)},methods:{checkAuthState(){const e=localStorage.getItem("user");if(e)try{this.currentUser=JSON.parse(e)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user"),this.currentUser=null}else this.currentUser=null},logout(){localStorage.removeItem("user"),this.currentUser=null,this.$router.push("/login")}},watch:{$route(){this.checkAuthState()}}};const $e=(0,U.A)(Be,[["render",S]]);var Qe=$e;const je={class:"dashboard"},Ge={class:"container-fluid"},Je={class:"dashboard-header mb-4"},He={class:"row align-items-center"},qe={class:"col"},Ye={class:"text-muted mb-0"},ze={key:0},Ze={class:"col-auto"},et=["disabled"],tt={key:0,class:"alert alert-warning alert-dismissible fade show mb-4",role:"alert"},at={class:"row g-4 mb-4 mt-4"},st={class:"col-md-3"},lt={class:"card border-0 shadow-sm metric-card"},nt={class:"card-body"},it={key:1,class:"d-flex align-items-center"},ot={class:"flex-grow-1 ms-3"},rt={class:"mb-0 text-primary"},ct={class:"col-md-3"},dt={class:"card border-0 shadow-sm metric-card"},ut={class:"card-body"},mt={key:1,class:"d-flex align-items-center"},vt={class:"flex-grow-1 ms-3"},pt={class:"mb-0 text-success"},ht={class:"col-md-3"},bt={class:"card border-0 shadow-sm metric-card"},kt={class:"card-body"},gt={key:1,class:"d-flex align-items-center"},yt={class:"flex-grow-1 ms-3"},Lt={class:"mb-0 text-info"},ft={class:"col-md-3"},Ct={class:"card border-0 shadow-sm metric-card"},wt={class:"card-body"},Et={key:1,class:"d-flex align-items-center"},St={class:"flex-grow-1 ms-3"},Tt={class:"mb-0 text-warning"},At={class:"row g-4"},It={class:"col-md-8"},Rt={class:"card border-0 shadow-sm"},Mt={class:"card-body"},xt={class:"row g-3"},Dt={class:"col-md-4"},Nt={class:"col-md-4"},Ft={class:"col-md-4"};function _t(e,t,a,s,i,o){const r=(0,l.g2)("AnalyticsDashboard"),c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",je,[(0,l.Lk)("div",Ge,[(0,l.Lk)("div",Je,[(0,l.Lk)("div",He,[(0,l.Lk)("div",qe,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"h2 mb-0"},[(0,l.Lk)("i",{class:"fas fa-tachometer-alt text-primary me-3"}),(0,l.eW)(" System Dashboard ")],-1)),(0,l.Lk)("p",Ye,[s.currentUser?((0,l.uX)(),(0,l.CE)("span",ze,"Welcome back, "+(0,n.v_)(s.currentUser.username)+"! | ",1)):(0,l.Q3)("",!0),t[2]||(t[2]=(0,l.eW)(" Campus Chapter Organizer Management ",-1))])]),(0,l.Lk)("div",Ze,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.fetchPublicStats&&s.fetchPublicStats(...e)),disabled:s.loading},[(0,l.Lk)("i",{class:(0,n.C4)(["fas fa-sync-alt me-2",{"fa-spin":s.loading}])},null,2),(0,l.eW)(" "+(0,n.v_)(s.loading?"Loading...":"Refresh"),1)],8,et)])])]),s.error?((0,l.uX)(),(0,l.CE)("div",tt,[t[4]||(t[4]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.error)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>s.error=null)})])):(0,l.Q3)("",!0),(0,l.bF)(r),(0,l.Lk)("div",at,[(0,l.Lk)("div",st,[(0,l.Lk)("div",lt,[(0,l.Lk)("div",nt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",it,[t[6]||(t[6]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-primary bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-users text-white fa-lg"})])],-1)),(0,l.Lk)("div",ot,[t[5]||(t[5]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Members",-1)),(0,l.Lk)("h4",rt,(0,n.v_)(s.totalMembers),1)])]))])])]),(0,l.Lk)("div",ct,[(0,l.Lk)("div",dt,[(0,l.Lk)("div",ut,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",mt,[t[8]||(t[8]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-success bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-calendar-check text-white fa-lg"})])],-1)),(0,l.Lk)("div",vt,[t[7]||(t[7]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Active Events",-1)),(0,l.Lk)("h4",pt,(0,n.v_)(s.activeEvents),1)])]))])])]),(0,l.Lk)("div",ht,[(0,l.Lk)("div",bt,[(0,l.Lk)("div",kt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",gt,[t[10]||(t[10]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-info bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-university text-white fa-lg"})])],-1)),(0,l.Lk)("div",yt,[t[9]||(t[9]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Chapters",-1)),(0,l.Lk)("h4",Lt,(0,n.v_)(s.totalChapters),1)])]))])])]),(0,l.Lk)("div",ft,[(0,l.Lk)("div",Ct,[(0,l.Lk)("div",wt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",Et,[t[12]||(t[12]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-warning bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-check-circle text-white fa-lg"})])],-1)),(0,l.Lk)("div",St,[t[11]||(t[11]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total RSVPs",-1)),(0,l.Lk)("h4",Tt,(0,n.v_)(s.totalRsvps),1)])]))])])])]),(0,l.Lk)("div",At,[(0,l.Lk)("div",It,[(0,l.Lk)("div",Rt,[t[16]||(t[16]=(0,l.Lk)("div",{class:"card-header bg-white border-0"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"fas fa-bolt text-primary me-2"}),(0,l.eW)(" Quick Actions ")])],-1)),(0,l.Lk)("div",Mt,[(0,l.Lk)("div",xt,[(0,l.Lk)("div",Dt,[(0,l.bF)(d,{to:"/members",class:"btn btn-outline-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"fas fa-user-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Add Member",-1)])]),_:1})]),(0,l.Lk)("div",Nt,[(0,l.bF)(d,{to:"/events",class:"btn btn-outline-success w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[14]||(t[14]=[(0,l.Lk)("i",{class:"fas fa-calendar-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Create Event",-1)])]),_:1})]),(0,l.Lk)("div",Ft,[(0,l.bF)(d,{to:"/chapters",class:"btn btn-outline-info w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.Lk)("i",{class:"fas fa-university fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Manage Chapters",-1)])]),_:1})])])])])]),t[17]||(t[17]=(0,l.Fv)('<div class="col-md-4" data-v-1ffa6712><div class="card border-0 shadow-sm" data-v-1ffa6712><div class="card-header bg-white border-0" data-v-1ffa6712><h5 class="card-title mb-0" data-v-1ffa6712><i class="fas fa-cog text-secondary me-2" data-v-1ffa6712></i> System Status </h5></div><div class="card-body" data-v-1ffa6712><div class="d-flex align-items-center mb-3" data-v-1ffa6712><div class="flex-shrink-0" data-v-1ffa6712><div class="bg-success rounded-circle p-2" data-v-1ffa6712><i class="fas fa-check text-white" data-v-1ffa6712></i></div></div><div class="flex-grow-1 ms-3" data-v-1ffa6712><h6 class="mb-0" data-v-1ffa6712>System Operational</h6><small class="text-muted" data-v-1ffa6712>All services running normally</small></div></div><div class="progress mb-2" style="height:6px;" data-v-1ffa6712><div class="progress-bar bg-success" style="width:95%;" data-v-1ffa6712></div></div><small class="text-muted" data-v-1ffa6712>95% System Health</small></div></div></div>',1))])])])}const Ut={class:"analytics-dashboard"},Pt={class:"row g-4"},Wt={class:"col-lg-8"},Xt={class:"card h-100"},Vt={class:"card-body"},Kt={ref:"membershipChart",style:{"max-height":"300px"}},Ot={class:"col-lg-4"},Bt={class:"card h-100"},$t={class:"card-body"},Qt={ref:"attendanceChart",style:{"max-height":"250px"}},jt={class:"col-lg-6"},Gt={class:"card h-100"},Jt={class:"card-body"},Ht={ref:"performanceChart",style:{"max-height":"300px"}},qt={class:"col-lg-6"},Yt={class:"card h-100"},zt={class:"card-body"},Zt={class:"row g-3"},ea={class:"col-6"},ta={class:"metric-item"},aa={class:"metric-value"},sa={class:"col-6"},la={class:"metric-item"},na={class:"metric-value"},ia={class:"col-6"},oa={class:"metric-item"},ra={class:"metric-value"},ca={class:"col-6"},da={class:"metric-item"},ua={class:"metric-value"};function ma(e,t,a,s,i,o){return(0,l.uX)(),(0,l.CE)("div",Ut,[(0,l.Lk)("div",Pt,[(0,l.Lk)("div",Wt,[(0,l.Lk)("div",Xt,[t[0]||(t[0]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-graph-up text-success me-2"}),(0,l.eW)(" Membership Growth ")])],-1)),(0,l.Lk)("div",Vt,[(0,l.Lk)("canvas",Kt,null,512)])])]),(0,l.Lk)("div",Ot,[(0,l.Lk)("div",Bt,[t[1]||(t[1]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-pie-chart text-info me-2"}),(0,l.eW)(" Event Attendance ")])],-1)),(0,l.Lk)("div",$t,[(0,l.Lk)("canvas",Qt,null,512)])])]),(0,l.Lk)("div",jt,[(0,l.Lk)("div",Gt,[t[2]||(t[2]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-radar text-warning me-2"}),(0,l.eW)(" Chapter Performance ")])],-1)),(0,l.Lk)("div",Jt,[(0,l.Lk)("canvas",Ht,null,512)])])]),(0,l.Lk)("div",qt,[(0,l.Lk)("div",Yt,[t[7]||(t[7]=(0,l.Lk)("div",{class:"card-header d-flex justify-content-between align-items-center"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-activity text-danger me-2"}),(0,l.eW)(" Real-time Metrics ")]),(0,l.Lk)("div",{class:"badge bg-success pulse-dot"},"Live")],-1)),(0,l.Lk)("div",zt,[(0,l.Lk)("div",Zt,[(0,l.Lk)("div",ea,[(0,l.Lk)("div",ta,[(0,l.Lk)("div",aa,(0,n.v_)(s.realTimeData.activeUsers),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"metric-label"},"Active Users",-1))])]),(0,l.Lk)("div",sa,[(0,l.Lk)("div",la,[(0,l.Lk)("div",na,(0,n.v_)(s.realTimeData.ongoingEvents),1),t[4]||(t[4]=(0,l.Lk)("div",{class:"metric-label"},"Ongoing Events",-1))])]),(0,l.Lk)("div",ia,[(0,l.Lk)("div",oa,[(0,l.Lk)("div",ra,(0,n.v_)(s.realTimeData.newSignups),1),t[5]||(t[5]=(0,l.Lk)("div",{class:"metric-label"},"Today's Signups",-1))])]),(0,l.Lk)("div",ca,[(0,l.Lk)("div",da,[(0,l.Lk)("div",ua,(0,n.v_)(s.realTimeData.systemHealth)+"%",1),t[6]||(t[6]=(0,l.Lk)("div",{class:"metric-label"},"System Health",-1))])])])])])])])])}var va=a(934),pa=a(335),ha=a(889);const ba=(0,ha.getApiBaseUrl)(),ka=pa.A.create({baseURL:`${ba}/api`,headers:{"Content-Type":"application/json"},timeout:1e4});function ga(){const e=(0,x.KR)(!1),t=(0,x.KR)(null),a=async a=>{try{e.value=!0,t.value=null;const s=await a();return s}catch(s){throw t.value=s.response?.data?.message||s.message||"An error occurred",s}finally{e.value=!1}},s=async(e,t={})=>a(()=>ka.get(`/events/${e}/rsvps`,{params:t})),l=async(e,t)=>a(()=>ka.post(`/events/${e}/rsvps`,t)),n=async(e,t,s)=>a(()=>ka.put(`/events/${e}/rsvps/${t}`,s)),i=async(e,t)=>a(()=>ka.delete(`/events/${e}/rsvps/${t}`)),o=async(e,t)=>a(()=>ka.get(`/events/${e}/rsvps/${t}`)),r=async(e={})=>a(()=>ka.get("/events",{params:e})),c=async e=>a(()=>ka.get(`/events/${e}`)),d=async e=>a(()=>ka.post("/events",e)),u=async(e,t)=>a(()=>ka.put(`/events/${e}`,t)),m=async e=>a(()=>ka.delete(`/events/${e}`)),v=async(e={})=>a(()=>ka.get("/events/recurring",{params:e})),p=async e=>a(()=>ka.post("/events/recurring",e)),h=async(e,t)=>a(()=>ka.put(`/events/recurring/${e}`,t)),b=async e=>a(()=>ka.delete(`/events/recurring/${e}`)),k=async(e,t={})=>{const s={q:e,...t};return a(()=>ka.get("/events/search",{params:s}))},g=async e=>a(()=>ka.get(`/events/${e}/analytics`)),y=async(e={})=>a(()=>ka.get("/events/analytics",{params:e})),L=async(e={})=>a(()=>ka.get("/members",{params:e})),f=async e=>a(()=>ka.get(`/members/${e}`)),C=async(e={})=>a(()=>ka.get("/chapters",{params:e})),w=async e=>a(()=>ka.get(`/chapters/${e}`)),E=async()=>a(()=>ka.get("/monitoring/health")),S=async(e={})=>a(()=>ka.get("/monitoring/metrics",{params:e})),T=async(e={})=>a(()=>ka.get("/monitoring/operational",{params:e})),A=async(e={})=>a(()=>ka.get("/monitoring/audit",{params:e})),I=async(e,t="general")=>{const s=new FormData;return s.append("file",e),s.append("type",t),a(()=>ka.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}}))},R=async(e,t={})=>a(()=>ka.get(`/reports/${e}`,{params:t,responseType:"blob"})),M=async e=>a(()=>ka.post("/notifications",e)),D=async e=>a(()=>ka.put(`/notifications/${e}/read`));return{isLoading:e,error:t,fetchEventRSVPs:s,createRSVP:l,updateRSVP:n,deleteRSVP:i,getRSVPStatus:o,fetchEvents:r,fetchEvent:c,createEvent:d,updateEvent:u,deleteEvent:m,searchEvents:k,getEventAnalytics:g,getEventsAnalytics:y,fetchRecurringEvents:v,createRecurringEvent:p,updateRecurringEvent:h,deleteRecurringEvent:b,fetchMembers:L,fetchMember:f,fetchChapters:C,fetchChapter:w,getSystemHealth:E,getMetrics:S,getOperationalMetrics:T,getAuditLogs:A,uploadFile:I,downloadReport:R,sendNotification:M,markNotificationRead:D,apiClient:ka}}function ya(e={}){const{autoRefresh:t=!0,refreshInterval:a=3e4,enableRealTime:s=!1}=e,{getSystemHealth:n,getMetrics:i,getOperationalMetrics:o,getAuditLogs:r}=ga(),c=(0,x.KR)(!1),d=(0,x.KR)(null),u=(0,x.KR)(new Date),m=(0,x.KR)({status:"UNKNOWN",uptime:0,database:null,memory:null,disk:null,api:null,services:{}}),v=(0,x.Kh)({system:{activeEvents:0,totalMembers:0,totalChapters:0,totalRsvps:0,systemLoad:0},events:{todayEvents:0,weeklyEvents:0,monthlyEvents:0,averageAttendance:0},rsvps:{todayRsvps:0,pendingRsvps:0,confirmedRsvps:0,waitlistCount:0},performance:{avgResponseTime:0,requestsPerMinute:0,errorRate:0,uptime:100}}),p=(0,x.KR)({rsvpTrends:[],eventCapacityData:[],userActivityData:[],systemPerformanceData:[]}),h=(0,x.KR)([]);let b=null,k=null;const g=(0,l.EW)(()=>{const e=m.value.status?.toUpperCase();switch(e){case"UP":case"HEALTHY":return{status:"healthy",text:"All systems operational",color:"success"};case"DOWN":case"UNHEALTHY":return{status:"unhealthy",text:"System issues detected",color:"danger"};case"DEGRADED":case"WARNING":return{status:"degraded",text:"Performance issues",color:"warning"};default:return{status:"unknown",text:"Status unknown",color:"secondary"}}}),y=(0,l.EW)(()=>[{title:"Active Events",value:v.system.activeEvents,icon:"bi bi-calendar-event",color:"primary",trend:D("activeEvents"),format:"number"},{title:"Total RSVPs",value:v.system.totalRsvps,icon:"bi bi-people-fill",color:"success",trend:D("totalRsvps"),format:"number"},{title:"System Load",value:v.system.systemLoad,icon:"bi bi-speedometer2",color:v.system.systemLoad>80?"danger":"info",trend:D("systemLoad"),format:"percentage",showProgress:!0,maxValue:100},{title:"Error Rate",value:v.performance.errorRate,icon:"bi bi-exclamation-triangle",color:v.performance.errorRate>5?"danger":"success",trend:D("errorRate"),format:"percentage"}]),L=(0,l.EW)(()=>p.value.rsvpTrends.map(e=>({label:N(e.date),value:e.count}))),f=(0,l.EW)(()=>p.value.eventCapacityData.map(e=>({label:e.eventName,value:e.capacityUsage}))),C=(0,l.EW)(()=>h.value.slice(0,10)),w=async()=>{try{const e=await n();m.value={status:e.data.status||"UNKNOWN",uptime:e.data.uptime||0,database:e.data.components?.database||null,memory:e.data.components?.memory||null,disk:e.data.components?.disk||null,api:e.data.components?.api||null,services:e.data.components?.services||{}}}catch(e){throw console.error("Failed to load system health:",e),m.value.status="UNKNOWN",e}},E=async()=>{try{const e=await i(),t=e.data;v.system={activeEvents:t.activeEvents||0,totalMembers:t.totalMembers||0,totalChapters:t.totalChapters||0,totalRsvps:t.totalRsvps||0,systemLoad:t.systemLoad||0},v.events={todayEvents:t.todayEvents||0,weeklyEvents:t.weeklyEvents||0,monthlyEvents:t.monthlyEvents||0,averageAttendance:t.averageAttendance||0},v.rsvps={todayRsvps:t.todayRsvps||0,pendingRsvps:t.pendingRsvps||0,confirmedRsvps:t.confirmedRsvps||0,waitlistCount:t.waitlistCount||0},v.performance={avgResponseTime:t.avgResponseTime||0,requestsPerMinute:t.requestsPerMinute||0,errorRate:t.errorRate||0,uptime:t.uptime||100}}catch(e){throw console.error("Failed to load metrics:",e),e}},S=async(e="24h")=>{try{const t=await o({timeRange:e}),a=t.data;p.value={rsvpTrends:a.rsvpTrends||[],eventCapacityData:a.eventCapacityData||[],userActivityData:a.userActivityData||[],systemPerformanceData:a.systemPerformanceData||[]}}catch(t){throw console.error("Failed to load operational metrics:",t),t}},T=async(e={})=>{try{const t={limit:50,sortBy:"timestamp",sortOrder:"desc",...e},a=await r(t);h.value=a.data||[]}catch(t){throw console.error("Failed to load audit logs:",t),t}},A=async()=>{try{c.value=!0,d.value=null,await Promise.all([w(),E(),S(),T()]),u.value=new Date}catch(e){throw d.value=e.message||"Failed to load monitoring data",e}finally{c.value=!1}},I=async()=>{await A()},R=async()=>{try{await Promise.all([E(),S()]),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh metrics"}},M=async()=>{try{await w(),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh health data"}},D=e=>{const t={activeEvents:"+12%",totalRsvps:"+24%",systemLoad:"-5%",errorRate:"-15%"};return t[e]||null},N=e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},F=e=>v[e]||{},_=e=>m.value[e]||null,U=()=>{s&&(b&&clearInterval(b),b=setInterval(R,1e4))},P=()=>{b&&(clearInterval(b),b=null),k&&(k.close(),k=null)},W=()=>{A(),t&&(b=setInterval(I,a)),s&&U()},X=()=>{P()};return(0,l.sV)(()=>{W()}),(0,l.hi)(()=>{X()}),{isLoading:c,error:d,lastUpdated:u,healthData:m,metricsData:v,operationalData:p,auditLogs:h,systemHealthStatus:g,criticalMetrics:y,rsvpTrendsChartData:L,eventCapacityChartData:f,recentAuditLogs:C,loadAllData:A,refreshData:I,refreshMetrics:R,refreshHealth:M,loadSystemHealth:w,loadMetrics:E,loadOperationalMetrics:S,loadAuditLogs:T,getMetricsByCategory:F,getHealthComponentStatus:_,startMonitoring:W,stopMonitoring:X}}ka.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),ka.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)));var La={name:"AnalyticsDashboard",setup(){const e=(0,x.KR)(null),t=(0,x.KR)(null),a=(0,x.KR)(null),{healthData:s,metricsData:n,operationalData:i,loadAllData:o,refreshData:r}=ya({autoRefresh:!0}),c=(0,x.KR)({activeUsers:0,ongoingEvents:0,newSignups:0,systemHealth:100});let d=null,u=null,m=null,v=null;const p=()=>{const s=e.value.getContext("2d");d=new va.Ay(s,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"New Members",data:[65,59,80,81,56,89],borderColor:"#28a745",backgroundColor:"rgba(40, 167, 69, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.1)"}},x:{grid:{display:!1}}}}});const l=t.value.getContext("2d");u=new va.Ay(l,{type:"doughnut",data:{labels:["Present","Absent","Late"],datasets:[{data:[75,20,5],backgroundColor:["#28a745","#dc3545","#ffc107"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}});const n=a.value.getContext("2d");m=new va.Ay(n,{type:"radar",data:{labels:["Events","Attendance","Engagement","Growth","Retention"],datasets:[{label:"Chapter Performance",data:[85,75,90,70,88],backgroundColor:"rgba(255, 193, 7, 0.2)",borderColor:"#ffc107",borderWidth:2,pointBackgroundColor:"#ffc107",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20}}},plugins:{legend:{display:!1}}}})},h=async()=>{try{await r(),c.value={activeUsers:Math.floor(50*Math.random())+10,ongoingEvents:i.value?.activeEvents||0,newSignups:Math.floor(15*Math.random())+2,systemHealth:"UP"===s.value?.status?100:75}}catch(e){console.error("Failed to fetch real-time data:",e)}};return(0,l.sV)(()=>{p(),o(),h(),v=setInterval(h,3e4)}),(0,l.hi)(()=>{d&&d.destroy(),u&&u.destroy(),m&&m.destroy(),v&&clearInterval(v)}),{membershipChart:e,attendanceChart:t,performanceChart:a,realTimeData:c}}};const fa=(0,U.A)(La,[["render",ma],["__scopeId","data-v-672f3cfd"]]);var Ca=fa;const wa={class:"skeleton-loader"},Ea={key:0,class:"card border-0 shadow-sm"},Sa={key:1,class:"card"},Ta={class:"card-body p-0"},Aa={class:"table-responsive"},Ia={class:"table mb-0"},Ra={key:2};function Ma(e,t,a,s,n,i){return(0,l.uX)(),(0,l.CE)("div",wa,["card"===a.type?((0,l.uX)(),(0,l.CE)("div",Ea,[...t[0]||(t[0]=[(0,l.Fv)('<div class="card-body" data-v-7cac7a32><div class="d-flex align-items-center" data-v-7cac7a32><div class="skeleton-circle me-3" data-v-7cac7a32></div><div class="flex-grow-1" data-v-7cac7a32><div class="skeleton-line mb-2" style="width:60%;" data-v-7cac7a32></div><div class="skeleton-line" style="width:40%;" data-v-7cac7a32></div></div></div></div>',1)])])):(0,l.Q3)("",!0),"table"===a.type?((0,l.uX)(),(0,l.CE)("div",Sa,[(0,l.Lk)("div",Ta,[(0,l.Lk)("div",Aa,[(0,l.Lk)("table",Ia,[t[2]||(t[2]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"80%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"50%"}})])])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[...t[1]||(t[1]=[(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"90%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"85%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})],-1)])]))),128))])])])])])):(0,l.Q3)("",!0),"list"===a.type?((0,l.uX)(),(0,l.CE)("div",Ra,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"d-flex align-items-center mb-3"},[...t[3]||(t[3]=[(0,l.Lk)("div",{class:"skeleton-circle me-3"},null,-1),(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("div",{class:"skeleton-line mb-1",style:{width:"75%"}}),(0,l.Lk)("div",{class:"skeleton-line",style:{width:"45%"}})],-1)])]))),128))])):(0,l.Q3)("",!0)])}var xa={name:"SkeletonLoader",props:{type:{type:String,default:"card",validator:e=>["card","table","list"].includes(e)},rows:{type:Number,default:3}}};const Da=(0,U.A)(xa,[["render",Ma],["__scopeId","data-v-7cac7a32"]]);var Na=Da,Fa={name:"Dashboard",components:{AnalyticsDashboard:Ca,SkeletonLoader:Na},setup(){const e=(0,x.KR)(0),t=(0,x.KR)(0),s=(0,x.KR)(0),n=(0,x.KR)(0),i=(0,x.KR)(!0),o=(0,x.KR)(null),r=(0,x.KR)(null),c=()=>{const e=localStorage.getItem("user");if(e)try{r.value=JSON.parse(e)}catch(o){console.error("Error parsing stored user:",o),r.value=null}};(0,l.sV)(()=>{c()});const d=async()=>{try{i.value=!0;const{getApiBaseUrl:l}=await Promise.resolve().then(a.bind(a,889)),r=l(),c=await fetch(`${r}/api/stats/public/overview`);if(!c.ok)throw new Error("Failed to fetch statistics");const d=await c.json();e.value=d.totalMembers||0,t.value=d.totalEvents||0,s.value=d.totalChapters||0,n.value=d.totalRsvps||0,o.value=null}catch(l){console.error("Error fetching public stats:",l),o.value="Unable to load statistics",e.value=0,t.value=0,s.value=0,n.value=0}finally{i.value=!1}};return(0,l.sV)(()=>{d()}),{totalMembers:e,activeEvents:t,totalChapters:s,totalRsvps:n,loading:i,error:o,fetchPublicStats:d,currentUser:r}}};const _a=(0,U.A)(Fa,[["render",_t],["__scopeId","data-v-1ffa6712"]]);var Ua=_a;const Pa={class:"chapters"},Wa={class:"container"},Xa={class:"row mb-3"},Va={class:"col-md-6"},Ka={class:"d-flex align-items-center"},Oa={class:"col-md-6 text-end"},Ba={class:"chapter-stats"},$a={class:"badge bg-primary fs-6 me-2"},Qa={class:"badge bg-success fs-6 me-2"},ja={class:"badge bg-warning fs-6"},Ga={key:0,class:"text-center py-4"},Ja={key:1,class:"alert alert-danger text-center"},Ha={key:2,class:"table-responsive"},qa={class:"table table-hover"},Ya={class:"table-light"},za={class:"d-flex align-items-center"},Za={class:"chapter-avatar me-2"},es={class:"badge bg-light text-dark"},ts={class:"d-flex align-items-center"},as={class:"health-bar"},ss={class:"btn-group btn-group-sm"},ls=["onClick"],ns=["onClick"],is=["onClick"],os={key:0,class:"d-flex justify-content-center mt-4"},rs={class:"pagination"},cs=["onClick"],ds={key:3,class:"row"},us={class:"card chapter-card h-100"},ms={class:"card-header d-flex justify-content-between align-items-center"},vs={class:"chapter-avatar-large"},ps={class:"card-body"},hs={class:"card-title"},bs={class:"card-text text-muted"},ks={class:"mb-2"},gs={class:"text-muted"},ys={class:"row text-center mb-3"},Ls={class:"col-6"},fs={class:"stat-item"},Cs={class:"stat-value"},ws={class:"col-6"},Es={class:"stat-item"},Ss={class:"stat-value"},Ts={class:"health-bar"},As={class:"card-footer"},Is={class:"btn-group w-100"},Rs=["onClick"],Ms=["onClick"],xs=["onClick"],Ds={key:0,class:"col-12 d-flex justify-content-center mt-4"},Ns={class:"pagination"},Fs=["onClick"],_s={key:4,class:"text-center py-5"},Us={class:"modal-dialog modal-lg"},Ps={class:"modal-content"},Ws={class:"modal-header"},Xs={class:"modal-body"},Vs={class:"row"},Ks={class:"col-12 mb-3"},Os={class:"col-12 mb-3"},Bs={class:"row"},$s={class:"col-12 mb-3"},Qs={class:"form-check form-check-inline"},js={class:"form-check form-check-inline"},Gs={key:0,class:"row mb-3"},Js={class:"col-12"},Hs=["value"],qs={key:1,class:"row"},Ys={class:"col-12 mb-3"},zs={class:"form-check form-check-inline"},Zs={class:"form-check form-check-inline"},el={class:"col-md-6 mb-3"},tl={for:"institutionName",class:"form-label"},al=["placeholder"],sl={class:"col-md-6 mb-3"},ll={class:"col-md-6 mb-3"},nl=["value"],il={class:"col-md-6 mb-3"},ol={class:"col-12 mb-3"},rl={class:"col-md-6 mb-3"},cl={class:"col-md-6 mb-3"},dl={class:"col-md-6 mb-3"},ul={class:"col-md-6 mb-3"},ml={class:"col-md-6 mb-3"},vl={class:"col-md-6 mb-3"},pl={class:"modal-footer"},hl=["disabled"],bl={key:0,class:"spinner-border spinner-border-sm me-2"};function kl(e,t,a,i,o,r){const c=(0,l.g2)("EnhancedSearch");return(0,l.uX)(),(0,l.CE)("div",Pa,[(0,l.Lk)("div",Wa,[t[93]||(t[93]=(0,l.Fv)('<div class="row mb-4" data-v-a5ecd2c8><div class="col" data-v-a5ecd2c8><h1 class="display-4 text-center mb-3" data-v-a5ecd2c8><i class="bi bi-building text-primary me-3" data-v-a5ecd2c8></i> Chapters </h1><p class="lead text-center text-muted" data-v-a5ecd2c8> Manage university chapters across the network </p></div></div>',1)),(0,l.bF)(c,{chapters:i.allChapters,"available-states":i.availableStates,onSearch:i.handleSearch,onSearchResults:i.handleSearchResults,onFilterChange:i.handleFilterChange},null,8,["chapters","available-states","onSearch","onSearchResults","onFilterChange"]),(0,l.Lk)("div",Xa,[(0,l.Lk)("div",Va,[(0,l.Lk)("div",Ka,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.openAddModal&&i.openAddModal(...e)),class:"btn btn-primary me-3"},[...t[42]||(t[42]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.toggleView&&i.toggleView(...e)),class:"btn btn-outline-secondary me-3"},[(0,l.Lk)("i",{class:(0,n.C4)(["table"===i.currentView?"bi bi-grid-3x3-gap":"bi bi-table","me-2"])},null,2),(0,l.eW)(" "+(0,n.v_)("table"===i.currentView?"Card View":"Table View"),1)]),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.exportToCSV&&i.exportToCSV(...e)),class:"btn btn-outline-success"},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)(" Export CSV ",-1)])])])]),(0,l.Lk)("div",Oa,[(0,l.Lk)("div",Ba,[(0,l.Lk)("span",$a," Total: "+(0,n.v_)(i.filteredChapters.length),1),(0,l.Lk)("span",Qa," Active: "+(0,n.v_)(i.activeChapters),1),(0,l.Lk)("span",ja," Avg Health: "+(0,n.v_)(i.averageHealth)+"% ",1)])])]),i.loading?((0,l.uX)(),(0,l.CE)("div",Ga,[...t[44]||(t[44]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,l.Lk)("p",{class:"text-muted mt-2"},"Loading chapters...",-1)])])):i.error?((0,l.uX)(),(0,l.CE)("div",Ja,[t[46]||(t[46]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(i.error)+" ",1),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.loadChapters&&i.loadChapters(...e)),class:"btn btn-outline-danger btn-sm ms-2"},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Retry ",-1)])])])):"table"===i.currentView?((0,l.uX)(),(0,l.CE)("div",Ha,[(0,l.Lk)("table",qa,[(0,l.Lk)("thead",Ya,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{onClick:t[4]||(t[4]=e=>i.sortBy("name")),class:"sortable"},[t[47]||(t[47]=(0,l.eW)(" Name ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("name")])},null,2)]),(0,l.Lk)("th",{onClick:t[5]||(t[5]=e=>i.sortBy("university")),class:"sortable"},[t[48]||(t[48]=(0,l.eW)(" University ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("university")])},null,2)]),(0,l.Lk)("th",{onClick:t[6]||(t[6]=e=>i.sortBy("state")),class:"sortable"},[t[49]||(t[49]=(0,l.eW)(" State ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("state")])},null,2)]),(0,l.Lk)("th",{onClick:t[7]||(t[7]=e=>i.sortBy("memberCount")),class:"sortable"},[t[50]||(t[50]=(0,l.eW)(" Members ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("memberCount")])},null,2)]),(0,l.Lk)("th",{onClick:t[8]||(t[8]=e=>i.sortBy("healthScore")),class:"sortable"},[t[51]||(t[51]=(0,l.eW)(" Health ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("healthScore")])},null,2)]),(0,l.Lk)("th",{onClick:t[9]||(t[9]=e=>i.sortBy("status")),class:"sortable"},[t[52]||(t[52]=(0,l.eW)(" Status ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",i.getSortIcon("status")])},null,2)]),t[53]||(t[53]=(0,l.Lk)("th",null,"Actions",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"chapter-row"},[(0,l.Lk)("td",null,[(0,l.Lk)("div",za,[(0,l.Lk)("div",Za,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("strong",null,(0,n.v_)(e.name),1)])]),(0,l.Lk)("td",null,(0,n.v_)(e.university),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",es,(0,n.v_)(e.state),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ts,[t[54]||(t[54]=(0,l.Lk)("i",{class:"bi bi-people me-1 text-muted"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.memberCount||0),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:(0,n.C4)(["health-score",i.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",as,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)]),(0,l.Lk)("small",null,(0,n.v_)(e.healthScore||0)+"%",1)],2)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ss,[(0,l.Lk)("button",{onClick:t=>i.viewChapter(e),class:"btn btn-outline-primary",title:"View Details"},[...t[55]||(t[55]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,ls),(0,l.Lk)("button",{onClick:t=>i.editChapter(e),class:"btn btn-outline-secondary",title:"Edit Chapter"},[...t[56]||(t[56]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,ns),(0,l.Lk)("button",{onClick:t=>i.deleteChapter(e),class:"btn btn-outline-danger",title:"Delete Chapter"},[...t[57]||(t[57]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,is)])])]))),128))])]),i.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",os,[(0,l.Lk)("ul",rs,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,l.Lk)("button",{onClick:t[10]||(t[10]=e=>i.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,l.Lk)("button",{onClick:t[11]||(t[11]=e=>i.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===i.currentPage}])},[(0,l.Lk)("button",{onClick:t=>i.currentPage=e,class:"page-link"},(0,n.v_)(e),9,cs)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:i.currentPage===i.totalPages}])},[(0,l.Lk)("button",{onClick:t[12]||(t[12]=e=>i.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:i.currentPage===i.totalPages}])},[(0,l.Lk)("button",{onClick:t[13]||(t[13]=e=>i.currentPage=i.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",ds,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4 mb-4"},[(0,l.Lk)("div",us,[(0,l.Lk)("div",ms,[(0,l.Lk)("div",vs,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("div",ps,[(0,l.Lk)("h5",hs,(0,n.v_)(e.name),1),(0,l.Lk)("p",bs,(0,n.v_)(e.university),1),(0,l.Lk)("div",ks,[(0,l.Lk)("small",gs,[t[58]||(t[58]=(0,l.Lk)("i",{class:"bi bi-geo-alt me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),1)])]),(0,l.Lk)("div",ys,[(0,l.Lk)("div",Ls,[(0,l.Lk)("div",fs,[(0,l.Lk)("div",Cs,(0,n.v_)(e.memberCount||0),1),t[59]||(t[59]=(0,l.Lk)("div",{class:"stat-label"},"Members",-1))])]),(0,l.Lk)("div",ws,[(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ss,(0,n.v_)(e.healthScore||0)+"%",1),t[60]||(t[60]=(0,l.Lk)("div",{class:"stat-label"},"Health",-1))])])]),(0,l.Lk)("div",{class:(0,n.C4)(["health-score mb-3",i.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",Ts,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)])],2)]),(0,l.Lk)("div",As,[(0,l.Lk)("div",Is,[(0,l.Lk)("button",{onClick:t=>i.viewChapter(e),class:"btn btn-outline-primary"},[...t[61]||(t[61]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)(" View ",-1)])],8,Rs),(0,l.Lk)("button",{onClick:t=>i.editChapter(e),class:"btn btn-outline-secondary"},[...t[62]||(t[62]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)(" Edit ",-1)])],8,Ms),(0,l.Lk)("button",{onClick:t=>i.deleteChapter(e),class:"btn btn-outline-danger"},[...t[63]||(t[63]=[(0,l.Lk)("i",{class:"bi bi-trash me-1"},null,-1),(0,l.eW)(" Delete ",-1)])],8,xs)])])])]))),128)),i.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",Ds,[(0,l.Lk)("ul",Ns,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,l.Lk)("button",{onClick:t[14]||(t[14]=e=>i.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===i.currentPage}])},[(0,l.Lk)("button",{onClick:t[15]||(t[15]=e=>i.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===i.currentPage}])},[(0,l.Lk)("button",{onClick:t=>i.currentPage=e,class:"page-link"},(0,n.v_)(e),9,Fs)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:i.currentPage===i.totalPages}])},[(0,l.Lk)("button",{onClick:t[16]||(t[16]=e=>i.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:i.currentPage===i.totalPages}])},[(0,l.Lk)("button",{onClick:t[17]||(t[17]=e=>i.currentPage=i.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])),i.loading||i.error||0!==i.filteredChapters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",_s,[t[65]||(t[65]=(0,l.Lk)("i",{class:"bi bi-building display-1 text-muted"},null,-1)),t[66]||(t[66]=(0,l.Lk)("h3",{class:"text-muted mt-3"},"No chapters found",-1)),t[67]||(t[67]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your search criteria or add a new chapter.",-1)),(0,l.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>i.openAddModal&&i.openAddModal(...e)),class:"btn btn-primary"},[...t[64]||(t[64]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])])])),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:i.showAddModal}]),style:(0,n.Tr)({display:i.showAddModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Us,[(0,l.Lk)("div",Ps,[(0,l.Lk)("div",Ws,[t[68]||(t[68]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)(" Add New Chapter ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=(...e)=>i.closeModal&&i.closeModal(...e))})]),(0,l.Lk)("div",Xs,[(0,l.Lk)("form",{onSubmit:t[38]||(t[38]=(0,s.D$)((...e)=>i.saveChapter&&i.saveChapter(...e),["prevent"]))},[(0,l.Lk)("div",Vs,[t[71]||(t[71]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Chapter Information")],-1)),(0,l.Lk)("div",Ks,[t[69]||(t[69]=(0,l.Lk)("label",{for:"chapterName",class:"form-label"},"Chapter Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"chapterName","onUpdate:modelValue":t[20]||(t[20]=e=>i.chapterForm.name=e),required:"",placeholder:"e.g., Turning Point USA - University of Texas"},null,512),[[s.Jo,i.chapterForm.name]])]),(0,l.Lk)("div",Os,[t[70]||(t[70]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[21]||(t[21]=e=>i.chapterForm.description=e),rows:"3",placeholder:"Brief description of the chapter..."},null,512),[[s.Jo,i.chapterForm.description]])])]),(0,l.Lk)("div",Bs,[t[74]||(t[74]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Institution Association")],-1)),(0,l.Lk)("div",$s,[(0,l.Lk)("div",Qs,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"existingInstitution",value:"existing","onUpdate:modelValue":t[22]||(t[22]=e=>i.institutionOption=e)},null,512),[[s.XL,i.institutionOption]]),t[72]||(t[72]=(0,l.Lk)("label",{class:"form-check-label",for:"existingInstitution"}," Select Existing Institution ",-1))]),(0,l.Lk)("div",js,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"newInstitution",value:"new","onUpdate:modelValue":t[23]||(t[23]=e=>i.institutionOption=e)},null,512),[[s.XL,i.institutionOption]]),t[73]||(t[73]=(0,l.Lk)("label",{class:"form-check-label",for:"newInstitution"}," Add New Institution ",-1))])])]),"existing"===i.institutionOption?((0,l.uX)(),(0,l.CE)("div",Gs,[(0,l.Lk)("div",Js,[t[76]||(t[76]=(0,l.Lk)("label",{for:"existingInstitutionSelect",class:"form-label"},"Choose Institution *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"existingInstitutionSelect","onUpdate:modelValue":t[24]||(t[24]=e=>i.chapterForm.institutionId=e),required:""},[t[75]||(t[75]=(0,l.Lk)("option",{value:""},"Select an institution...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.institutions,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name)+" - "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),9,Hs))),128))],512),[[s.u1,i.chapterForm.institutionId]])])])):(0,l.Q3)("",!0),"new"===i.institutionOption?((0,l.uX)(),(0,l.CE)("div",qs,[(0,l.Lk)("div",Ys,[t[79]||(t[79]=(0,l.Lk)("label",{class:"form-label"},"Institution Type *",-1)),(0,l.Lk)("div",zs,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"university",value:"UNIVERSITY","onUpdate:modelValue":t[25]||(t[25]=e=>i.newInstitution.institutionType=e)},null,512),[[s.XL,i.newInstitution.institutionType]]),t[77]||(t[77]=(0,l.Lk)("label",{class:"form-check-label",for:"university"}," University ",-1))]),(0,l.Lk)("div",Zs,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"church",value:"CHURCH","onUpdate:modelValue":t[26]||(t[26]=e=>i.newInstitution.institutionType=e)},null,512),[[s.XL,i.newInstitution.institutionType]]),t[78]||(t[78]=(0,l.Lk)("label",{class:"form-check-label",for:"church"}," Church ",-1))])]),(0,l.Lk)("div",el,[(0,l.Lk)("label",tl,(0,n.v_)("UNIVERSITY"===i.newInstitution.institutionType?"University":"Church")+" Name *",1),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionName","onUpdate:modelValue":t[27]||(t[27]=e=>i.newInstitution.name=e),required:"",placeholder:"UNIVERSITY"===i.newInstitution.institutionType?"e.g., University of Texas at Austin":"e.g., First Baptist Church"},null,8,al),[[s.Jo,i.newInstitution.name]])]),(0,l.Lk)("div",sl,[t[80]||(t[80]=(0,l.Lk)("label",{for:"institutionCity",class:"form-label"},"City *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionCity","onUpdate:modelValue":t[28]||(t[28]=e=>i.newInstitution.city=e),required:"",placeholder:"e.g., Austin"},null,512),[[s.Jo,i.newInstitution.city]])]),(0,l.Lk)("div",ll,[t[82]||(t[82]=(0,l.Lk)("label",{for:"institutionState",class:"form-label"},"State *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"institutionState","onUpdate:modelValue":t[29]||(t[29]=e=>i.newInstitution.state=e),required:""},[t[81]||(t[81]=(0,l.Lk)("option",{value:""},"Select State",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.usStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,nl))),128))],512),[[s.u1,i.newInstitution.state]])]),(0,l.Lk)("div",il,[t[83]||(t[83]=(0,l.Lk)("label",{for:"institutionZipCode",class:"form-label"},"ZIP Code",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionZipCode","onUpdate:modelValue":t[30]||(t[30]=e=>i.newInstitution.zipCode=e),placeholder:"e.g., 78712"},null,512),[[s.Jo,i.newInstitution.zipCode]])]),(0,l.Lk)("div",ol,[t[84]||(t[84]=(0,l.Lk)("label",{for:"institutionAddress",class:"form-label"},"Address",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionAddress","onUpdate:modelValue":t[31]||(t[31]=e=>i.newInstitution.address=e),placeholder:"e.g., 110 Inner Campus Drive"},null,512),[[s.Jo,i.newInstitution.address]])]),"UNIVERSITY"===i.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",rl,[t[86]||(t[86]=(0,l.Lk)("label",{for:"universityType",class:"form-label"},"University Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"universityType","onUpdate:modelValue":t[32]||(t[32]=e=>i.newInstitution.universityType=e)},[...t[85]||(t[85]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Type</option><option value="Public" data-v-a5ecd2c8>Public</option><option value="Private" data-v-a5ecd2c8>Private</option><option value="Community College" data-v-a5ecd2c8>Community College</option><option value="Technical" data-v-a5ecd2c8>Technical</option>',5)])],512),[[s.u1,i.newInstitution.universityType]])]),(0,l.Lk)("div",cl,[t[87]||(t[87]=(0,l.Lk)("label",{for:"studentPopulation",class:"form-label"},"Student Population",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"studentPopulation","onUpdate:modelValue":t[33]||(t[33]=e=>i.newInstitution.studentPopulation=e),placeholder:"e.g., 40000"},null,512),[[s.Jo,i.newInstitution.studentPopulation]])])],64)):(0,l.Q3)("",!0),"CHURCH"===i.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("div",dl,[t[89]||(t[89]=(0,l.Lk)("label",{for:"denomination",class:"form-label"},"Denomination",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"denomination","onUpdate:modelValue":t[34]||(t[34]=e=>i.newInstitution.denomination=e)},[...t[88]||(t[88]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Denomination</option><option value="Baptist" data-v-a5ecd2c8>Baptist</option><option value="Methodist" data-v-a5ecd2c8>Methodist</option><option value="Presbyterian" data-v-a5ecd2c8>Presbyterian</option><option value="Catholic" data-v-a5ecd2c8>Catholic</option><option value="Lutheran" data-v-a5ecd2c8>Lutheran</option><option value="Episcopal" data-v-a5ecd2c8>Episcopal</option><option value="Pentecostal" data-v-a5ecd2c8>Pentecostal</option><option value="Non-denominational" data-v-a5ecd2c8>Non-denominational</option><option value="Other" data-v-a5ecd2c8>Other</option>',10)])],512),[[s.u1,i.newInstitution.denomination]])]),(0,l.Lk)("div",ul,[t[90]||(t[90]=(0,l.Lk)("label",{for:"pastorName",class:"form-label"},"Pastor Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"pastorName","onUpdate:modelValue":t[35]||(t[35]=e=>i.newInstitution.pastorName=e),placeholder:"e.g., Pastor John Smith"},null,512),[[s.Jo,i.newInstitution.pastorName]])]),(0,l.Lk)("div",ml,[t[91]||(t[91]=(0,l.Lk)("label",{for:"membershipSize",class:"form-label"},"Membership Size",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"membershipSize","onUpdate:modelValue":t[36]||(t[36]=e=>i.newInstitution.membershipSize=e),placeholder:"e.g., 500"},null,512),[[s.Jo,i.newInstitution.membershipSize]])]),(0,l.Lk)("div",vl,[t[92]||(t[92]=(0,l.Lk)("label",{for:"website",class:"form-label"},"Website",-1)),(0,l.bo)((0,l.Lk)("input",{type:"url",class:"form-control",id:"website","onUpdate:modelValue":t[37]||(t[37]=e=>i.newInstitution.website=e),placeholder:"e.g., https://church.org"},null,512),[[s.Jo,i.newInstitution.website]])])],64)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],32)]),(0,l.Lk)("div",pl,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[39]||(t[39]=(...e)=>i.closeModal&&i.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[40]||(t[40]=(...e)=>i.saveChapter&&i.saveChapter(...e)),disabled:i.saving},[i.saving?((0,l.uX)(),(0,l.CE)("span",bl)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(i.saving?"Creating...":"Create Chapter"),1)],8,hl)])])])],6),i.showAddModal?((0,l.uX)(),(0,l.CE)("div",{key:5,class:"modal-backdrop fade show",onClick:t[41]||(t[41]=(...e)=>i.closeModal&&i.closeModal(...e))})):(0,l.Q3)("",!0)])])}const gl=[{id:1,name:"University of California - Berkeley",university:"UC Berkeley",state:"California",city:"Berkeley",active:!0,foundedDate:"2020-09-01",memberCount:45,healthScore:85,lastActivity:"2024-10-15",description:"Leading innovation in the Bay Area with a focus on technology and entrepreneurship."},{id:2,name:"Harvard University",university:"Harvard University",state:"Massachusetts",city:"Cambridge",active:!0,foundedDate:"2019-08-15",memberCount:67,healthScore:92,lastActivity:"2024-10-16",description:"Prestigious chapter focusing on leadership development and academic excellence."},{id:3,name:"University of Texas - Austin",university:"UT Austin",state:"Texas",city:"Austin",active:!0,foundedDate:"2021-01-20",memberCount:38,healthScore:78,lastActivity:"2024-10-14",description:"Dynamic chapter promoting innovation and community engagement in the heart of Texas."},{id:4,name:"Stanford University",university:"Stanford University",state:"California",city:"Stanford",active:!0,foundedDate:"2020-02-10",memberCount:52,healthScore:88,lastActivity:"2024-10-17",description:"Silicon Valley chapter at the forefront of technology and entrepreneurship."},{id:5,name:"University of Florida",university:"University of Florida",state:"Florida",city:"Gainesville",active:!1,foundedDate:"2021-03-05",memberCount:23,healthScore:45,lastActivity:"2024-09-20",description:"Growing chapter with focus on community service and leadership development."}],yl={async getAllChapters(){console.log("🔍 SERVICE DEBUG: getAllChapters() called");try{const t=await ha.A.get("/chapters");console.log("🔍 SERVICE DEBUG: API response:",t);let a=t.data;if("string"===typeof a)try{a=JSON.parse(a),console.log("🔍 SERVICE DEBUG: Parsed JSON string data:",a)}catch(e){return console.error("🔍 SERVICE DEBUG: Failed to parse JSON string:",e),console.warn("🔍 SERVICE DEBUG: Using mock data due to parse error"),gl}return a&&Array.isArray(a)?(console.log("🔍 SERVICE DEBUG: Returning API data:",a.length,"chapters"),a):Array.isArray(t)?(console.log("🔍 SERVICE DEBUG: Returning direct response:",t.length,"chapters"),t):(console.warn("🔍 SERVICE DEBUG: Unexpected API response format, using mock data"),console.warn("🔍 SERVICE DEBUG: Expected array, got:",typeof a,a),gl)}catch(t){return console.warn("Backend not available, using mock data:",t.message),console.log("🔍 SERVICE DEBUG: Returning mock chapters:",gl.length,"items"),gl}},async getChapterById(e){try{const t=await ha.A.get(`/chapters/${e}`);return t.data}catch(t){throw t}},async createChapter(e){try{const t=await ha.A.post("/chapters",e);return t.data}catch(t){throw t}},async updateChapter(e,t){try{const a=await ha.A.put(`/chapters/${e}`,t);return a.data}catch(a){throw a}},async deleteChapter(e){try{return await ha.A.delete(`/chapters/${e}`),!0}catch(t){throw t}},async searchChapters(e){try{const t=await ha.A.get("/chapters/search",{params:e});return t.data}catch(t){throw t}},async getChaptersByState(e){try{const t=await ha.A.get(`/chapters/state/${e}`);return t.data}catch(t){throw t}},async createChapterWithInstitution(e){try{const t=await ha.A.post("/chapters/with-institution",e);return t.data}catch(t){throw t}},async getAllInstitutions(){try{const e=await ha.A.get("/chapters/institutions");return e.data}catch(e){throw e}},async getAllUniversities(){try{const e=await ha.A.get("/chapters/institutions/universities");return e.data}catch(e){throw e}},async getAllChurches(){try{const e=await ha.A.get("/chapters/institutions/churches");return e.data}catch(e){throw e}},async searchInstitutions(e){try{const t=await ha.A.get("/chapters/institutions/search",{params:{query:e}});return t.data}catch(t){throw t}}};var Ll=yl;const fl=[{id:1,firstName:"Alice",lastName:"Johnson",email:"alice.johnson@berkeley.edu",username:"alicej",chapterId:1,role:"PRESIDENT",active:!0,graduationYear:2025,major:"Computer Science",phoneNumber:"(555) 123-4567"},{id:2,firstName:"Bob",lastName:"Smith",email:"bob.smith@harvard.edu",username:"bobsmith",chapterId:2,role:"VICE_PRESIDENT",active:!0,graduationYear:2024,major:"Business Administration",phoneNumber:"(555) 234-5678"},{id:3,firstName:"Carol",lastName:"Davis",email:"carol.davis@utexas.edu",username:"carold",chapterId:3,role:"MEMBER",active:!0,graduationYear:2026,major:"Engineering",phoneNumber:"(555) 345-6789"}],Cl={async getAllMembers(){try{const e=await ha.A.get("/members");return e.data}catch(e){return console.warn("Backend not available, using mock member data:",e.message),fl}},async getMemberById(e){try{const t=await ha.A.get(`/members/${e}`);return t.data}catch(t){throw t}},async getMembersByChapter(e){try{const t=await ha.A.get(`/members/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveMembersByChapter(e){try{const t=await ha.A.get(`/members/chapter/${e}/active`);return t.data}catch(t){throw t}},async getMembersByRole(e,t){try{const a=await ha.A.get(`/members/chapter/${e}/role/${t}`);return a.data}catch(a){throw a}},async getChapterOfficers(e){try{const t=await ha.A.get(`/members/chapter/${e}/officers`);return t.data}catch(t){throw t}},async getChapterPresident(e){try{const t=await ha.A.get(`/members/chapter/${e}/president`);return t.data}catch(t){throw t}},async createMember(e){try{const t=await ha.A.post("/members",e);return t.data}catch(t){throw t}},async updateMember(e,t){const a={firstName:t.firstName,lastName:t.lastName,email:t.email,phoneNumber:t.phoneNumber||null,major:t.major||null,graduationYear:t.graduationYear||null,role:t.role,active:void 0===t.active||t.active,chapterId:t.chapter?t.chapter.id:null};console.log("🔍 Updating member with flexible request:",a);try{const t=await ha.A.put(`/members/${e}/flexible`,a);return t.data}catch(s){console.error("❌ Flexible member update failed, trying original endpoint:",s);try{const t=await ha.A.put(`/members/${e}`,a);return t.data}catch(l){throw console.error("❌ Both endpoints failed:",l),l}}},async updateMemberRole(e,t){try{const a=await ha.A.put(`/members/${e}/role`,{role:t});return a.data}catch(a){throw a}},async deleteMember(e){try{return await ha.A.delete(`/members/${e}`),!0}catch(t){throw t}},async activateMember(e){try{const t=await ha.A.put(`/members/${e}/activate`);return t.data}catch(t){throw t}},async getMemberCount(e){try{const t=await ha.A.get(`/members/chapter/${e}/count`);return t.data}catch(t){throw t}}};const wl={class:"search-input-container position-relative"},El={class:"input-group"},Sl={class:"alert alert-info mt-2"},Tl={key:0},Al=["onClick"],Il={class:"flex-grow-1"},Rl={class:"text-muted ms-2"},Ml={key:1},xl={key:0,class:"dropdown-divider"},Dl=["onClick"],Nl={class:"flex-grow-1"},Fl=["onClick"],_l={key:2},Ul={class:"mt-3"},Pl={key:0,class:"advanced-filters mt-3"},Wl={class:"card"},Xl={class:"card-body"},Vl={class:"row g-3"},Kl={class:"col-md-6 col-lg-3"},Ol=["value"],Bl={class:"col-md-6 col-lg-3"},$l={class:"col-md-6 col-lg-3"},Ql={class:"form-label fw-semibold"},jl={class:"d-flex gap-2"},Gl={class:"col-md-6 col-lg-3"},Jl={class:"col-md-6 col-lg-3"},Hl={class:"col-md-6 col-lg-3"},ql={class:"form-label fw-semibold"},Yl={class:"d-flex align-items-center gap-2"},zl={class:"row mt-3"},Zl={class:"col-12"},en={class:"d-flex gap-2 flex-wrap"},tn={key:1,class:"active-filters mt-3"},an={class:"d-flex align-items-center flex-wrap gap-2"},sn=["onClick","title"],ln={key:2,class:"saved-searches mt-3"},nn={class:"d-flex flex-wrap gap-2"},on=["onClick","title"],rn=["onClick"];function cn(e,t,a,i,o,r){return(0,l.uX)(),(0,l.CE)("div",{class:"advanced-search-component",tabindex:"0",onKeydown:t[27]||(t[27]=(...e)=>i.containerKeydown&&i.containerKeydown(...e)),ref:"searchContainer"},[(0,l.Lk)("div",wl,[(0,l.Lk)("div",El,[t[29]||(t[29]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"searchInput",type:"text",class:"form-control",placeholder:"Search chapters, universities, cities, or states...","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>i.handleSearchInput&&i.handleSearchInput(...e)),onKeydown:t[2]||(t[2]=(...e)=>i.handleKeydown&&i.handleKeydown(...e)),onKeyup:t[3]||(t[3]=(...e)=>i.handleKeyup&&i.handleKeyup(...e)),onFocus:t[4]||(t[4]=e=>{i.showSuggestions=!0,console.log("🎯 INPUT FOCUSED - suggestions should show, showSuggestions will be:",!0)}),onBlur:t[5]||(t[5]=e=>{console.log("😴 INPUT BLURRED - hiding suggestions in 100ms"),i.hideSuggestionsDelayed}),autocomplete:"off"},null,544),[[s.Jo,i.searchQuery]]),i.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[6]||(t[6]=(...e)=>i.clearSearch&&i.clearSearch(...e)),title:"Clear search"},[...t[28]||(t[28]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-outline-info",type:"button",onClick:t[7]||(t[7]=e=>i.showSuggestions=!i.showSuggestions),title:"Toggle suggestions (debug)"},(0,n.v_)(i.showSuggestions?"Hide":"Show"),1),(0,l.Lk)("button",{class:"btn btn-outline-warning",type:"button",onClick:t[8]||(t[8]=(...e)=>i.closeSuggestions&&i.closeSuggestions(...e)),title:"Test close function"}," Test Close ")]),(0,l.Lk)("div",Sl,[(0,l.Lk)("small",null,[t[30]||(t[30]=(0,l.Lk)("strong",null,"Debug Info:",-1)),(0,l.eW)(" showSuggestions: "+(0,n.v_)(i.showSuggestions)+" | selectedIndex: "+(0,n.v_)(i.selectedSuggestionIndex)+' | searchQuery: "'+(0,n.v_)(i.searchQuery)+'" ',1)])]),i.showSuggestions&&(i.filteredSuggestions.length>0||i.recentSearches.length,1)?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"search-suggestions dropdown-menu show position-absolute w-100 mt-1",style:{"max-height":"300px","overflow-y":"auto","z-index":"1050"},onMousedown:t[11]||(t[11]=(0,s.D$)(()=>{},["prevent"]))},[i.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("div",Tl,[t[31]||(t[31]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)(" Suggestions ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.filteredSuggestions.slice(0,8),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`suggestion-${a}`,class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:i.selectedSuggestionIndex===a}]),onClick:(0,s.D$)(t=>i.selectSuggestion(e),["stop"]),onMousedown:t[9]||(t[9]=(0,s.D$)(()=>{},["prevent"]))},[(0,l.Lk)("i",{class:(0,n.C4)([i.getSuggestionIcon(e.type),"me-2"])},null,2),(0,l.Lk)("span",Il,(0,n.v_)(e.text),1),(0,l.Lk)("small",Rl,(0,n.v_)(e.type),1)],42,Al))),128))])):(0,l.Q3)("",!0),i.recentSearches.length>0?((0,l.uX)(),(0,l.CE)("div",Ml,[i.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("hr",xl)):(0,l.Q3)("",!0),t[34]||(t[34]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-clock-history me-2"}),(0,l.eW)(" Recent Searches ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.recentSearches.slice(0,5),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`recent-${a}`,class:"dropdown-item d-flex align-items-center",onClick:(0,s.D$)(t=>i.selectRecentSearch(e),["stop"]),onMousedown:t[10]||(t[10]=(0,s.D$)(()=>{},["prevent"]))},[t[33]||(t[33]=(0,l.Lk)("i",{class:"bi bi-clock me-2"},null,-1)),(0,l.Lk)("span",Nl,(0,n.v_)(e.query),1),(0,l.Lk)("button",{class:"btn btn-sm btn-link text-muted p-0 ms-2",onClick:(0,s.D$)(e=>i.removeRecentSearch(a),["stop"]),title:"Remove"},[...t[32]||(t[32]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)])],8,Fl)],40,Dl))),128))])):(0,l.Q3)("",!0),0===i.filteredSuggestions.length&&0===i.recentSearches.length?((0,l.uX)(),(0,l.CE)("div",_l,[...t[35]||(t[35]=[(0,l.Lk)("div",{class:"dropdown-item-text text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" Suggestions dropdown is visible - Press Escape to close ")],-1)])])):(0,l.Q3)("",!0)],32)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ul,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-secondary btn-sm",{active:i.showAdvancedFilters}]),onClick:t[12]||(t[12]=e=>i.showAdvancedFilters=!i.showAdvancedFilters)},[t[36]||(t[36]=(0,l.Lk)("i",{class:"bi bi-sliders me-2"},null,-1)),t[37]||(t[37]=(0,l.eW)(" Advanced Filters ",-1)),(0,l.Lk)("i",{class:(0,n.C4)([i.showAdvancedFilters?"bi bi-chevron-up":"bi bi-chevron-down","ms-2"])},null,2)],2)]),i.showAdvancedFilters?((0,l.uX)(),(0,l.CE)("div",Pl,[(0,l.Lk)("div",Wl,[(0,l.Lk)("div",Xl,[(0,l.Lk)("div",Vl,[(0,l.Lk)("div",Kl,[t[39]||(t[39]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.filters.state=e),class:"form-select"},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.availableStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Ol))),128))],512),[[s.u1,i.filters.state]])]),(0,l.Lk)("div",Bl,[t[40]||(t[40]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"City",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.filters.city=e),type:"text",class:"form-control",placeholder:"Enter city name"},null,512),[[s.Jo,i.filters.city]])]),(0,l.Lk)("div",$l,[(0,l.Lk)("label",Ql," Health Score: "+(0,n.v_)(i.filters.healthScoreMin)+"-"+(0,n.v_)(i.filters.healthScoreMax),1),(0,l.Lk)("div",jl,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>i.filters.healthScoreMin=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,i.filters.healthScoreMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.filters.healthScoreMax=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,i.filters.healthScoreMax,void 0,{number:!0}]])])]),(0,l.Lk)("div",Gl,[t[42]||(t[42]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.filters.active=e),class:"form-select"},[...t[41]||(t[41]=[(0,l.Lk)("option",{value:""},"All Chapters",-1),(0,l.Lk)("option",{value:"true"},"Active Only",-1),(0,l.Lk)("option",{value:"false"},"Inactive Only",-1)])],512),[[s.u1,i.filters.active]])]),(0,l.Lk)("div",Jl,[t[43]||(t[43]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Founded After",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>i.filters.foundedAfter=e),type:"date",class:"form-control"},null,512),[[s.Jo,i.filters.foundedAfter]])]),(0,l.Lk)("div",Hl,[(0,l.Lk)("label",ql," Min Members: "+(0,n.v_)(i.filters.memberCountMin),1),(0,l.Lk)("div",Yl,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>i.filters.memberCountMin=e),type:"range",class:"form-range flex-grow-1",min:"0",max:"500",step:"1",onInput:t[20]||(t[20]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,i.filters.memberCountMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>i.filters.memberCountMin=e),type:"number",class:"form-control",style:{width:"70px"},min:"0",max:"500",step:"1",onInput:t[22]||(t[22]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,i.filters.memberCountMin,void 0,{number:!0}]])])])]),(0,l.Lk)("div",zl,[(0,l.Lk)("div",Zl,[(0,l.Lk)("div",en,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[23]||(t[23]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-funnel me-1"},null,-1),(0,l.eW)(" Apply Filters ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[24]||(t[24]=(...e)=>i.clearAllFilters&&i.clearAllFilters(...e))},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-x-circle me-1"},null,-1),(0,l.eW)(" Clear All ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:t[25]||(t[25]=(...e)=>i.saveCurrentSearch&&i.saveCurrentSearch(...e))},[...t[46]||(t[46]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])])])])):(0,l.Q3)("",!0),i.hasActiveFilters?((0,l.uX)(),(0,l.CE)("div",tn,[(0,l.Lk)("div",an,[t[47]||(t[47]=(0,l.Lk)("span",{class:"text-muted fw-semibold"},"Active filters:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.activeFiltersList,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary d-flex align-items-center gap-1"},[(0,l.eW)((0,n.v_)(e.label)+" ",1),(0,l.Lk)("button",{class:"btn-close btn-close-white",style:{"font-size":"0.7em"},onClick:t=>i.removeFilter(e.key),title:`Remove ${e.label}`},null,8,sn)]))),128)),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[26]||(t[26]=(...e)=>i.clearAllFilters&&i.clearAllFilters(...e))}," Clear All ")])])):(0,l.Q3)("",!0),i.savedSearches.length>0?((0,l.uX)(),(0,l.CE)("div",ln,[t[49]||(t[49]=(0,l.Lk)("h6",{class:"fw-semibold mb-2"},[(0,l.Lk)("i",{class:"bi bi-bookmarks me-2"}),(0,l.eW)(" Saved Searches ")],-1)),(0,l.Lk)("div",nn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.savedSearches,(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`saved-${a}`,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-2",onClick:t=>i.loadSavedSearch(e),title:e.description},[t[48]||(t[48]=(0,l.Lk)("i",{class:"bi bi-bookmark"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.name)+" ",1),(0,l.Lk)("button",{class:"btn-close",style:{"font-size":"0.6em"},onClick:(0,s.D$)(e=>i.removeSavedSearch(a),["stop"])},null,8,rn)],8,on))),128))])])):(0,l.Q3)("",!0),t[50]||(t[50]=(0,l.Lk)("div",{class:"keyboard-shortcuts mt-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-keyboard me-1"}),(0,l.Lk)("strong",null,"Shortcuts:"),(0,l.Lk)("kbd",null,"Ctrl+K"),(0,l.eW)(" Focus search • "),(0,l.Lk)("kbd",null,"↑/↓"),(0,l.eW)(" Navigate suggestions • "),(0,l.Lk)("kbd",null,"Enter"),(0,l.eW)(" Select • "),(0,l.Lk)("kbd",null,"Esc"),(0,l.eW)(" Close ")])],-1))],544)}class dn{async globalSearch(e,t={},a={}){try{const s=new URLSearchParams;e&&s.append("query",e),t.states?.length&&s.append("states",t.states.join(",")),t.statuses?.length&&s.append("statuses",t.statuses.join(",")),t.minMembers&&s.append("minMembers",t.minMembers),t.maxMembers&&s.append("maxMembers",t.maxMembers),t.minHealthScore&&s.append("minHealthScore",t.minHealthScore),t.maxHealthScore&&s.append("maxHealthScore",t.maxHealthScore),a.page&&s.append("page",a.page),a.size&&s.append("size",a.size);const l=await ha.A.get(`/search/global?${s.toString()}`);return l.data}catch(s){throw console.error("Error performing global search:",s),s}}async getRecommendations(e,t=5){try{const a=new URLSearchParams;e&&a.append("memberId",e),t&&a.append("limit",t);const s=await ha.A.get(`/search/recommendations?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting recommendations:",a),a}}async getSimilarChapters(e,t=5){try{const a=new URLSearchParams;t&&a.append("limit",t);const s=await ha.A.get(`/search/similar/${e}?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting similar chapters:",a),a}}async getSuggestions(e){try{const t=await ha.A.get(`/search/suggestions?partial=${encodeURIComponent(e)}`);return t.data}catch(t){throw console.error("Error getting search suggestions:",t),t}}async getTrendingChapters(e=10){try{const t=await ha.A.get(`/search/trending?limit=${e}`);return t.data}catch(t){throw console.error("Error getting trending chapters:",t),t}}async facetedSearch(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,a])=>{a&&t.append(e,a)});const a=await ha.A.get(`/search/faceted?${t.toString()}`);return a.data}catch(t){throw console.error("Error performing faceted search:",t),t}}async geographicSearch(e,t,a=50,s=10){try{const l=new URLSearchParams({latitude:e.toString(),longitude:t.toString(),radiusKm:a.toString(),limit:s.toString()}),n=await ha.A.get(`/search/geographic?${l.toString()}`);return n.data}catch(l){throw console.error("Error performing geographic search:",l),l}}async getSavedSearches(e){try{return[]}catch(t){throw console.error("Error getting saved searches:",t),t}}async saveSearch(e,t,a){try{return{success:!0,message:"Search saved successfully"}}catch(s){throw console.error("Error saving search:",s),s}}debounce(e,t){let a;return function(...s){const l=()=>{clearTimeout(a),e(...s)};clearTimeout(a),a=setTimeout(l,t)}}}var un=new dn,mn={name:"EnhancedSearch",props:{chapters:{type:Array,default:()=>[]},availableStates:{type:Array,default:()=>[]}},emits:["search","filter-change","search-results"],setup(e,{emit:t}){const a=(0,x.KR)(""),s=(0,x.KR)(!1),n=(0,x.KR)(!1),i=(0,x.KR)(-1),o=(0,x.KR)(null),r=(0,x.KR)(null),c=(0,x.KR)(!1),d=(0,x.KR)({state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""}),u=(0,x.KR)([]),m=(0,x.KR)([]),v=(0,x.KR)([]),p=(0,x.KR)([]),h=(0,x.KR)([]),b=(0,x.KR)(null),k=(0,x.KR)(null),g=(0,x.KR)(null);(0,l.sV)(()=>{console.log("🚀 EnhancedSearch component MOUNTED successfully"),L(),H(),y(),C(),w(),console.log("✅ Enhanced Search component setup complete - ESC key handling initialized")}),(0,l.hi)(()=>{q(),console.log("Enhanced Search component unmounted")});const y=()=>{k.value=un.debounce(E,500),g.value=un.debounce(f,300)},L=()=>{const e=localStorage.getItem("recentSearches"),t=localStorage.getItem("savedSearches");e&&(u.value=JSON.parse(e)),t&&(m.value=JSON.parse(t))},f=async()=>{if(a.value.length<2)v.value=[];else try{const e=await un.getSuggestions(a.value);v.value=e.map(e=>({type:"smart",text:e,value:e}))}catch(e){console.error("Error fetching smart suggestions:",e),v.value=[]}},C=async()=>{try{p.value=await un.getRecommendations(null,3)}catch(e){console.error("Error loading recommendations:",e)}},w=async()=>{try{h.value=await un.getTrendingChapters(5)}catch(e){console.error("Error loading trending chapters:",e)}},E=async()=>{if(!a.value.trim()&&!I.value)return b.value=null,void t("search-results",null);c.value=!0;try{const e={states:d.value.state?[d.value.state]:[],statuses:d.value.active?["true"===d.value.active?"Active":"Inactive"]:[],minMembers:d.value.memberCountMin>0?d.value.memberCountMin:null,maxMembers:null,minHealthScore:d.value.healthScoreMin>0?d.value.healthScoreMin:null,maxHealthScore:d.value.healthScoreMax<100?d.value.healthScoreMax:null},s=await un.globalSearch(a.value.trim(),e,{page:0,size:20});b.value=s,t("search-results",s),t("search",{query:a.value,...d.value,results:s})}catch(e){console.error("Error performing backend search:",e),S()}finally{c.value=!1}},S=()=>{const e={query:a.value,...d.value};a.value&&$(a.value),t("search",e)},T=(0,l.EW)(()=>{if(!a.value||a.value.length<2)return v.value;const t=a.value.toLowerCase(),s=[];e.chapters.forEach(e=>{e.name.toLowerCase().includes(t)&&s.push({type:"chapter",text:e.name,value:e.name})});const l=[...new Set(e.chapters.map(e=>e.universityName))];l.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"university",text:e,value:e})}),e.availableStates.forEach(e=>{e.toLowerCase().includes(t)&&s.push({type:"state",text:e,value:e})});const n=[...new Set(e.chapters.map(e=>e.city))];n.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"city",text:e,value:e})});const i=[...v.value,...s],o=i.filter((e,t,a)=>t===a.findIndex(t=>t.text===e.text));return o.slice(0,12)}),A=e=>{const t={chapter:"bi bi-building",university:"bi bi-mortarboard",state:"bi bi-geo-alt",city:"bi bi-geo",smart:"bi bi-lightbulb"};return t[e]||"bi bi-search"},I=(0,l.EW)(()=>a.value||d.value.state||d.value.city||d.value.healthScoreMin>0||d.value.healthScoreMax<100||d.value.memberCountMin>0||d.value.active||d.value.foundedAfter),R=(0,l.EW)(()=>{const e=[];return a.value&&e.push({key:"search",label:`Search: "${a.value}"`}),d.value.state&&e.push({key:"state",label:`State: ${d.value.state}`}),d.value.city&&e.push({key:"city",label:`City: ${d.value.city}`}),(d.value.healthScoreMin>0||d.value.healthScoreMax<100)&&e.push({key:"healthScore",label:`Health: ${d.value.healthScoreMin}-${d.value.healthScoreMax}`}),d.value.memberCountMin>0&&e.push({key:"memberCount",label:`Min Members: ${d.value.memberCountMin}`}),d.value.active&&e.push({key:"active",label:"Status: "+("true"===d.value.active?"Active":"Inactive")}),d.value.foundedAfter&&e.push({key:"foundedAfter",label:`Founded after: ${d.value.foundedAfter}`}),e}),M=()=>{i.value=-1,g.value&&g.value(),k.value&&k.value()},D=e=>{if(console.log("🔥 KEYDOWN EVENT FIRED:",e.key,"showSuggestions:",s.value),s.value&&console.log("INPUT handleKeydown:",e.key,"code:",e.code),"Escape"===e.key)return console.log("🚨 ESCAPE KEY DETECTED in handleKeydown!"),e.preventDefault(),e.stopPropagation(),void N();if(!s.value)return;const t=T.value.length+u.value.length;switch(e.key){case"ArrowDown":console.log("Arrow down pressed"),e.preventDefault(),i.value=Math.min(i.value+1,t-1);break;case"ArrowUp":console.log("Arrow up pressed"),e.preventDefault(),i.value=Math.max(i.value-1,-1);break;case"Enter":if(console.log("Enter pressed"),e.preventDefault(),i.value>=0)if(i.value<T.value.length)U(T.value[i.value]);else{const e=i.value-T.value.length;P(u.value[e])}break}},N=()=>{console.log("🎯 CLOSING SUGGESTIONS - showSuggestions was:",s.value),s.value=!1,i.value=-1,console.log("🎯 CLOSED SUGGESTIONS - showSuggestions now:",s.value)},F=e=>{},_=e=>{console.log("Container keydown:",e.key,"showSuggestions:",s.value),"Escape"===e.key&&s.value&&(console.log("CONTAINER: Escape key detected as backup!"),e.preventDefault(),e.stopPropagation(),N())},U=e=>{a.value=e.text,N(),$(e.text),E(),(0,l.dY)(()=>{o.value&&o.value.focus()})},P=e=>{a.value=e.query,N(),E(),(0,l.dY)(()=>{o.value&&o.value.focus()})},W=()=>{console.log("⏰ HIDING SUGGESTIONS IN 100ms..."),setTimeout(()=>{console.log("💤 TIMEOUT EXECUTED - calling closeSuggestions()"),N()},100)},X=()=>{N()},V=()=>{a.value="",E()},K=()=>{E(),t("filter-change",d.value)},O=()=>{a.value="",d.value={state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""},E()},B=e=>{switch(e){case"search":a.value="";break;case"state":d.value.state="";break;case"city":d.value.city="";break;case"healthScore":d.value.healthScoreMin=0,d.value.healthScoreMax=100;break;case"memberCount":d.value.memberCountMin=0;break;case"active":d.value.active="";break;case"foundedAfter":d.value.foundedAfter="";break}E()},$=e=>{if(!e.trim())return;const t=u.value.findIndex(t=>t.query===e);t>=0&&u.value.splice(t,1),u.value.unshift({query:e,timestamp:Date.now()}),u.value=u.value.slice(0,10),localStorage.setItem("recentSearches",JSON.stringify(u.value))},Q=e=>{u.value.splice(e,1),localStorage.setItem("recentSearches",JSON.stringify(u.value))},j=async()=>{if(!I.value)return void alert("No active filters to save!");const e=prompt("Enter a name for this search:");if(e)try{const t={query:a.value,filters:d.value};await un.saveSearch(null,e,t);const s={name:e,query:a.value,filters:{...d.value},timestamp:Date.now(),description:R.value.map(e=>e.label).join(", ")};m.value.push(s),localStorage.setItem("savedSearches",JSON.stringify(m.value))}catch(t){console.error("Error saving search:",t),alert("Failed to save search. Please try again.")}},G=e=>{a.value=e.query,d.value={...e.filters},E()},J=e=>{m.value.splice(e,1),localStorage.setItem("savedSearches",JSON.stringify(m.value))},H=()=>{document.addEventListener("keydown",Y)},q=()=>{document.removeEventListener("keydown",Y)},Y=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),o.value?.focus()),"Escape"===e.key&&s.value&&(console.log("Global Escape detected as final backup, showSuggestions:",s.value),setTimeout(()=>{s.value&&(console.log("Global Escape executing closure after timeout"),N())},0))};return(0,l.wB)(d,()=>{I.value&&k.value&&k.value()},{deep:!0}),{searchQuery:a,showSuggestions:s,showAdvancedFilters:n,selectedSuggestionIndex:i,searchInput:o,searchContainer:r,isSearching:c,filters:d,recentSearches:u,savedSearches:m,smartSuggestions:v,recommendations:p,trendingChapters:h,searchResults:b,filteredSuggestions:T,hasActiveFilters:I,activeFiltersList:R,getSuggestionIcon:A,handleSearchInput:M,handleKeydown:D,handleKeyup:F,containerKeydown:_,closeSuggestions:N,selectSuggestion:U,selectRecentSearch:P,hideSuggestionsDelayed:W,hideSuggestionsImmediately:X,clearSearch:V,applyFilters:K,clearAllFilters:O,removeFilter:B,removeRecentSearch:Q,saveCurrentSearch:j,loadSavedSearch:G,removeSavedSearch:J,performBackendSearch:E,loadRecommendations:C,loadTrendingChapters:w}}};const vn=(0,U.A)(mn,[["render",cn],["__scopeId","data-v-26f540b9"]]);var pn=vn,hn={name:"Chapters",components:{EnhancedSearch:pn},setup(){const e=(0,x.KR)([]),t=(0,x.KR)([]),a=(0,x.KR)([]),s=(0,x.KR)(!0),n=(0,x.KR)(null),i=(0,x.KR)(""),o=(0,x.KR)(""),r=(0,x.KR)(""),c=(0,x.KR)("table"),d=(0,x.KR)(null),u=(0,x.KR)(1),m=(0,x.KR)(10),v=(0,x.KR)("name"),p=(0,x.KR)("asc"),h=(0,x.KR)(!1),b=(0,x.KR)(!1),k=(0,x.KR)([]),g=(0,x.KR)("existing"),y=(0,x.KR)({name:"",description:"",institutionId:null}),L=(0,x.KR)({institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""}),f=(0,x.KR)(["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]),C=(0,l.EW)(()=>{const t=[...new Set(e.value.map(e=>e.state).filter(Boolean))];return t.sort()}),w=(0,l.EW)(()=>a.value.filter(e=>"Active"===e.status).length),E=(0,l.EW)(()=>{if(0===a.value.length)return 0;const e=a.value.reduce((e,t)=>e+(t.healthScore||0),0);return Math.round(e/a.value.length)}),S=(0,l.EW)(()=>{const e=(u.value-1)*m.value,t=e+m.value;return a.value.slice(e,t)}),T=(0,l.EW)(()=>Math.ceil(a.value.length/m.value)),A=async()=>{try{s.value=!0,n.value=null,console.log("Loading chapters from chapter service...");const l=await Ll.getAllChapters();console.log("Chapters response:",l);let i=l;l&&l.data&&Array.isArray(l.data)?i=l.data:Array.isArray(l)?i=l:(console.warn("Unexpected response format:",l),i=[]),e.value=i,t.value=[...i],console.log(`Loaded ${e.value.length} chapters`),t.value=[...e.value],a.value=[...e.value],console.log(`Successfully loaded ${e.value.length} chapters`)}catch(l){console.error("Error loading chapters:",l),n.value="Failed to load chapters. Please try again.",e.value=[],t.value=[],a.value=[]}finally{s.value=!1}},I=()=>{let t=[...e.value];if(i.value){const e=i.value.toLowerCase();t=t.filter(t=>t.name?.toLowerCase().includes(e)||t.university?.toLowerCase().includes(e)||t.city?.toLowerCase().includes(e)||t.state?.toLowerCase().includes(e))}o.value&&(t=t.filter(e=>e.state===o.value)),r.value&&(t=t.filter(e=>e.status===r.value)),t.sort((e,t)=>{let a=e[v.value],s=t[v.value];return null==a&&(a=""),null==s&&(s=""),"string"===typeof a?(a=a.toLowerCase(),s=String(s).toLowerCase(),"asc"===p.value?a.localeCompare(s):s.localeCompare(a)):"asc"===p.value?a-s:s-a}),a.value=t,u.value=1},R=e=>{v.value===e?p.value="asc"===p.value?"desc":"asc":(v.value=e,p.value="asc"),I()},M=e=>v.value!==e?"bi-chevron-expand":"asc"===p.value?"bi-chevron-up":"bi-chevron-down",D=()=>{c.value="table"===c.value?"cards":"table"},N=e=>e?e>=80?"health-excellent":e>=60?"health-good":e>=40?"health-fair":"health-poor":"health-poor",F=()=>{const e=[],t=5,a=Math.max(1,u.value-Math.floor(t/2)),s=Math.min(T.value,a+t-1);for(let l=a;l<=s;l++)e.push(l);return e},_=()=>{const e=["Name","University","City","State","Status","Members","Health Score"],t=[e.join(","),...a.value.map(e=>[`"${e.name||""}"`,`"${e.university||""}"`,`"${e.city||""}"`,`"${e.state||""}"`,`"${e.status||""}"`,e.memberCount||0,e.healthScore||0].join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),l=URL.createObjectURL(s),n=document.createElement("a");n.href=l,n.download=`chapters_${(new Date).toISOString().split("T")[0]}.csv`,n.click(),URL.revokeObjectURL(l)},U=e=>{console.log("View chapter:",e)},P=e=>{console.log("Edit chapter:",e)},W=e=>{console.log("Delete chapter:",e)},X=e=>{if(console.log("Search triggered:",e),d.value&&d.value.chapters)return a.value=d.value.chapters,void(u.value=1);i.value=e.query||"",o.value=e.state||"",r.value="true"===e.active?"Active":"false"===e.active?"Inactive":"",I()},V=t=>{console.log("Search results received:",t),d.value=t,t&&t.chapters?(a.value=t.chapters,u.value=1):a.value=[...e.value]},K=e=>{console.log("Filters changed:",e)},O=async()=>{try{const e=await Ll.getAllInstitutions();k.value=e||[]}catch(n){console.error("Error loading institutions:",n),k.value=[]}},B=()=>{y.value={name:"",description:"",institutionId:null},L.value={institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""},g.value="existing",h.value=!0,O()},$=()=>{h.value=!1,b.value=!1},Q=async()=>{try{b.value=!0;const e={name:y.value.name,description:y.value.description};if("existing"===g.value){if(!y.value.institutionId)return void alert("Please select an institution");e.institutionId=y.value.institutionId}else{if(!L.value.name||!L.value.state||!L.value.city)return void alert("Please fill in all required institution fields");e.newInstitution={...L.value}}await Ll.createChapterWithInstitution(e);await A(),$(),alert("Chapter created successfully!")}catch(n){let t="Error creating chapter. Please try again.";n.response&&400===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error.includes("Institution with this name already exists")?"An institution with this name already exists. Please choose a different name or select an existing institution.":n.response.data.error:"Invalid request. Please check all required fields are filled correctly.",console.info("Chapter creation validation error:",n.response.data?.error||"Bad request")):n.response&&500===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error:"Server error occurred. Please try again later.",console.error("Server error creating chapter:",n)):"NETWORK_ERROR"!==n.code&&n.response?console.error("Unexpected error creating chapter:",n):(t="Network error. Please check your connection and try again.",console.error("Network error creating chapter:",n)),alert(t)}finally{b.value=!1}};return(0,l.wB)([v,p],()=>{I()}),(0,l.sV)(()=>{A()}),{chapters:e,allChapters:t,filteredChapters:a,loading:s,error:n,searchQuery:i,selectedState:o,selectedStatus:r,currentView:c,currentPage:u,itemsPerPage:m,sortField:v,sortDirection:p,searchResults:d,availableStates:C,activeChapters:w,averageHealth:E,paginatedChapters:S,totalPages:T,loadChapters:A,applyFilters:I,sortBy:R,getSortIcon:M,toggleView:D,getHealthClass:N,getVisiblePages:F,exportToCSV:_,viewChapter:U,editChapter:P,deleteChapter:W,handleSearch:X,handleSearchResults:V,handleFilterChange:K,showAddModal:h,saving:b,institutions:k,institutionOption:g,chapterForm:y,newInstitution:L,usStates:f,openAddModal:B,closeModal:$,saveChapter:Q}}};const bn=(0,U.A)(hn,[["render",kl],["__scopeId","data-v-a5ecd2c8"]]);var kn=bn;const gn={class:"members"},yn={class:"container"},Ln={class:"row mb-4"},fn={class:"col-md-6"},Cn={class:"col-md-6"},wn={class:"row mb-4"},En={class:"col-md-4"},Sn=["value"],Tn={class:"col-md-4"},An={class:"col-md-4"},In={key:1,class:"card"},Rn={class:"card-body p-0"},Mn={key:2,class:"card"},xn={class:"card-header bg-light"},Dn={class:"card-title mb-0"},Nn={class:"card-body p-0"},Fn={key:0,class:"text-center py-4 text-muted"},_n={key:1,class:"table-responsive"},Un={class:"table table-hover mb-0"},Pn={key:1,class:"text-muted"},Wn={class:"btn-group",role:"group"},Xn=["onClick"],Vn=["onClick"],Kn={class:"modal-dialog modal-lg"},On={class:"modal-content"},Bn={class:"modal-header"},$n={class:"modal-title"},Qn={class:"modal-body"},jn={class:"row"},Gn={class:"col-md-6 mb-3"},Jn={class:"col-md-6 mb-3"},Hn={class:"mb-3"},qn={class:"mb-3"},Yn={class:"row"},zn={class:"col-md-6 mb-3"},Zn=["value"],ei={class:"col-md-6 mb-3"},ti={class:"row"},ai={class:"col-md-6 mb-3"},si={class:"col-md-6 mb-3"},li={class:"modal-footer"},ni=["disabled"],ii={key:0,class:"spinner-border spinner-border-sm me-2"},oi={class:"modal-dialog"},ri={class:"modal-content"},ci={class:"modal-header"},di={class:"modal-body"},ui={class:"modal-footer"};function mi(e,t,a,i,o,r){const c=(0,l.g2)("AdvancedSearchPanel"),d=(0,l.g2)("SkeletonLoader"),u=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",gn,[(0,l.Lk)("div",yn,[t[33]||(t[33]=(0,l.Fv)('<div class="row mb-4" data-v-59e7922b><div class="col" data-v-59e7922b><h1 class="display-4 text-center mb-3" data-v-59e7922b><i class="bi bi-people-fill text-success me-3" data-v-59e7922b></i> Members </h1><p class="lead text-center text-muted" data-v-59e7922b> Manage chapter members and their roles </p></div></div>',1)),(0,l.Lk)("div",Ln,[(0,l.Lk)("div",fn,[(0,l.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=e=>o.showCreateModal=!0)},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,l.eW)(" Add New Member ",-1)])])]),(0,l.Lk)("div",Cn,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:t[1]||(t[1]=e=>o.showAdvancedSearch=!o.showAdvancedSearch)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-funnel me-2"},null,-1),(0,l.eW)(" Advanced Search ",-1)])])])]),o.showAdvancedSearch?((0,l.uX)(),(0,l.Wv)(c,{key:0,"search-categories":o.memberSearchCategories,onSearch:r.handleAdvancedSearch,onClose:t[2]||(t[2]=e=>o.showAdvancedSearch=!1)},null,8,["search-categories","onSearch"])):(0,l.Q3)("",!0),(0,l.Lk)("div",wn,[(0,l.Lk)("div",En,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedChapter=e)},[t[24]||(t[24]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Sn))),128))],512),[[s.u1,o.selectedChapter]])]),(0,l.Lk)("div",Tn,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedRole=e)},[...t[25]||(t[25]=[(0,l.Fv)('<option value="" data-v-59e7922b>All Roles</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,o.selectedRole]])]),(0,l.Lk)("div",An,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedStatus=e)},[...t[26]||(t[26]=[(0,l.Lk)("option",{value:""},"All Status",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],512),[[s.u1,o.selectedStatus]])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",In,[t[27]||(t[27]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-table me-2"}),(0,l.eW)(" Loading Members... ")])],-1)),(0,l.Lk)("div",Rn,[(0,l.bF)(d,{type:"table",rows:5})])])):((0,l.uX)(),(0,l.CE)("div",Mn,[(0,l.Lk)("div",xn,[(0,l.Lk)("h5",Dn,[t[28]||(t[28]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(r.filteredMembers.length)+") ",1)])]),(0,l.Lk)("div",Nn,[0===r.filteredMembers.length?((0,l.uX)(),(0,l.CE)("div",Fn,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",_n,[(0,l.Lk)("table",Un,[t[32]||(t[32]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,[e.chapterId?((0,l.uX)(),(0,l.Wv)(u,{key:0,to:`/chapters/${e.chapterId}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapterName||"Unknown Chapter"),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",Pn,"No Chapter"))]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getRoleBadgeClass(e.role)])},(0,n.v_)(r.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Wn,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>r.editMember(e)},[...t[30]||(t[30]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,Xn),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>r.confirmDelete(e)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,Vn)])])]))),128))])])]))])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showCreateModal||o.showEditModal}]),style:(0,n.Tr)({display:o.showCreateModal||o.showEditModal?"block":"none"})},[(0,l.Lk)("div",Kn,[(0,l.Lk)("div",On,[(0,l.Lk)("div",Bn,[(0,l.Lk)("h5",$n,(0,n.v_)(o.showEditModal?"Edit Member":"Add New Member"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=(...e)=>r.closeModal&&r.closeModal(...e))})]),(0,l.Lk)("div",Qn,[(0,l.Lk)("form",{onSubmit:t[15]||(t[15]=(0,s.D$)((...e)=>r.saveMember&&r.saveMember(...e),["prevent"]))},[(0,l.Lk)("div",jn,[(0,l.Lk)("div",Gn,[t[34]||(t[34]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"firstName","onUpdate:modelValue":t[7]||(t[7]=e=>o.memberForm.firstName=e),required:""},null,512),[[s.Jo,o.memberForm.firstName]])]),(0,l.Lk)("div",Jn,[t[35]||(t[35]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"lastName","onUpdate:modelValue":t[8]||(t[8]=e=>o.memberForm.lastName=e),required:""},null,512),[[s.Jo,o.memberForm.lastName]])])]),(0,l.Lk)("div",Hn,[t[36]||(t[36]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[9]||(t[9]=e=>o.memberForm.email=e),required:""},null,512),[[s.Jo,o.memberForm.email]])]),(0,l.Lk)("div",qn,[t[37]||(t[37]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[10]||(t[10]=e=>o.memberForm.phoneNumber=e)},null,512),[[s.Jo,o.memberForm.phoneNumber]])]),(0,l.Lk)("div",Yn,[(0,l.Lk)("div",zn,[t[39]||(t[39]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[11]||(t[11]=e=>o.memberForm.chapterId=e),required:""},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Zn))),128))],512),[[s.u1,o.memberForm.chapterId]])]),(0,l.Lk)("div",ei,[t[41]||(t[41]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Role *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"role","onUpdate:modelValue":t[12]||(t[12]=e=>o.memberForm.role=e),required:""},[...t[40]||(t[40]=[(0,l.Fv)('<option value="" data-v-59e7922b>Select Role</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,o.memberForm.role]])])]),(0,l.Lk)("div",ti,[(0,l.Lk)("div",ai,[t[42]||(t[42]=(0,l.Lk)("label",{for:"joinDate",class:"form-label"},"Join Date *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control",id:"joinDate","onUpdate:modelValue":t[13]||(t[13]=e=>o.memberForm.joinDate=e),required:""},null,512),[[s.Jo,o.memberForm.joinDate]])]),(0,l.Lk)("div",si,[t[44]||(t[44]=(0,l.Lk)("label",{for:"active",class:"form-label"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"active","onUpdate:modelValue":t[14]||(t[14]=e=>o.memberForm.active=e)},[...t[43]||(t[43]=[(0,l.Lk)("option",{value:!0},"Active",-1),(0,l.Lk)("option",{value:!1},"Inactive",-1)])],512),[[s.u1,o.memberForm.active]])])])],32)]),(0,l.Lk)("div",li,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[16]||(t[16]=(...e)=>r.closeModal&&r.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[17]||(t[17]=(...e)=>r.saveMember&&r.saveMember(...e)),disabled:o.saving},[o.saving?((0,l.uX)(),(0,l.CE)("span",ii)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.showEditModal?"Update Member":"Add Member"),1)],8,ni)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showDeleteModal}]),style:(0,n.Tr)({display:o.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",oi,[(0,l.Lk)("div",ri,[(0,l.Lk)("div",ci,[t[45]||(t[45]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[18]||(t[18]=e=>o.showDeleteModal=!1)})]),(0,l.Lk)("div",di,[(0,l.Lk)("p",null,[t[46]||(t[46]=(0,l.eW)("Are you sure you want to delete member ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(o.memberToDelete?.firstName)+" "+(0,n.v_)(o.memberToDelete?.lastName),1),t[47]||(t[47]=(0,l.eW)("?",-1))]),t[48]||(t[48]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",ui,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[19]||(t[19]=e=>o.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[20]||(t[20]=(...e)=>r.deleteMember&&r.deleteMember(...e))}," Delete Member ")])])])],6),o.showCreateModal||o.showEditModal||o.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[21]||(t[21]=(...e)=>r.closeModal&&r.closeModal(...e))})):(0,l.Q3)("",!0)])}const vi={class:"advanced-search-panel"},pi={class:"search-header"},hi={class:"d-flex justify-content-between align-items-center mb-3"},bi=["disabled"],ki={class:"search-input-wrapper mb-4"},gi={class:"input-group input-group-lg"},yi={key:0,class:"suggestions-dropdown"},Li=["onClick","onMouseenter"],fi={class:"suggestion-text"},Ci={class:"suggestion-category"},wi={class:"filter-tabs mb-4"},Ei={class:"nav nav-pills nav-fill",role:"tablist"},Si={class:"nav-item",role:"presentation"},Ti={key:0,class:"badge bg-primary ms-2"},Ai={class:"nav-item",role:"presentation"},Ii={key:0,class:"badge bg-primary ms-2"},Ri={class:"nav-item",role:"presentation"},Mi={key:0,class:"badge bg-primary ms-2"},xi={class:"filter-section"},Di={class:"row g-3"},Ni={class:"col-md-4"},Fi={class:"col-md-4"},_i=["value"],Ui={class:"col-md-4"},Pi={class:"col-md-6"},Wi={class:"input-group"},Xi={class:"col-md-6"},Vi={class:"tag-input-container"},Ki={class:"selected-tags"},Oi=["onClick"],Bi={class:"filter-section"},$i={class:"row g-3"},Qi={class:"col-md-3"},ji={class:"col-md-3"},Gi={class:"col-md-6"},Ji={class:"input-group"},Hi={class:"col-md-6"},qi={class:"range-slider"},Yi={class:"range-labels d-flex justify-content-between"},zi={class:"col-md-6"},Zi=["value"],eo={class:"filter-section"},to={class:"row g-3"},ao={class:"col-md-4"},so={class:"col-md-4"},lo=["value"],no={class:"col-md-4"},io={class:"range-slider"},oo={class:"range-labels d-flex justify-content-between"},ro={class:"col-12"},co={class:"active-filters"},uo=["onClick"],mo={key:0,class:"text-muted"},vo={key:0,class:"search-results-summary mt-4 p-3 bg-light rounded"},po={class:"d-flex justify-content-between align-items-center"},ho={key:0,class:"text-muted"},bo={class:"search-actions"};function ko(e,t,a,i,o,r){return(0,l.uX)(),(0,l.CE)("div",vi,[(0,l.Lk)("div",pi,[(0,l.Lk)("div",hi,[t[40]||(t[40]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-funnel me-2"}),(0,l.eW)(" Advanced Search & Filters ")],-1)),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[0]||(t[0]=(...e)=>i.resetFilters&&i.resetFilters(...e)),disabled:!i.hasActiveFilters},[...t[39]||(t[39]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Reset ",-1)])],8,bi)])]),(0,l.Lk)("div",ki,[(0,l.Lk)("div",gi,[t[42]||(t[42]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"mainSearchInput",type:"text",class:"form-control",placeholder:"Search across all content...","onUpdate:modelValue":t[1]||(t[1]=e=>i.searchQuery=e),onInput:t[2]||(t[2]=(...e)=>i.performSearch&&i.performSearch(...e)),onKeyup:t[3]||(t[3]=(0,s.jR)((...e)=>i.performSearch&&i.performSearch(...e),["enter"]))},null,544),[[s.Jo,i.searchQuery]]),i.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[4]||(t[4]=(...e)=>i.clearMainSearch&&i.clearMainSearch(...e))},[...t[41]||(t[41]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0)]),i.showSuggestions&&i.suggestions.length?((0,l.uX)(),(0,l.CE)("div",yi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.suggestions,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["suggestion-item",{active:i.selectedSuggestionIndex===t}]),onClick:t=>i.selectSuggestion(e),onMouseenter:e=>i.selectedSuggestionIndex=t},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2),(0,l.Lk)("span",fi,(0,n.v_)(e.text),1),(0,l.Lk)("span",Ci,(0,n.v_)(e.category),1)],42,Li))),128))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",wi,[(0,l.Lk)("ul",Ei,[(0,l.Lk)("li",Si,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"members"===i.activeTab}]),onClick:t[5]||(t[5]=e=>i.activeTab="members"),type:"button"},[t[43]||(t[43]=(0,l.Lk)("i",{class:"bi bi-people me-2"},null,-1)),t[44]||(t[44]=(0,l.eW)(" Members ",-1)),i.memberFilters.active?((0,l.uX)(),(0,l.CE)("span",Ti,(0,n.v_)(i.memberFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Ai,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"events"===i.activeTab}]),onClick:t[6]||(t[6]=e=>i.activeTab="events"),type:"button"},[t[45]||(t[45]=(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),t[46]||(t[46]=(0,l.eW)(" Events ",-1)),i.eventFilters.active?((0,l.uX)(),(0,l.CE)("span",Ii,(0,n.v_)(i.eventFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Ri,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"chapters"===i.activeTab}]),onClick:t[7]||(t[7]=e=>i.activeTab="chapters"),type:"button"},[t[47]||(t[47]=(0,l.Lk)("i",{class:"bi bi-building me-2"},null,-1)),t[48]||(t[48]=(0,l.eW)(" Chapters ",-1)),i.chapterFilters.active?((0,l.uX)(),(0,l.CE)("span",Mi,(0,n.v_)(i.chapterFilters.count),1)):(0,l.Q3)("",!0)],2)])])]),(0,l.bo)((0,l.Lk)("div",xi,[(0,l.Lk)("div",Di,[(0,l.Lk)("div",Ni,[t[50]||(t[50]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Role",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>i.memberFilters.role=e),onChange:t[9]||(t[9]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[49]||(t[49]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Roles</option><option value="PRESIDENT" data-v-3500c3e8>President</option><option value="VICE_PRESIDENT" data-v-3500c3e8>Vice President</option><option value="SECRETARY" data-v-3500c3e8>Secretary</option><option value="TREASURER" data-v-3500c3e8>Treasurer</option><option value="MEMBER" data-v-3500c3e8>Member</option>',6)])],544),[[s.u1,i.memberFilters.role]])]),(0,l.Lk)("div",Fi,[t[52]||(t[52]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=e=>i.memberFilters.chapter=e),onChange:t[11]||(t[11]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[t[51]||(t[51]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,_i))),128))],544),[[s.u1,i.memberFilters.chapter]])]),(0,l.Lk)("div",Ui,[t[54]||(t[54]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>i.memberFilters.active=e),onChange:t[13]||(t[13]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[53]||(t[53]=[(0,l.Lk)("option",{value:""},"All",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],544),[[s.u1,i.memberFilters.active]])]),(0,l.Lk)("div",Pi,[t[56]||(t[56]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Join Date Range",-1)),(0,l.Lk)("div",Wi,[(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>i.memberFilters.joinDateFrom=e),onChange:t[15]||(t[15]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.memberFilters.joinDateFrom]]),t[55]||(t[55]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>i.memberFilters.joinDateTo=e),onChange:t[17]||(t[17]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.memberFilters.joinDateTo]])])]),(0,l.Lk)("div",Xi,[t[57]||(t[57]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Tags",-1)),(0,l.Lk)("div",Vi,[(0,l.Lk)("div",Ki,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.memberFilters.tags,e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"badge bg-secondary me-1 mb-1"},[(0,l.eW)((0,n.v_)(e)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>i.removeTag("member",e),style:{"font-size":"0.6rem"}},null,8,Oi)]))),128))]),(0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Add tags...",onKeyup:t[18]||(t[18]=(0,s.jR)(e=>{i.addTag("member",e.target.value),e.target.value=""},["enter"]))},null,32)])])])],512),[[s.aG,"members"===i.activeTab]]),(0,l.bo)((0,l.Lk)("div",Bi,[(0,l.Lk)("div",$i,[(0,l.Lk)("div",Qi,[t[59]||(t[59]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Event Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=e=>i.eventFilters.type=e),onChange:t[20]||(t[20]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[58]||(t[58]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Types</option><option value="MEETING" data-v-3500c3e8>Meeting</option><option value="SOCIAL" data-v-3500c3e8>Social</option><option value="COMMUNITY_SERVICE" data-v-3500c3e8>Community Service</option><option value="FUNDRAISER" data-v-3500c3e8>Fundraiser</option><option value="WORKSHOP" data-v-3500c3e8>Workshop</option>',6)])],544),[[s.u1,i.eventFilters.type]])]),(0,l.Lk)("div",ji,[t[61]||(t[61]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[21]||(t[21]=e=>i.eventFilters.status=e),onChange:t[22]||(t[22]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[60]||(t[60]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Status</option><option value="UPCOMING" data-v-3500c3e8>Upcoming</option><option value="ONGOING" data-v-3500c3e8>Ongoing</option><option value="COMPLETED" data-v-3500c3e8>Completed</option><option value="CANCELLED" data-v-3500c3e8>Cancelled</option>',5)])],544),[[s.u1,i.eventFilters.status]])]),(0,l.Lk)("div",Gi,[t[63]||(t[63]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Date Range",-1)),(0,l.Lk)("div",Ji,[(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=e=>i.eventFilters.dateFrom=e),onChange:t[24]||(t[24]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.eventFilters.dateFrom]]),t[62]||(t[62]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[25]||(t[25]=e=>i.eventFilters.dateTo=e),onChange:t[26]||(t[26]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.eventFilters.dateTo]])])]),(0,l.Lk)("div",Hi,[t[65]||(t[65]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Attendance Range",-1)),(0,l.Lk)("div",qi,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[27]||(t[27]=e=>i.eventFilters.minAttendance=e),min:0,max:500,onInput:t[28]||(t[28]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.eventFilters.minAttendance]]),(0,l.Lk)("div",Yi,[(0,l.Lk)("small",null,(0,n.v_)(i.eventFilters.minAttendance)+"+",1),t[64]||(t[64]=(0,l.Lk)("small",null,"500",-1))])])]),(0,l.Lk)("div",zi,[t[67]||(t[67]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[29]||(t[29]=e=>i.eventFilters.chapter=e),onChange:t[30]||(t[30]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[t[66]||(t[66]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Zi))),128))],544),[[s.u1,i.eventFilters.chapter]])])])],512),[[s.aG,"events"===i.activeTab]]),(0,l.bo)((0,l.Lk)("div",eo,[(0,l.Lk)("div",to,[(0,l.Lk)("div",ao,[t[69]||(t[69]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Institution Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[31]||(t[31]=e=>i.chapterFilters.institutionType=e),onChange:t[32]||(t[32]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[...t[68]||(t[68]=[(0,l.Lk)("option",{value:""},"All Types",-1),(0,l.Lk)("option",{value:"UNIVERSITY"},"University",-1),(0,l.Lk)("option",{value:"CHURCH"},"Church",-1),(0,l.Lk)("option",{value:"COMMUNITY"},"Community",-1)])],544),[[s.u1,i.chapterFilters.institutionType]])]),(0,l.Lk)("div",so,[t[71]||(t[71]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[33]||(t[33]=e=>i.chapterFilters.state=e),onChange:t[34]||(t[34]=(...e)=>i.applyFilters&&i.applyFilters(...e))},[t[70]||(t[70]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,lo))),128))],544),[[s.u1,i.chapterFilters.state]])]),(0,l.Lk)("div",no,[t[73]||(t[73]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Member Count Range",-1)),(0,l.Lk)("div",io,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[35]||(t[35]=e=>i.chapterFilters.minMembers=e),min:0,max:200,onInput:t[36]||(t[36]=(...e)=>i.applyFilters&&i.applyFilters(...e))},null,544),[[s.Jo,i.chapterFilters.minMembers]]),(0,l.Lk)("div",oo,[(0,l.Lk)("small",null,(0,n.v_)(i.chapterFilters.minMembers)+"+",1),t[72]||(t[72]=(0,l.Lk)("small",null,"200",-1))])])]),(0,l.Lk)("div",ro,[t[74]||(t[74]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Active Filters",-1)),(0,l.Lk)("div",co,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.activeFilters,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary me-2 mb-2"},[(0,l.eW)((0,n.v_)(e.label)+": "+(0,n.v_)(e.value)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>i.removeFilter(e.key),style:{"font-size":"0.6rem"}},null,8,uo)]))),128)),i.activeFilters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",mo,"No active filters"))])])])],512),[[s.aG,"chapters"===i.activeTab]]),i.searchResults.length||i.searchQuery?((0,l.uX)(),(0,l.CE)("div",vo,[(0,l.Lk)("div",po,[(0,l.Lk)("div",null,[(0,l.Lk)("strong",null,(0,n.v_)(i.searchResults.length),1),t[75]||(t[75]=(0,l.Lk)("span",{class:"text-muted"},"results found",-1)),i.searchQuery?((0,l.uX)(),(0,l.CE)("span",ho,'for "'+(0,n.v_)(i.searchQuery)+'"',1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",bo,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary me-2",onClick:t[37]||(t[37]=(...e)=>i.exportResults&&i.exportResults(...e))},[...t[76]||(t[76]=[(0,l.Lk)("i",{class:"bi bi-download me-1"},null,-1),(0,l.eW)(" Export ",-1)])]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[38]||(t[38]=(...e)=>i.saveSearch&&i.saveSearch(...e))},[...t[77]||(t[77]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])):(0,l.Q3)("",!0)])}var go={name:"AdvancedSearchPanel",emits:["search-results","filters-changed"],setup(e,{emit:t}){(0,Xe.rd)();const a=(0,x.KR)(""),s=(0,x.KR)(!1),n=(0,x.KR)([]),i=(0,x.KR)(-1),o=(0,x.KR)(null),r=(0,x.KR)("members"),c=(0,x.KR)([{id:1,name:"University of California - Berkeley"},{id:2,name:"Stanford University"},{id:3,name:"MIT"}]),d=(0,x.KR)(["CA","NY","TX","FL","IL","PA","OH","GA","NC","MI"]),u=(0,x.Kh)({role:"",chapter:"",active:"",joinDateFrom:"",joinDateTo:"",tags:[],active:!1,count:0}),m=(0,x.Kh)({type:"",status:"",dateFrom:"",dateTo:"",minAttendance:0,chapter:"",active:!1,count:0}),v=(0,x.Kh)({institutionType:"",state:"",minMembers:0,active:!1,count:0}),p=(0,x.KR)([]),h=(0,l.EW)(()=>u.active||m.active||v.active),b=(0,l.EW)(()=>{const e=[];return"members"===r.value?(u.role&&e.push({key:"memberRole",label:"Role",value:u.role}),u.chapter&&e.push({key:"memberChapter",label:"Chapter",value:T(u.chapter)}),u.active&&e.push({key:"memberActive",label:"Status",value:"true"===u.active?"Active":"Inactive"})):"events"===r.value?(m.type&&e.push({key:"eventType",label:"Type",value:m.type}),m.status&&e.push({key:"eventStatus",label:"Status",value:m.status})):"chapters"===r.value&&(v.institutionType&&e.push({key:"institutionType",label:"Type",value:v.institutionType}),v.state&&e.push({key:"chapterState",label:"State",value:v.state})),e}),k=async()=>{console.log("Performing search:",a.value),console.log("Active filters:",b.value),t("search-results",{query:a.value,filters:L(),tab:r.value})},g=()=>{y(),k()},y=()=>{u.count=b.value.filter(e=>e.key.startsWith("member")).length,m.count=b.value.filter(e=>e.key.startsWith("event")).length,v.count=b.value.filter(e=>e.key.startsWith("chapter")).length,u.active=u.count>0,m.active=m.count>0,v.active=v.count>0},L=()=>"members"===r.value?{...u}:"events"===r.value?{...m}:"chapters"===r.value?{...v}:{},f=()=>{Object.keys(u).forEach(e=>{Array.isArray(u[e])?u[e]=[]:"boolean"===typeof u[e]?u[e]=!1:u[e]=""}),Object.keys(m).forEach(e=>{"boolean"===typeof m[e]?m[e]=!1:"number"===typeof m[e]?m[e]=0:m[e]=""}),Object.keys(v).forEach(e=>{"boolean"===typeof v[e]?v[e]=!1:"number"===typeof v[e]?v[e]=0:v[e]=""}),a.value="",g()},C=()=>{a.value="",s.value=!1,k()},w=(e,t)=>{t.trim()&&("member"!==e||u.tags.includes(t.trim())||(u.tags.push(t.trim()),g()))},E=(e,t)=>{if("member"===e){const e=u.tags.indexOf(t);e>-1&&(u.tags.splice(e,1),g())}},S=e=>{console.log("Removing filter:",e),g()},T=e=>{const t=c.value.find(t=>t.id==e);return t?t.name:e},A=()=>{console.log("Exporting results...")},I=()=>{console.log("Saving search...")},R=e=>{a.value=e.text,s.value=!1,k()};return(0,l.sV)(()=>{y()}),{mainSearchInput:o,searchQuery:a,showSuggestions:s,suggestions:n,selectedSuggestionIndex:i,activeTab:r,memberFilters:u,eventFilters:m,chapterFilters:v,searchResults:p,chapters:c,states:d,hasActiveFilters:h,activeFilters:b,performSearch:k,applyFilters:g,resetFilters:f,clearMainSearch:C,addTag:w,removeTag:E,removeFilter:S,exportResults:A,saveSearch:I,selectSuggestion:R}}};const yo=(0,U.A)(go,[["render",ko],["__scopeId","data-v-3500c3e8"]]);var Lo=yo,fo={name:"Members",components:{SkeletonLoader:Na,AdvancedSearchPanel:Lo},data(){return{loading:!0,saving:!1,members:[],chapters:[],searchTerm:"",selectedChapter:"",selectedRole:"",selectedStatus:"",showAdvancedSearch:!1,memberSearchCategories:[{id:"general",name:"General",filters:[{type:"text",id:"name",label:"Name",placeholder:"Search by first or last name"},{type:"text",id:"email",label:"Email",placeholder:"Search by email address"},{type:"select",id:"status",label:"Status",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}]},{id:"membership",name:"Membership",filters:[{type:"select",id:"role",label:"Role",options:[{value:"PRESIDENT",label:"President"},{value:"VICE_PRESIDENT",label:"Vice President"},{value:"SECRETARY",label:"Secretary"},{value:"TREASURER",label:"Treasurer"},{value:"MEMBER",label:"Member"}]},{type:"select",id:"chapter",label:"Chapter",options:[]},{type:"dateRange",id:"joinDate",label:"Join Date Range"}]},{id:"advanced",name:"Advanced",filters:[{type:"multiSelect",id:"tags",label:"Tags",options:[]},{type:"number",id:"minEvents",label:"Min Events Attended",min:0},{type:"checkbox",id:"hasEmail",label:"Has Email Address"}]}],showCreateModal:!1,showEditModal:!1,showDeleteModal:!1,memberToDelete:null,memberForm:{id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}},computed:{filteredMembers(){let e=this.members;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.chapterName&&e.chapterName.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapterId===parseInt(this.selectedChapter))),this.selectedRole&&(e=e.filter(e=>e.role===this.selectedRole)),""!==this.selectedStatus){const t="true"===this.selectedStatus;e=e.filter(e=>e.active===t)}return e}},async mounted(){await this.loadData(),this.populateSearchOptions()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([Cl.getAllMembers(),yl.getAllChapters()]);this.members=e,this.chapters=t}catch(e){console.error("Error loading members:",e)}finally{this.loading=!1}},handleAdvancedSearch(e){console.log("Advanced search:",e),this.showAdvancedSearch=!1,e.filters.name&&(this.searchTerm=e.filters.name)},populateSearchOptions(){const e=this.memberSearchCategories.find(e=>"membership"===e.id);if(e){const t=e.filters.find(e=>"chapter"===e.id);t&&(t.options=this.chapters.map(e=>({value:e.id,label:e.name})))}},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},editMember(e){this.memberForm={id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber||"",chapterId:e.chapterId||"",role:e.role,joinDate:e.joinDate,active:e.active},this.showEditModal=!0},confirmDelete(e){this.memberToDelete=e,this.showDeleteModal=!0},async saveMember(){try{if(this.saving=!0,this.showEditModal){const e={...this.memberForm,chapterId:this.memberForm.chapterId};delete e.chapter,await Cl.updateMember(this.memberForm.id,e)}else{const e={firstName:this.memberForm.firstName,lastName:this.memberForm.lastName,email:this.memberForm.email,chapterId:this.memberForm.chapterId,role:this.memberForm.role};await Cl.createMember(e)}await this.loadData(),this.closeModal()}catch(e){console.error("Error saving member:",e),alert("Error saving member. Please try again.")}finally{this.saving=!1}},async deleteMember(){try{await Cl.deleteMember(this.memberToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.memberToDelete=null}catch(e){console.error("Error deleting member:",e),alert("Error deleting member. Please try again.")}},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.memberForm={id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}}};const Co=(0,U.A)(fo,[["render",mi],["__scopeId","data-v-59e7922b"]]);var wo=Co;const Eo={class:"events"},So={class:"container"},To={class:"row mb-4"},Ao={class:"col-md-6"},Io={class:"col-md-6"},Ro={class:"input-group"},Mo={class:"row mb-4"},xo={class:"col-md-4"},Do=["value"],No={class:"col-md-4"},Fo={class:"col-md-4"},_o={key:0,class:"card"},Uo={class:"card-body p-0"},Po={class:"d-flex justify-content-between align-items-center mb-3"},Wo={class:"view-toggle btn-group",role:"group"},Xo={class:"results-info"},Vo={class:"text-muted"},Ko={key:1,class:"empty-state text-center py-5"},Oo={key:2,class:"events-grid"},Bo={class:"event-card"},$o={class:"event-header"},Qo={class:"event-title-section"},jo={class:"event-title"},Go={class:"event-meta"},Jo={class:"event-actions"},Ho={class:"dropdown"},qo=["id"],Yo={class:"dropdown-menu"},zo=["onClick"],Zo=["onClick"],er={class:"event-details"},tr={class:"event-info-grid"},ar={class:"info-item"},sr={key:0,class:"info-item"},lr={key:1,class:"info-item"},nr={key:0,class:"event-description"},ir={class:"rsvp-section"},or={key:3,class:"card"},rr={class:"card-header bg-light"},cr={class:"card-title mb-0"},dr={class:"card-body p-0"},ur={class:"table-responsive"},mr={class:"table table-hover mb-0"},vr={key:0,class:"text-muted"},pr={key:1,class:"text-muted"},hr={class:"rsvp-summary"},br={class:"badge bg-success me-1"},kr={key:0,class:"badge bg-warning me-1"},gr={key:1,class:"badge bg-info"},yr={class:"btn-group",role:"group"},Lr=["onClick"],fr=["onClick"],Cr={class:"modal-dialog modal-lg"},wr={class:"modal-content"},Er={class:"modal-header"},Sr={class:"modal-title"},Tr={class:"modal-body"},Ar={class:"mb-3"},Ir={class:"mb-3"},Rr={class:"row"},Mr={class:"col-md-6 mb-3"},xr={class:"col-md-6 mb-3"},Dr={class:"row"},Nr={class:"col-md-6 mb-3"},Fr=["value"],_r={class:"col-md-6 mb-3"},Ur={class:"row"},Pr={class:"col-md-6 mb-3"},Wr={class:"modal-footer"},Xr=["disabled"],Vr={key:0,class:"spinner-border spinner-border-sm me-2"},Kr={class:"modal-dialog"},Or={class:"modal-content"},Br={class:"modal-header"},$r={class:"modal-body"},Qr={class:"modal-footer"};function jr(e,t,a,i,o,r){const c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link"),u=(0,l.g2)("EventRSVPCard");return(0,l.uX)(),(0,l.CE)("div",Eo,[(0,l.Lk)("div",So,[t[46]||(t[46]=(0,l.Fv)('<div class="row mb-4" data-v-6af8159a><div class="col" data-v-6af8159a><h1 class="display-4 text-center mb-3" data-v-6af8159a><i class="bi bi-calendar-event text-info me-3" data-v-6af8159a></i> Events </h1><p class="lead text-center text-muted" data-v-6af8159a> Manage chapter events and activities </p></div></div>',1)),(0,l.Lk)("div",To,[(0,l.Lk)("div",Ao,[(0,l.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>i.showCreateModal=!0)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])]),(0,l.Lk)("div",Io,[(0,l.Lk)("div",Ro,[t[24]||(t[24]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search events...","onUpdate:modelValue":t[1]||(t[1]=e=>i.searchTerm=e)},null,512),[[s.Jo,i.searchTerm]])])])]),(0,l.Lk)("div",Mo,[(0,l.Lk)("div",xo,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedChapter=e)},[t[25]||(t[25]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Do))),128))],512),[[s.u1,i.selectedChapter]])]),(0,l.Lk)("div",No,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedType=e)},[...t[26]||(t[26]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Types</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,i.selectedType]])]),(0,l.Lk)("div",Fo,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedTimeframe=e)},[...t[27]||(t[27]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Time</option><option value="upcoming" data-v-6af8159a>Upcoming</option><option value="past" data-v-6af8159a>Past</option><option value="today" data-v-6af8159a>Today</option><option value="this-week" data-v-6af8159a>This Week</option><option value="this-month" data-v-6af8159a>This Month</option>',6)])],512),[[s.u1,i.selectedTimeframe]])])]),i.loading?((0,l.uX)(),(0,l.CE)("div",_o,[t[28]||(t[28]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"}),(0,l.eW)(" Loading Events... ")])],-1)),(0,l.Lk)("div",Uo,[(0,l.bF)(c,{type:"list",rows:4})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Po,[(0,l.Lk)("div",Wo,[(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"cardView","onUpdate:modelValue":t[5]||(t[5]=e=>o.viewMode=e),value:"cards"},null,512),[[s.XL,o.viewMode]]),t[29]||(t[29]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"cardView"},[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"}),(0,l.eW)(" Cards ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"tableView","onUpdate:modelValue":t[6]||(t[6]=e=>o.viewMode=e),value:"table"},null,512),[[s.XL,o.viewMode]]),t[30]||(t[30]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"tableView"},[(0,l.Lk)("i",{class:"bi bi-table"}),(0,l.eW)(" Table ")],-1))]),(0,l.Lk)("div",Xo,[(0,l.Lk)("span",Vo,(0,n.v_)(r.filteredEvents.length)+" events found",1)])]),0===r.filteredEvents.length?((0,l.uX)(),(0,l.CE)("div",Ko,[t[32]||(t[32]=(0,l.Lk)("i",{class:"bi bi-calendar-x display-1 text-muted mb-3"},null,-1)),t[33]||(t[33]=(0,l.Lk)("h4",{class:"text-muted"},"No events found",-1)),t[34]||(t[34]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your filters or create a new event.",-1)),(0,l.Lk)("button",{class:"btn btn-info",onClick:t[7]||(t[7]=e=>i.showCreateModal=!0)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])])):"cards"===o.viewMode?((0,l.uX)(),(0,l.CE)("div",Oo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"event-card-container"},[(0,l.Lk)("div",Bo,[(0,l.Lk)("div",$o,[(0,l.Lk)("div",Qo,[(0,l.Lk)("h5",jo,(0,n.v_)(e.title),1),(0,l.Lk)("div",Go,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getTypeBadgeClass(e.type)])},(0,n.v_)(r.formatType(e.type)),3),(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(r.getEventStatus(e.eventDateTime)),3)])]),(0,l.Lk)("div",Jo,[(0,l.Lk)("div",Ho,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button",id:`eventMenu${e.id}`,"data-bs-toggle":"dropdown"},[...t[35]||(t[35]=[(0,l.Lk)("i",{class:"bi bi-three-dots"},null,-1)])],8,qo),(0,l.Lk)("ul",Yo,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t=>r.editEvent(e)},[...t[36]||(t[36]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit Event ",-1)])],8,zo)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t=>r.confirmDelete(e)},[...t[37]||(t[37]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete Event ",-1)])],8,Zo)])])])])]),(0,l.Lk)("div",er,[(0,l.Lk)("div",tr,[(0,l.Lk)("div",ar,[t[38]||(t[38]=(0,l.Lk)("i",{class:"bi bi-calendar3 text-primary"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(r.formatDateTime(e.eventDateTime)),1)]),e.location?((0,l.uX)(),(0,l.CE)("div",sr,[t[39]||(t[39]=(0,l.Lk)("i",{class:"bi bi-geo-alt text-danger"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.location),1)])):(0,l.Q3)("",!0),e.chapter?((0,l.uX)(),(0,l.CE)("div",lr,[t[40]||(t[40]=(0,l.Lk)("i",{class:"bi bi-building text-info"},null,-1)),(0,l.bF)(d,{to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])])):(0,l.Q3)("",!0)]),e.description?((0,l.uX)(),(0,l.CE)("div",nr,(0,n.v_)(e.description),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ir,[(0,l.bF)(u,{event:e,rsvps:o.eventRsvps[e.id]||[],"current-user-id":o.currentUserId,onRsvpUpdated:r.handleRSVPUpdate},null,8,["event","rsvps","current-user-id","onRsvpUpdated"])])])]))),128))])):((0,l.uX)(),(0,l.CE)("div",or,[(0,l.Lk)("div",rr,[(0,l.Lk)("h5",cr,[t[41]||(t[41]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Events ("+(0,n.v_)(r.filteredEvents.length)+") ",1)])]),(0,l.Lk)("div",dr,[(0,l.Lk)("div",ur,[(0,l.Lk)("table",mr,[t[45]||(t[45]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"RSVPs"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[42]||(t[42]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",vr,(0,n.v_)(r.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getTypeBadgeClass(e.type)])},(0,n.v_)(r.formatType(e.type)),3)]),(0,l.Lk)("td",null,[e.chapter?((0,l.uX)(),(0,l.Wv)(d,{key:0,to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",pr,"No Chapter"))]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",hr,[(0,l.Lk)("span",br,(0,n.v_)(r.getRSVPCount(e.id,"ATTENDING")),1),r.getRSVPCount(e.id,"MAYBE")?((0,l.uX)(),(0,l.CE)("span",kr,(0,n.v_)(r.getRSVPCount(e.id,"MAYBE"))+" maybe ",1)):(0,l.Q3)("",!0),r.getRSVPCount(e.id,"WAITLIST")?((0,l.uX)(),(0,l.CE)("span",gr,(0,n.v_)(r.getRSVPCount(e.id,"WAITLIST"))+" waitlist ",1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(r.getEventStatus(e.eventDateTime)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",yr,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>r.editEvent(e)},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,Lr),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>r.confirmDelete(e)},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,fr)])])]))),128))])])])])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:i.showCreateModal||i.showEditModal}]),style:(0,n.Tr)({display:i.showCreateModal||i.showEditModal?"block":"none"})},[(0,l.Lk)("div",Cr,[(0,l.Lk)("div",wr,[(0,l.Lk)("div",Er,[(0,l.Lk)("h5",Sr,(0,n.v_)(i.showEditModal?"Edit Event":"Create New Event"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[8]||(t[8]=(...e)=>r.closeModal&&r.closeModal(...e))})]),(0,l.Lk)("div",Tr,[(0,l.Lk)("form",{onSubmit:t[16]||(t[16]=(0,s.D$)((...e)=>r.saveEvent&&r.saveEvent(...e),["prevent"]))},[(0,l.Lk)("div",Ar,[t[47]||(t[47]=(0,l.Lk)("label",{for:"title",class:"form-label"},"Event Title *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[9]||(t[9]=e=>i.eventForm.title=e),required:""},null,512),[[s.Jo,i.eventForm.title]])]),(0,l.Lk)("div",Ir,[t[48]||(t[48]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[10]||(t[10]=e=>i.eventForm.description=e),rows:"3"},null,512),[[s.Jo,i.eventForm.description]])]),(0,l.Lk)("div",Rr,[(0,l.Lk)("div",Mr,[t[49]||(t[49]=(0,l.Lk)("label",{for:"eventDateTime",class:"form-label"},"Date & Time *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control",id:"eventDateTime","onUpdate:modelValue":t[11]||(t[11]=e=>i.eventForm.eventDateTime=e),required:""},null,512),[[s.Jo,i.eventForm.eventDateTime]])]),(0,l.Lk)("div",xr,[t[51]||(t[51]=(0,l.Lk)("label",{for:"type",class:"form-label"},"Event Type *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"type","onUpdate:modelValue":t[12]||(t[12]=e=>i.eventForm.type=e),required:""},[...t[50]||(t[50]=[(0,l.Fv)('<option value="" data-v-6af8159a>Select Type</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,i.eventForm.type]])])]),(0,l.Lk)("div",Dr,[(0,l.Lk)("div",Nr,[t[53]||(t[53]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[13]||(t[13]=e=>i.eventForm.chapterId=e),required:""},[t[52]||(t[52]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Fr))),128))],512),[[s.u1,i.eventForm.chapterId]])]),(0,l.Lk)("div",_r,[t[54]||(t[54]=(0,l.Lk)("label",{for:"location",class:"form-label"},"Location",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"location","onUpdate:modelValue":t[14]||(t[14]=e=>i.eventForm.location=e),placeholder:"Event location or 'Virtual'"},null,512),[[s.Jo,i.eventForm.location]])])]),(0,l.Lk)("div",Ur,[(0,l.Lk)("div",Pr,[t[55]||(t[55]=(0,l.Lk)("label",{for:"capacity",class:"form-label"},"Event Capacity",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"capacity","onUpdate:modelValue":t[15]||(t[15]=e=>i.eventForm.capacity=e),placeholder:"Leave empty for unlimited",min:"1"},null,512),[[s.Jo,i.eventForm.capacity]]),t[56]||(t[56]=(0,l.Lk)("div",{class:"form-text"}," Set a maximum number of attendees (optional) ",-1))])])],32)]),(0,l.Lk)("div",Wr,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[17]||(t[17]=(...e)=>r.closeModal&&r.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-info",onClick:t[18]||(t[18]=(...e)=>r.saveEvent&&r.saveEvent(...e)),disabled:i.saving},[i.saving?((0,l.uX)(),(0,l.CE)("span",Vr)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(i.showEditModal?"Update Event":"Create Event"),1)],8,Xr)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:i.showDeleteModal}]),style:(0,n.Tr)({display:i.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",Kr,[(0,l.Lk)("div",Or,[(0,l.Lk)("div",Br,[t[57]||(t[57]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=e=>i.showDeleteModal=!1)})]),(0,l.Lk)("div",$r,[(0,l.Lk)("p",null,[t[58]||(t[58]=(0,l.eW)("Are you sure you want to delete the event ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(i.eventToDelete?.title),1),t[59]||(t[59]=(0,l.eW)("?",-1))]),t[60]||(t[60]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",Qr,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[20]||(t[20]=e=>i.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[21]||(t[21]=(...e)=>r.deleteEvent&&r.deleteEvent(...e))}," Delete Event ")])])])],6),i.showCreateModal||i.showEditModal||i.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[22]||(t[22]=(...e)=>r.closeModal&&r.closeModal(...e))})):(0,l.Q3)("",!0)])}const Gr={async getAllEvents(){try{const e=await ha.A.get("/events");return e.data}catch(e){throw e}},async getEventById(e){try{const t=await ha.A.get(`/events/${e}`);return t.data}catch(t){throw t}},async getEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/active`);return t.data}catch(t){throw t}},async getUpcomingEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/upcoming`);return t.data}catch(t){throw t}},async getPastEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/past`);return t.data}catch(t){throw t}},async getEventsByType(e,t){try{const a=await ha.A.get(`/events/chapter/${e}/type/${t}`);return a.data}catch(a){throw a}},async createEvent(e){try{const t=await ha.A.post("/events",e);return t.data}catch(t){throw t}},async updateEvent(e,t){try{const a=await ha.A.put(`/events/${e}`,t);return a.data}catch(a){throw a}},async deleteEvent(e){try{return await ha.A.delete(`/events/${e}`),!0}catch(t){throw t}},async registerForEvent(e){try{const t=await ha.A.put(`/events/${e}/register`);return t.data}catch(t){throw t}},async unregisterFromEvent(e){try{const t=await ha.A.put(`/events/${e}/unregister`);return t.data}catch(t){throw t}},async getUpcomingEventCount(e){try{const t=await ha.A.get(`/events/chapter/${e}/count/upcoming`);return t.data}catch(t){throw t}},async getEventStats(e){try{const t=await ha.A.get(`/events/${e}/stats`);return t.data}catch(t){throw t}}},Jr={class:"member-info"},Hr={class:"avatar"},qr=["src","alt"],Yr={key:1,class:"avatar-placeholder"},zr={class:"member-details"},Zr={class:"member-name"},ec={key:0,class:"member-role"},tc={key:1,class:"member-email"},ac={class:"rsvp-info"},sc={key:0,class:"waitlist-position"},lc={class:"rsvp-time"},nc={key:1,class:"rsvp-notes"},ic={key:0,class:"attendee-actions"};var oc={__name:"AttendeeCard",props:{rsvp:{type:Object,required:!0},status:{type:String,required:!0,validator:e=>["attending","maybe","waitlist","not-attending"].includes(e)},position:{type:Number,default:null},showEmail:{type:Boolean,default:!1},showActions:{type:Boolean,default:!1},canRemove:{type:Boolean,default:!1}},emits:["promote-waitlist","contact-member","remove-rsvp"],setup(e,{emit:t}){const a=e,s=t,i=(0,l.EW)(()=>{const e=a.rsvp.member;return e?e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.name||e.email||"Unknown Member":"Unknown Member"}),o=(0,l.EW)(()=>{const e=i.value,t=e.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()}),r=(0,l.EW)(()=>({"card-attending":"attending"===a.status,"card-maybe":"maybe"===a.status,"card-waitlist":"waitlist"===a.status,"card-not-attending":"not-attending"===a.status})),c=(0,l.EW)(()=>({"badge-attending":"attending"===a.status,"badge-maybe":"maybe"===a.status,"badge-waitlist":"waitlist"===a.status,"badge-not-attending":"not-attending"===a.status})),d=(0,l.EW)(()=>{const e={attending:"bi bi-check-circle-fill",maybe:"bi bi-question-circle-fill",waitlist:"bi bi-clock-history","not-attending":"bi bi-x-circle-fill"};return e[a.status]}),u=(0,l.EW)(()=>{const e={attending:"Going",maybe:"Maybe",waitlist:"Waitlist","not-attending":"Not Going"};return e[a.status]}),m=e=>e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),v=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);if(1===l)return"yesterday";if(l<7)return`${l}d ago`;const n=Math.floor(l/7);return 1===n?"last week":n<4?`${n}w ago`:a.toLocaleDateString()},p=()=>{s("promote-waitlist",a.rsvp)},h=()=>{s("contact-member",a.rsvp.member)},b=()=>{s("remove-rsvp",a.rsvp)};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["attendee-card",r.value])},[(0,l.Lk)("div",Jr,[(0,l.Lk)("div",Hr,[e.rsvp.member?.profileImage?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.rsvp.member.profileImage,alt:i.value,class:"avatar-img"},null,8,qr)):((0,l.uX)(),(0,l.CE)("div",Yr,(0,n.v_)(o.value),1))]),(0,l.Lk)("div",zr,[(0,l.Lk)("h6",Zr,(0,n.v_)(i.value),1),e.rsvp.member?.role?((0,l.uX)(),(0,l.CE)("p",ec,(0,n.v_)(m(e.rsvp.member.role)),1)):(0,l.Q3)("",!0),e.showEmail?((0,l.uX)(),(0,l.CE)("p",tc,(0,n.v_)(e.rsvp.member?.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",ac,[(0,l.Lk)("div",{class:(0,n.C4)(["status-badge",c.value])},[(0,l.Lk)("i",{class:(0,n.C4)(d.value)},null,2),(0,l.Lk)("span",null,(0,n.v_)(u.value),1)],2),"waitlist"===e.status&&e.position?((0,l.uX)(),(0,l.CE)("div",sc," Position #"+(0,n.v_)(e.position),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",lc," RSVPed "+(0,n.v_)(v(e.rsvp.createdAt)),1),e.rsvp.notes?((0,l.uX)(),(0,l.CE)("div",nc,[a[0]||(a[0]=(0,l.Lk)("i",{class:"bi bi-chat-left-text"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.rsvp.notes),1)])):(0,l.Q3)("",!0)]),e.showActions?((0,l.uX)(),(0,l.CE)("div",ic,["waitlist"===e.status?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-sm btn-success",onClick:p,title:"Move to attending"},[...a[1]||(a[1]=[(0,l.Lk)("i",{class:"bi bi-arrow-up-circle"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:h,title:"Send message"},[...a[2]||(a[2]=[(0,l.Lk)("i",{class:"bi bi-envelope"},null,-1)])]),e.canRemove?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-sm btn-outline-danger",onClick:b,title:"Remove RSVP"},[...a[3]||(a[3]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],2))}};const rc=(0,U.A)(oc,[["__scopeId","data-v-254b04b9"]]);var cc=rc;const dc={class:"attendee-list"},uc={class:"attendee-header"},mc={class:"mb-0"},vc={class:"badge bg-primary ms-2"},pc={class:"status-summary"},hc={key:0,class:"attendee-details"},bc={key:0,class:"attendee-section"},kc={class:"section-title"},gc={class:"attendee-grid"},yc={key:1,class:"attendee-section"},Lc={class:"section-title"},fc={class:"attendee-grid"},Cc={key:2,class:"attendee-section"},wc={class:"section-title"},Ec={class:"attendee-grid"},Sc={key:3,class:"attendee-section"},Tc={key:0,class:"attendee-grid"},Ac={key:1,class:"empty-state"};var Ic={__name:"AttendeeList",props:{rsvps:{type:Array,default:()=>[]},showDetails:{type:Boolean,default:!1}},emits:["toggle-details"],setup(e,{emit:t}){const a=e,s=t,i=(0,x.KR)(!1),o=(0,l.EW)(()=>a.rsvps.filter(e=>"ATTENDING"===e.status)),r=(0,l.EW)(()=>a.rsvps.filter(e=>"MAYBE"===e.status)),c=(0,l.EW)(()=>a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt))),d=(0,l.EW)(()=>a.rsvps.filter(e=>"NOT_ATTENDING"===e.status)),u=(0,l.EW)(()=>o.value.length+r.value.length+c.value.length),m=(0,l.EW)(()=>({ATTENDING:o.value.length,MAYBE:r.value.length,WAITLIST:c.value.length,NOT_ATTENDING:d.value.length})),v=()=>{s("toggle-details")},p=e=>{const t={ATTENDING:"bi bi-check-circle-fill",MAYBE:"bi bi-question-circle-fill",WAITLIST:"bi bi-clock-history",NOT_ATTENDING:"bi bi-x-circle-fill"};return t[e]},h=e=>{const t={ATTENDING:"Going",MAYBE:"Maybe",WAITLIST:"Waitlist",NOT_ATTENDING:"Not Going"};return t[e]},b=e=>{const t={ATTENDING:"status-attending",MAYBE:"status-maybe",WAITLIST:"status-waitlist",NOT_ATTENDING:"status-not-attending"};return t[e]};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",dc,[(0,l.Lk)("div",uc,[(0,l.Lk)("h6",mc,[a[1]||(a[1]=(0,l.Lk)("i",{class:"bi bi-people text-primary"},null,-1)),a[2]||(a[2]=(0,l.eW)(" Attendees ",-1)),(0,l.Lk)("span",vc,(0,n.v_)(u.value),1)]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:v},[(0,l.Lk)("i",{class:(0,n.C4)(e.showDetails?"bi bi-chevron-up":"bi bi-chevron-down")},null,2),(0,l.eW)(" "+(0,n.v_)(e.showDetails?"Hide":"Show")+" Details ",1)])]),(0,l.Lk)("div",pc,[t.count>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(m.value,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["status-chip",b(t)])},[(0,l.Lk)("i",{class:(0,n.C4)(p(t))},null,2),(0,l.Lk)("span",null,(0,n.v_)(h(t))+" ("+(0,n.v_)(e)+")",1)],2))),128)):(0,l.Q3)("",!0)]),e.showDetails?((0,l.uX)(),(0,l.CE)("div",hc,[o.value.length?((0,l.uX)(),(0,l.CE)("div",bc,[(0,l.Lk)("h6",kc,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-success"},null,-1)),(0,l.eW)(" Attending ("+(0,n.v_)(o.value.length)+") ",1)]),(0,l.Lk)("div",gc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,e=>((0,l.uX)(),(0,l.Wv)(cc,{key:e.id,rsvp:e,status:"attending"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),r.value.length?((0,l.uX)(),(0,l.CE)("div",yc,[(0,l.Lk)("h6",Lc,[a[4]||(a[4]=(0,l.Lk)("i",{class:"bi bi-question-circle-fill text-warning"},null,-1)),(0,l.eW)(" Maybe ("+(0,n.v_)(r.value.length)+") ",1)]),(0,l.Lk)("div",fc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,e=>((0,l.uX)(),(0,l.Wv)(cc,{key:e.id,rsvp:e,status:"maybe"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),c.value.length?((0,l.uX)(),(0,l.CE)("div",Cc,[(0,l.Lk)("h6",wc,[a[5]||(a[5]=(0,l.Lk)("i",{class:"bi bi-clock-history text-info"},null,-1)),(0,l.eW)(" Waitlist ("+(0,n.v_)(c.value.length)+") ",1)]),(0,l.Lk)("div",Ec,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.value,(e,t)=>((0,l.uX)(),(0,l.Wv)(cc,{key:e.id,rsvp:e,position:t+1,status:"waitlist"},null,8,["rsvp","position"]))),128))])])):(0,l.Q3)("",!0),d.value.length?((0,l.uX)(),(0,l.CE)("div",Sc,[(0,l.Lk)("button",{class:"btn btn-sm btn-link section-title p-0",onClick:a[0]||(a[0]=e=>i.value=!i.value)},[a[6]||(a[6]=(0,l.Lk)("i",{class:"bi bi-x-circle-fill text-danger"},null,-1)),(0,l.eW)(" Not Attending ("+(0,n.v_)(d.value.length)+") ",1),(0,l.Lk)("i",{class:(0,n.C4)(i.value?"bi bi-chevron-up":"bi bi-chevron-down")},null,2)]),i.value?((0,l.uX)(),(0,l.CE)("div",Tc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,e=>((0,l.uX)(),(0,l.Wv)(cc,{key:e.id,rsvp:e,status:"not-attending"},null,8,["rsvp"]))),128))])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),!u.value&&e.showDetails?((0,l.uX)(),(0,l.CE)("div",Ac,[...a[7]||(a[7]=[(0,l.Lk)("i",{class:"bi bi-calendar-x text-muted"},null,-1),(0,l.Lk)("p",{class:"text-muted mb-0"},"No RSVPs yet",-1)])])):(0,l.Q3)("",!0)]))}};const Rc=(0,U.A)(Ic,[["__scopeId","data-v-52123bd4"]]);var Mc=Rc;function xc(e,t,a=[]){const s=(0,x.KR)([...a]),n=(0,x.KR)(!1),i=(0,x.KR)(null),{createRSVP:o,updateRSVP:r,deleteRSVP:c,fetchEventRSVPs:d}=ga(),u=(0,l.EW)(()=>s.value.find(e=>e.userId===t)),m=(0,l.EW)(()=>{const e={ATTENDING:0,NOT_ATTENDING:0,MAYBE:0,WAITLIST:0,PENDING:0};return s.value.forEach(t=>{e.hasOwnProperty(t.status)&&e[t.status]++}),e}),v=(0,l.EW)(()=>m.value.ATTENDING+m.value.WAITLIST),p=(0,l.EW)(()=>!!u.value),h=async()=>{if(e)try{n.value=!0,i.value=null;const t=await d(e);s.value=t.data||[]}catch(t){throw console.error("Failed to load RSVPs:",t),i.value="Failed to load RSVPs",t}finally{n.value=!1}},b=async a=>{if(!e||!t)throw new Error("Event ID and User ID are required");try{let l;n.value=!0,i.value=null,l=p.value?await r(e,t,{status:a}):await o(e,{userId:t,status:a});const c=l.data,d=s.value.findIndex(e=>e.userId===t);return d>=0?s.value[d]=c:s.value.push(c),c}catch(l){throw console.error("Failed to update RSVP:",l),i.value="Failed to update RSVP",l}finally{n.value=!1}},k=async()=>{if(p.value)try{n.value=!0,i.value=null,await c(e,t);const a=s.value.findIndex(e=>e.userId===t);a>=0&&s.value.splice(a,1)}catch(a){throw console.error("Failed to remove RSVP:",a),i.value="Failed to remove RSVP",a}finally{n.value=!1}},g=async t=>{try{n.value=!0,i.value=null;const a=await r(e,t,{status:"ATTENDING"}),l=s.value.findIndex(e=>e.id===t);return l>=0&&(s.value[l]=a.data),a.data}catch(a){throw console.error("Failed to promote from waitlist:",a),i.value="Failed to promote from waitlist",a}finally{n.value=!1}},y=async t=>{try{n.value=!0,i.value=null;const a=t.map(t=>r(e,t.userId,{status:t.status})),l=await Promise.all(a);return l.forEach((e,a)=>{const l=e.data,n=s.value.findIndex(e=>e.userId===t[a].userId);n>=0&&(s.value[n]=l)}),l.map(e=>e.data)}catch(a){throw console.error("Failed to bulk update RSVPs:",a),i.value="Failed to update RSVPs",a}finally{n.value=!1}},L=e=>s.value.filter(t=>t.status===e),f=e=>{const t=L("WAITLIST").sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return t.findIndex(t=>t.userId===e)+1},C=e=>{if(!e)return!0;const t=m.value.ATTENDING;return t<e||"ATTENDING"===u.value?.status},w=e=>{if(!e)return{isFull:!1,percentage:0,remaining:1/0,waitlistCount:m.value.WAITLIST};const t=m.value.ATTENDING,a=Math.round(t/e*100);return{isFull:t>=e,percentage:Math.min(a,100),remaining:Math.max(e-t,0),waitlistCount:m.value.WAITLIST}};return(0,l.wB)(()=>e,e=>{e&&h()},{immediate:!0}),{rsvps:s,isLoading:n,error:i,currentUserRsvp:u,rsvpCounts:m,totalAttending:v,hasUserRsvped:p,loadRSVPs:h,updateRSVP:b,removeRSVP:k,promoteFromWaitlist:g,bulkUpdateRSVPs:y,getRSVPsByStatus:L,getWaitlistPosition:f,canUserAttend:C,getCapacityInfo:w}}const Dc={class:"rsvp-card"},Nc={class:"capacity-section"},Fc={class:"capacity-display"},_c={class:"attendee-stats"},Uc={class:"attendee-count"},Pc={key:0,class:"capacity-progress"},Wc={class:"progress"},Xc={class:"text-muted"},Vc={class:"rsvp-section"},Kc={key:0,class:"current-status"},Oc={class:"status-badge"},Bc={class:"text-muted d-block mt-1"},$c={class:"rsvp-actions mt-3"},Qc=["onClick","disabled"],jc={class:"btn-content"},Gc={key:0,class:"badge bg-light text-dark ms-2"},Jc={key:1,class:"waitlist-info alert alert-info mt-3"},Hc={class:"waitlist-details"},qc={key:2,class:"event-full-info alert alert-warning mt-3"},Yc={class:"attendee-summary mt-4"},zc={key:0,class:"loading-overlay"};var Zc={__name:"EventRSVPCard",props:{event:{type:Object,required:!0},rsvps:{type:Array,default:()=>[]},currentUserId:{type:Number,default:null}},emits:["rsvp-updated"],setup(e,{emit:t}){const a=e,s=t,i=(0,x.KR)(!1),{currentUserRsvp:o,isLoading:r,updateRSVP:c,rsvpCounts:d}=xc(a.event.id,a.currentUserId,a.rsvps),u=[{status:"ATTENDING",label:"Going",icon:"bi bi-check-circle-fill",class:"btn-success"},{status:"NOT_ATTENDING",label:"Not Going",icon:"bi bi-x-circle-fill",class:"btn-danger"},{status:"MAYBE",label:"Maybe",icon:"bi bi-question-circle-fill",class:"btn-warning"}],m=(0,l.EW)(()=>d.value.ATTENDING+d.value.WAITLIST),v=(0,l.EW)(()=>a.event.capacity?Math.min(Math.round(m.value/a.event.capacity*100),100):0),p=(0,l.EW)(()=>{const e=v.value;return e>=90?"bg-danger":e>=75?"bg-warning":"bg-success"}),h=(0,l.EW)(()=>a.event.capacity&&m.value>=a.event.capacity),b=(0,l.EW)(()=>!h.value||"ATTENDING"===o.value?.status),k=(0,l.EW)(()=>"WAITLIST"===o.value?.status),g=(0,l.EW)(()=>{if(!k.value)return null;const e=a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return e.findIndex(e=>e.userId===a.currentUserId)+1}),y=async e=>{try{await c(e),s("rsvp-updated",{eventId:a.event.id,status:e})}catch(t){console.error("Failed to update RSVP:",t)}},L=e=>d.value[e]||0,f=e=>{const t={ATTENDING:"bi bi-check-circle-fill text-success",NOT_ATTENDING:"bi bi-x-circle-fill text-danger",MAYBE:"bi bi-question-circle-fill text-warning",WAITLIST:"bi bi-clock-history text-info",PENDING:"bi bi-hourglass-split text-muted"};return t[e]||"bi bi-circle text-muted"},C=e=>{const t={ATTENDING:"Going",NOT_ATTENDING:"Not Going",MAYBE:"Maybe",WAITLIST:"On Waitlist",PENDING:"Pending"};return t[e]||e},w=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"Just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);return l<7?`${l}d ago`:a.toLocaleDateString()};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",Dc,[(0,l.Lk)("div",Nc,[a[2]||(a[2]=(0,l.Lk)("div",{class:"capacity-header"},[(0,l.Lk)("h6",{class:"mb-2"},[(0,l.Lk)("i",{class:"bi bi-people-fill text-info"}),(0,l.eW)(" Event Capacity ")])],-1)),(0,l.Lk)("div",Fc,[(0,l.Lk)("div",_c,[(0,l.Lk)("span",Uc,(0,n.v_)(m.value)+"/"+(0,n.v_)(e.event.capacity||"Unlimited"),1),a[1]||(a[1]=(0,l.Lk)("span",{class:"attendee-label"},"attending",-1))]),e.event.capacity?((0,l.uX)(),(0,l.CE)("div",Pc,[(0,l.Lk)("div",Wc,[(0,l.Lk)("div",{class:(0,n.C4)(["progress-bar",p.value]),style:(0,n.Tr)({width:v.value+"%"}),role:"progressbar"},null,6)]),(0,l.Lk)("small",Xc,(0,n.v_)(v.value)+"% full",1)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Vc,[a[6]||(a[6]=(0,l.Lk)("div",{class:"rsvp-header"},[(0,l.Lk)("h6",{class:"mb-3"},[(0,l.Lk)("i",{class:"bi bi-calendar-check text-success"}),(0,l.eW)(" Your RSVP Status ")])],-1)),(0,x.R1)(o)?((0,l.uX)(),(0,l.CE)("div",Kc,[(0,l.Lk)("div",Oc,[(0,l.Lk)("i",{class:(0,n.C4)(f((0,x.R1)(o).status))},null,2),(0,l.Lk)("span",null,(0,n.v_)(C((0,x.R1)(o).status)),1)]),(0,l.Lk)("small",Bc," Updated "+(0,n.v_)(w((0,x.R1)(o).createdAt)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",$c,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(u,e=>(0,l.Lk)("button",{key:e.status,class:(0,n.C4)(["btn","rsvp-btn",e.class,{active:(0,x.R1)(o)?.status===e.status,disabled:(0,x.R1)(r)||!b.value&&"ATTENDING"===e.status}]),onClick:t=>y(e.status),disabled:(0,x.R1)(r)},[(0,l.Lk)("div",jc,[(0,l.Lk)("i",{class:(0,n.C4)(e.icon)},null,2),(0,l.Lk)("span",null,(0,n.v_)(e.label),1)]),L(e.status)?((0,l.uX)(),(0,l.CE)("span",Gc,(0,n.v_)(L(e.status)),1)):(0,l.Q3)("",!0)],10,Qc)),64))]),k.value?((0,l.uX)(),(0,l.CE)("div",Jc,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-clock-history"},null,-1)),a[4]||(a[4]=(0,l.Lk)("strong",null,"You're on the waitlist!",-1)),(0,l.Lk)("div",Hc," Position #"+(0,n.v_)(g.value)+" - We'll notify you if a spot opens up. ",1)])):(0,l.Q3)("",!0),h.value&&!(0,x.R1)(o)?((0,l.uX)(),(0,l.CE)("div",qc,[...a[5]||(a[5]=[(0,l.Lk)("i",{class:"bi bi-exclamation-triangle"},null,-1),(0,l.Lk)("strong",null,"Event is at capacity",-1),(0,l.Lk)("div",null,"You can still RSVP to join the waitlist.",-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Yc,[(0,l.bF)(Mc,{rsvps:e.rsvps,"show-details":i.value,onToggleDetails:a[0]||(a[0]=e=>i.value=!i.value)},null,8,["rsvps","show-details"])]),(0,x.R1)(r)?((0,l.uX)(),(0,l.CE)("div",zc,[...a[7]||(a[7]=[(0,l.Lk)("div",{class:"spinner-border text-info",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):(0,l.Q3)("",!0)]))}};const ed=(0,U.A)(Zc,[["__scopeId","data-v-3799098a"]]);var td=ed,ad={name:"Events",components:{EventRSVPCard:td,SkeletonLoader:Na},setup(){const{fetchEventRSVPs:e}=ga(),t=(0,x.KR)([]),a=(0,x.KR)([]),s=(0,x.KR)({}),l=(0,x.KR)(!1),n=(0,x.KR)(!1),i=(0,x.KR)("cards"),o=(0,x.KR)(""),r=(0,x.KR)(""),c=(0,x.KR)(""),d=(0,x.KR)(""),u=(0,x.KR)(!1),m=(0,x.KR)(!1),v=(0,x.KR)(!1),p=(0,x.KR)(null),h=(0,x.Kh)({id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}),b=(0,x.KR)(1);return{events:t,chapters:a,eventRsvps:s,loading:l,saving:n,viewMode:i,searchTerm:o,selectedChapter:r,selectedType:c,selectedTimeframe:d,showCreateModal:u,showEditModal:m,showDeleteModal:v,eventToDelete:p,eventForm:h,currentUserId:b,fetchEventRSVPs:e}},computed:{filteredEvents(){let e=this.events;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t)||e.chapter&&e.chapter.name.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapter&&e.chapter.id===parseInt(this.selectedChapter))),this.selectedType&&(e=e.filter(e=>e.type===this.selectedType)),this.selectedTimeframe){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=new Date(t.getTime()+6048e5),l=new Date(t.getFullYear(),t.getMonth()+1,t.getDate());e=e.filter(e=>{const n=new Date(e.eventDateTime);switch(this.selectedTimeframe){case"upcoming":return n>=t;case"past":return n<t;case"today":return n>=a&&n<new Date(a.getTime()+864e5);case"this-week":return n>=t&&n<=s;case"this-month":return n>=t&&n<=l;default:return!0}})}return e.sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}},data(){return{eventRsvps:{},viewMode:"cards",currentUserId:1}},async mounted(){await this.loadData()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([Gr.getAllEvents(),yl.getAllChapters()]);this.events=e,this.chapters=t,await this.loadAllRSVPs()}catch(e){console.error("Error loading events:",e)}finally{this.loading=!1}},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>50?e.substring(0,50)+"...":e},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"},editEvent(e){const t=new Date(e.eventDateTime),a=t.toISOString().slice(0,16);this.eventForm={id:e.id,title:e.title,description:e.description||"",eventDateTime:a,type:e.type,chapterId:e.chapter?e.chapter.id:"",location:e.location||""},this.showEditModal=!0},confirmDelete(e){this.eventToDelete=e,this.showDeleteModal=!0},async saveEvent(){try{this.saving=!0;const e={...this.eventForm,chapter:this.eventForm.chapterId?{id:this.eventForm.chapterId}:null};delete e.chapterId,this.showEditModal?await Gr.updateEvent(this.eventForm.id,e):await Gr.createEvent(e),await this.loadData(),this.closeModal()}catch(e){console.error("Error saving event:",e),alert("Error saving event. Please try again.")}finally{this.saving=!1}},async deleteEvent(){try{await Gr.deleteEvent(this.eventToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.eventToDelete=null}catch(e){console.error("Error deleting event:",e),alert("Error deleting event. Please try again.")}},async loadEventRSVPs(e){try{const t=await this.fetchEventRSVPs(e);this.eventRsvps[e]=t.data||[]}catch(t){console.error(`Error loading RSVPs for event ${e}:`,t)}},async loadAllRSVPs(){const e=this.events.map(e=>this.loadEventRSVPs(e.id));await Promise.all(e)},handleRSVPUpdate(e){this.loadEventRSVPs(e.eventId)},getRSVPCount(e,t){const a=this.eventRsvps[e]||[];return a.filter(e=>e.status===t).length},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.eventForm={id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}}}};const sd=(0,U.A)(ad,[["render",jr],["__scopeId","data-v-6af8159a"]]);var ld=sd;const nd={class:"chapter-detail"},id={class:"container"},od={key:0,class:"text-center py-4"},rd={key:1,class:"text-center py-4"},cd={class:"alert alert-danger"},dd={key:2},ud={class:"row mb-4"},md={class:"col"},vd={"aria-label":"breadcrumb"},pd={class:"breadcrumb"},hd={class:"breadcrumb-item"},bd={class:"breadcrumb-item"},kd={class:"breadcrumb-item active","aria-current":"page"},gd={class:"d-flex justify-content-between align-items-start"},yd={class:"display-4 mb-2"},Ld={class:"lead text-muted"},fd={class:"row mb-4"},Cd={class:"col-lg-8"},wd={class:"card"},Ed={class:"card-body"},Sd={class:"row"},Td={class:"col-md-6"},Ad={class:"col-md-6"},Id={key:0,class:"mt-3"},Rd={class:"mt-2"},Md={class:"col-lg-4"},xd={class:"card bg-primary text-white mb-3"},Dd={class:"card-body text-center"},Nd={class:"card bg-success text-white mb-3"},Fd={class:"card-body text-center"},_d={class:"row mb-4"},Ud={class:"col"},Pd={class:"card"},Wd={class:"card-header bg-light d-flex justify-content-between align-items-center"},Xd={class:"card-body"},Vd={key:0,class:"text-center text-muted py-4"},Kd={key:1,class:"row"},Od={class:"card border-0 bg-light"},Bd={class:"card-body"},$d={class:"card-title text-primary"},Qd={class:"card-text mb-1"},jd={class:"card-text"},Gd={class:"text-muted"},Jd={class:"row mb-4"},Hd={class:"col"},qd={class:"card"},Yd={class:"card-header bg-light d-flex justify-content-between align-items-center"},zd={class:"card-title mb-0"},Zd={class:"card-body p-0"},eu={key:0,class:"text-center text-muted py-4"},tu={key:1,class:"table-responsive"},au={class:"table table-hover mb-0"},su={class:"row"},lu={class:"col"},nu={class:"card"},iu={class:"card-header bg-light d-flex justify-content-between align-items-center"},ou={class:"card-body p-0"},ru={key:0,class:"text-center text-muted py-4"},cu={key:1,class:"table-responsive"},du={class:"table table-hover mb-0"},uu={key:0,class:"text-muted"},mu={key:0,class:"text-center p-3 border-top"};function vu(e,t,a,s,i,o){const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",nd,[(0,l.Lk)("div",id,[i.loading?((0,l.uX)(),(0,l.CE)("div",od,[...t[2]||(t[2]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):i.chapter?((0,l.uX)(),(0,l.CE)("div",dd,[(0,l.Lk)("div",ud,[(0,l.Lk)("div",md,[(0,l.Lk)("nav",vd,[(0,l.Lk)("ol",pd,[(0,l.Lk)("li",hd,[(0,l.bF)(r,{to:"/"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.eW)("Home",-1)])]),_:1})]),(0,l.Lk)("li",bd,[(0,l.bF)(r,{to:"/chapters"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("Chapters",-1)])]),_:1})]),(0,l.Lk)("li",kd,(0,n.v_)(i.chapter.name),1)])]),(0,l.Lk)("div",gd,[(0,l.Lk)("div",null,[(0,l.Lk)("h1",yd,[t[8]||(t[8]=(0,l.Lk)("i",{class:"bi bi-building text-primary me-3"},null,-1)),(0,l.eW)(" "+(0,n.v_)(i.chapter.name),1)]),(0,l.Lk)("p",Ld,(0,n.v_)(i.chapter.universityName),1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-outline-secondary me-2",onClick:t[0]||(t[0]=(...e)=>o.editChapter&&o.editChapter(...e))},[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)(" Edit Chapter ",-1)])]),(0,l.bF)(r,{to:"/chapters",class:"btn btn-secondary"},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])])])]),(0,l.Lk)("div",fd,[(0,l.Lk)("div",Cd,[(0,l.Lk)("div",wd,[t[18]||(t[18]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-info-circle text-primary me-2"}),(0,l.eW)(" Chapter Information ")])],-1)),(0,l.Lk)("div",Ed,[(0,l.Lk)("div",Sd,[(0,l.Lk)("div",Td,[(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"University:",-1)),(0,l.eW)(" "+(0,n.v_)(i.chapter.universityName),1)]),(0,l.Lk)("p",null,[t[12]||(t[12]=(0,l.Lk)("strong",null,"Location:",-1)),(0,l.eW)(" "+(0,n.v_)(i.chapter.city)+", "+(0,n.v_)(i.chapter.state),1)]),(0,l.Lk)("p",null,[t[13]||(t[13]=(0,l.Lk)("strong",null,"Founded:",-1)),(0,l.eW)(" "+(0,n.v_)(o.formatDate(i.chapter.foundedDate)),1)])]),(0,l.Lk)("div",Ad,[(0,l.Lk)("p",null,[t[14]||(t[14]=(0,l.Lk)("strong",null,"Total Members:",-1)),(0,l.eW)(" "+(0,n.v_)(i.chapterMembers.length),1)]),(0,l.Lk)("p",null,[t[15]||(t[15]=(0,l.Lk)("strong",null,"Active Members:",-1)),(0,l.eW)(" "+(0,n.v_)(o.activeMembers.length),1)]),(0,l.Lk)("p",null,[t[16]||(t[16]=(0,l.Lk)("strong",null,"Upcoming Events:",-1)),(0,l.eW)(" "+(0,n.v_)(o.upcomingEvents.length),1)])])]),i.chapter.description?((0,l.uX)(),(0,l.CE)("div",Id,[t[17]||(t[17]=(0,l.Lk)("strong",null,"Description:",-1)),(0,l.Lk)("p",Rd,(0,n.v_)(i.chapter.description),1)])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Md,[(0,l.Lk)("div",xd,[(0,l.Lk)("div",Dd,[t[19]||(t[19]=(0,l.Lk)("i",{class:"bi bi-people-fill display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(i.chapterMembers.length),1),t[20]||(t[20]=(0,l.Lk)("p",{class:"mb-0"},"Total Members",-1))])]),(0,l.Lk)("div",Nd,[(0,l.Lk)("div",Fd,[t[21]||(t[21]=(0,l.Lk)("i",{class:"bi bi-calendar-event display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(o.upcomingEvents.length),1),t[22]||(t[22]=(0,l.Lk)("p",{class:"mb-0"},"Upcoming Events",-1))])])])]),(0,l.Lk)("div",_d,[(0,l.Lk)("div",Ud,[(0,l.Lk)("div",Pd,[(0,l.Lk)("div",Wd,[t[24]||(t[24]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-award text-warning me-2"}),(0,l.eW)(" Chapter Leadership ")],-1)),(0,l.bF)(r,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])]),_:1})]),(0,l.Lk)("div",Xd,[0===o.leadership.length?((0,l.uX)(),(0,l.CE)("div",Vd,[...t[25]||(t[25]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No leadership positions assigned",-1)])])):((0,l.uX)(),(0,l.CE)("div",Kd,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.leadership,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 mb-3"},[(0,l.Lk)("div",Od,[(0,l.Lk)("div",Bd,[(0,l.Lk)("h6",$d,(0,n.v_)(o.formatRole(e.role)),1),(0,l.Lk)("p",Qd,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("p",jd,[(0,l.Lk)("small",Gd,[t[26]||(t[26]=(0,l.Lk)("i",{class:"bi bi-envelope me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.email),1)])])])])]))),128))]))])])])]),(0,l.Lk)("div",Jd,[(0,l.Lk)("div",Hd,[(0,l.Lk)("div",qd,[(0,l.Lk)("div",Yd,[(0,l.Lk)("h5",zd,[t[27]||(t[27]=(0,l.Lk)("i",{class:"bi bi-people text-success me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(i.chapterMembers.length)+") ",1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary me-2",onClick:t[1]||(t[1]=e=>i.showInactiveMembers=!i.showInactiveMembers)},(0,n.v_)(i.showInactiveMembers?"Hide":"Show")+" Inactive ",1),(0,l.bF)(r,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[28]||(t[28]=[(0,l.eW)(" View All Members ",-1)])]),_:1})])]),(0,l.Lk)("div",Zd,[0===o.displayedMembers.length?((0,l.uX)(),(0,l.CE)("div",eu,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",tu,[(0,l.Lk)("table",au,[t[30]||(t[30]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.displayedMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",o.getRoleBadgeClass(e.role)])},(0,n.v_)(o.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,(0,n.v_)(o.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)])]))),128))])])]))])])])]),(0,l.Lk)("div",su,[(0,l.Lk)("div",lu,[(0,l.Lk)("div",nu,[(0,l.Lk)("div",iu,[t[32]||(t[32]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event text-info me-2"}),(0,l.eW)(" Chapter Events ")],-1)),(0,l.bF)(r,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" Create Event ",-1)])]),_:1})]),(0,l.Lk)("div",ou,[0===i.chapterEvents.length?((0,l.uX)(),(0,l.CE)("div",ru,[...t[33]||(t[33]=[(0,l.Lk)("i",{class:"bi bi-calendar-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No events scheduled",-1)])])):((0,l.uX)(),(0,l.CE)("div",cu,[(0,l.Lk)("table",du,[t[35]||(t[35]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapterEvents.slice(0,10),e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[34]||(t[34]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",uu,(0,n.v_)(o.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(o.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",o.getTypeBadgeClass(e.type)])},(0,n.v_)(o.formatType(e.type)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",o.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(o.getEventStatus(e.eventDateTime)),3)])]))),128))])]),i.chapterEvents.length>10?((0,l.uX)(),(0,l.CE)("div",mu,[(0,l.bF)(r,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[(0,l.eW)(" View All "+(0,n.v_)(i.chapterEvents.length)+" Events ",1)]),_:1})])):(0,l.Q3)("",!0)]))])])])])])):((0,l.uX)(),(0,l.CE)("div",rd,[(0,l.Lk)("div",cd,[t[4]||(t[4]=(0,l.Lk)("h4",null,"Chapter Not Found",-1)),t[5]||(t[5]=(0,l.Lk)("p",null,"The chapter you're looking for doesn't exist.",-1)),(0,l.bF)(r,{to:"/chapters",class:"btn btn-primary"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])]))])])}var pu={name:"ChapterDetail",data(){return{loading:!0,chapter:null,chapterMembers:[],chapterEvents:[],showInactiveMembers:!1}},computed:{activeMembers(){return this.chapterMembers.filter(e=>e.active)},leadership(){return this.chapterMembers.filter(e=>["PRESIDENT","VICE_PRESIDENT","SECRETARY","TREASURER"].includes(e.role)).sort((e,t)=>{const a={PRESIDENT:1,VICE_PRESIDENT:2,SECRETARY:3,TREASURER:4};return a[e.role]-a[t.role]})},displayedMembers(){return this.showInactiveMembers?this.chapterMembers:this.activeMembers},upcomingEvents(){const e=new Date;return this.chapterEvents.filter(t=>new Date(t.eventDateTime)>=e)}},async mounted(){await this.loadChapterData()},methods:{async loadChapterData(){try{this.loading=!0;const e=parseInt(this.$route.params.id),[t,a,s]=await Promise.all([yl.getChapterById(e),Cl.getAllMembers(),Gr.getAllEvents()]);this.chapter=t,this.chapterMembers=a.filter(t=>t.chapterId===e),this.chapterEvents=s.filter(t=>t.chapter&&t.chapter.id===e).sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}catch(e){console.error("Error loading chapter data:",e),this.chapter=null}finally{this.loading=!1}},editChapter(){this.$router.push("/chapters")},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>100?e.substring(0,100)+"...":e},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"}},watch:{$route(){this.loadChapterData()}}};const hu=(0,U.A)(pu,[["render",vu]]);var bu=hu;const ku={class:"login-container"},gu={class:"card"},yu={class:"card-body"},Lu={key:0,class:"alert alert-danger",role:"alert"},fu={key:1,class:"alert alert-success",role:"alert"},Cu={class:"mb-3"},wu={class:"mb-3"},Eu=["disabled"],Su={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Tu={key:2,class:"mt-4"},Au={class:"card"},Iu={class:"card-body"},Ru={class:"mt-4"},Mu=["disabled"],xu={key:0,class:"mt-2"};function Du(e,t,a,i,o,r){return(0,l.uX)(),(0,l.CE)("div",ku,[(0,l.Lk)("div",gu,[t[14]||(t[14]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",null,"Login")],-1)),(0,l.Lk)("div",yu,[o.error?((0,l.uX)(),(0,l.CE)("div",Lu,(0,n.v_)(o.error),1)):(0,l.Q3)("",!0),o.success?((0,l.uX)(),(0,l.CE)("div",fu,(0,n.v_)(o.success),1)):(0,l.Q3)("",!0),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)((...e)=>r.login&&r.login(...e),["prevent"]))},[(0,l.Lk)("div",Cu,[t[5]||(t[5]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.credentials.username=e),required:""},null,512),[[s.Jo,o.credentials.username]]),t[6]||(t[6]=(0,l.Lk)("div",{class:"form-text"},"Use: testuser",-1))]),(0,l.Lk)("div",wu,[t[7]||(t[7]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.credentials.password=e),required:""},null,512),[[s.Jo,o.credentials.password]]),t[8]||(t[8]=(0,l.Lk)("div",{class:"form-text"},"Use: password123",-1))]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.loading},[o.loading?((0,l.uX)(),(0,l.CE)("span",Su)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.loading?"Logging in...":"Login"),1)],8,Eu)],32),o.user?((0,l.uX)(),(0,l.CE)("div",Tu,[t[12]||(t[12]=(0,l.Lk)("h5",null,"Current User",-1)),(0,l.Lk)("div",Au,[(0,l.Lk)("div",Iu,[(0,l.Lk)("p",null,[t[9]||(t[9]=(0,l.Lk)("strong",null,"Name:",-1)),(0,l.eW)(" "+(0,n.v_)(o.user.firstName)+" "+(0,n.v_)(o.user.lastName),1)]),(0,l.Lk)("p",null,[t[10]||(t[10]=(0,l.Lk)("strong",null,"Email:",-1)),(0,l.eW)(" "+(0,n.v_)(o.user.email),1)]),(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"Role:",-1)),(0,l.eW)(" "+(0,n.v_)(o.user.role),1)]),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.logout&&r.logout(...e)),class:"btn btn-secondary"},"Logout")])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Ru,[t[13]||(t[13]=(0,l.Lk)("h5",null,"Test Secured Endpoint",-1)),(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.testSecuredEndpoint&&r.testSecuredEndpoint(...e)),class:"btn btn-info",disabled:!o.user}," Test Chapter Access with Authentication ",8,Mu),o.securedTestResult?((0,l.uX)(),(0,l.CE)("div",xu,[(0,l.Lk)("div",{class:(0,n.C4)(["alert",o.securedTestResult.success?"alert-success":"alert-danger"])},(0,n.v_)(o.securedTestResult.message),3)])):(0,l.Q3)("",!0)])])])])}var Nu={name:"Login",data(){return{credentials:{username:"testuser",password:"password123"},user:null,loading:!1,error:null,success:null,securedTestResult:null}},methods:{async login(){this.loading=!0,this.error=null,this.success=null;try{const e={...this.credentials,action:"login"},t=await ha.A.post("/auth/register",e);if(t.data.success){const e={username:t.data.username,action:t.data.action,loginTime:(new Date).toISOString()};this.user=e,this.success="Login successful! Redirecting to dashboard...",localStorage.setItem("user",JSON.stringify(e)),setTimeout(()=>{this.$router.push("/")},1500)}else this.error=t.data.message||"Login failed"}catch(e){console.error("Login error:",e),this.error=e.response?.data?.message||"Login failed. Please try again."}finally{this.loading=!1}},async logout(){try{await ha.A.post("/auth/logout"),this.user=null,this.success="Logout successful!",this.securedTestResult=null,localStorage.removeItem("user")}catch(e){console.error("Logout error:",e),this.user=null,localStorage.removeItem("user")}},async testSecuredEndpoint(){this.securedTestResult=null;try{const e=await ha.A.get("/auth/me");e.data.success?this.securedTestResult={success:!0,message:`✅ Authenticated access successful! Current user: ${e.data.user.firstName} ${e.data.user.lastName}`}:this.securedTestResult={success:!1,message:`❌ Authentication failed: ${e.data.message}`}}catch(e){console.error("Secured endpoint test error:",e),this.securedTestResult={success:!1,message:`❌ Error testing secured endpoint: ${e.response?.data?.message||e.message}`}}}},mounted(){const e=localStorage.getItem("user");if(e)try{this.user=JSON.parse(e)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user")}}};const Fu=(0,U.A)(Nu,[["render",Du],["__scopeId","data-v-2c41526c"]]);var _u=Fu;function Uu(e,t,a,s,n,i){const o=(0,l.g2)("Registration",!0);return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(o)])}const Pu={class:"container mt-5"},Wu={class:"row justify-content-center"},Xu={class:"col-md-8"},Vu={class:"card"},Ku={class:"card-body"},Ou={key:0,class:"alert alert-success"},Bu={key:1,class:"alert alert-danger"},$u={class:"row"},Qu={class:"col-md-6"},ju={class:"mb-3"},Gu={key:0,class:"invalid-feedback"},Ju={class:"col-md-6"},Hu={class:"mb-3"},qu={key:0,class:"invalid-feedback"},Yu={class:"row"},zu={class:"col-md-6"},Zu={class:"mb-3"},em={key:0,class:"invalid-feedback"},tm={class:"col-md-6"},am={class:"mb-3"},sm={key:0,class:"invalid-feedback"},lm={class:"mb-3"},nm={key:0,class:"invalid-feedback"},im={class:"mb-3"},om=["value"],rm={key:0,class:"invalid-feedback"},cm={class:"row"},dm={class:"col-md-6"},um={class:"mb-3"},mm={class:"col-md-6"},vm={class:"mb-3"},pm={class:"mb-3"},hm={class:"d-grid"},bm=["disabled"],km={key:0,class:"spinner-border spinner-border-sm me-2"},gm={class:"text-center mt-3"};function ym(e,t,a,i,o,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Pu,[(0,l.Lk)("div",Wu,[(0,l.Lk)("div",Xu,[(0,l.Lk)("div",Vu,[t[23]||(t[23]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",{class:"text-center"},"Join a Chapter"),(0,l.Lk)("p",{class:"text-center text-muted"},"Create your account to get started")],-1)),(0,l.Lk)("div",Ku,[(0,l.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"]))},[o.successMessage?((0,l.uX)(),(0,l.CE)("div",Ou,(0,n.v_)(o.successMessage),1)):(0,l.Q3)("",!0),o.errorMessage?((0,l.uX)(),(0,l.CE)("div",Bu,(0,n.v_)(o.errorMessage),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",$u,[(0,l.Lk)("div",Qu,[(0,l.Lk)("div",ju,[t[10]||(t[10]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":o.errors.firstName}]),id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>o.form.firstName=e),required:""},null,2),[[s.Jo,o.form.firstName]]),o.errors.firstName?((0,l.uX)(),(0,l.CE)("div",Gu,(0,n.v_)(o.errors.firstName),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Ju,[(0,l.Lk)("div",Hu,[t[11]||(t[11]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":o.errors.lastName}]),id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>o.form.lastName=e),required:""},null,2),[[s.Jo,o.form.lastName]]),o.errors.lastName?((0,l.uX)(),(0,l.CE)("div",qu,(0,n.v_)(o.errors.lastName),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Yu,[(0,l.Lk)("div",zu,[(0,l.Lk)("div",Zu,[t[12]||(t[12]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:(0,n.C4)(["form-control",{"is-invalid":o.errors.email}]),id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>o.form.email=e),required:""},null,2),[[s.Jo,o.form.email]]),o.errors.email?((0,l.uX)(),(0,l.CE)("div",em,(0,n.v_)(o.errors.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",tm,[(0,l.Lk)("div",am,[t[13]||(t[13]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":o.errors.username}]),id:"username","onUpdate:modelValue":t[3]||(t[3]=e=>o.form.username=e),placeholder:"At least 3 characters",required:""},null,2),[[s.Jo,o.form.username]]),o.errors.username?((0,l.uX)(),(0,l.CE)("div",sm,(0,n.v_)(o.errors.username),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",lm,[t[14]||(t[14]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:(0,n.C4)(["form-control",{"is-invalid":o.errors.password}]),id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.password=e),placeholder:"At least 8 characters",required:""},null,2),[[s.Jo,o.form.password]]),o.errors.password?((0,l.uX)(),(0,l.CE)("div",nm,(0,n.v_)(o.errors.password),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",im,[t[16]||(t[16]=(0,l.Lk)("label",{for:"stateOfResidence",class:"form-label"},"State of Residence *",-1)),(0,l.bo)((0,l.Lk)("select",{class:(0,n.C4)(["form-select",{"is-invalid":o.errors.stateOfResidence}]),id:"stateOfResidence","onUpdate:modelValue":t[5]||(t[5]=e=>o.form.stateOfResidence=e),required:""},[t[15]||(t[15]=(0,l.Lk)("option",{value:""},"Choose your state...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.code,value:e.code},(0,n.v_)(e.name),9,om))),128))],2),[[s.u1,o.form.stateOfResidence]]),o.errors.stateOfResidence?((0,l.uX)(),(0,l.CE)("div",rm,(0,n.v_)(o.errors.stateOfResidence),1)):(0,l.Q3)("",!0),t[17]||(t[17]=(0,l.Lk)("small",{class:"form-text text-muted"}," We'll help you find chapters in your area after registration ",-1))]),(0,l.Lk)("div",cm,[(0,l.Lk)("div",dm,[(0,l.Lk)("div",um,[t[18]||(t[18]=(0,l.Lk)("label",{for:"major",class:"form-label"},"Major",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"major","onUpdate:modelValue":t[6]||(t[6]=e=>o.form.major=e),placeholder:"Your field of study"},null,512),[[s.Jo,o.form.major]])])]),(0,l.Lk)("div",mm,[(0,l.Lk)("div",vm,[t[19]||(t[19]=(0,l.Lk)("label",{for:"graduationYear",class:"form-label"},"Graduation Year",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"graduationYear","onUpdate:modelValue":t[7]||(t[7]=e=>o.form.graduationYear=e),placeholder:"e.g., 2025"},null,512),[[s.Jo,o.form.graduationYear]])])])]),(0,l.Lk)("div",pm,[t[20]||(t[20]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[8]||(t[8]=e=>o.form.phoneNumber=e),placeholder:"(optional)"},null,512),[[s.Jo,o.form.phoneNumber]])]),(0,l.Lk)("div",hm,[(0,l.Lk)("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:o.isSubmitting},[o.isSubmitting?((0,l.uX)(),(0,l.CE)("span",km)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.isSubmitting?"Creating Account...":"Create Account"),1)],8,bm)])],32),(0,l.Lk)("div",gm,[(0,l.Lk)("p",null,[t[22]||(t[22]=(0,l.eW)("Already have an account? ",-1)),(0,l.bF)(c,{to:"/login"},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.eW)("Login here",-1)])]),_:1})])])])])])])])}var Lm={name:"Registration",data(){return{form:{firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},states:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"},{code:"DC",name:"District of Columbia"}],errors:{},successMessage:"",errorMessage:"",isSubmitting:!1}},methods:{validateForm(){this.errors={};let e=!0;return this.form.firstName.trim()?this.form.firstName.length>50&&(this.errors.firstName="First name must be 50 characters or less",e=!1):(this.errors.firstName="First name is required",e=!1),this.form.lastName.trim()?this.form.lastName.length>50&&(this.errors.lastName="Last name must be 50 characters or less",e=!1):(this.errors.lastName="Last name is required",e=!1),this.form.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email)||(this.errors.email="Please enter a valid email address",e=!1):(this.errors.email="Email is required",e=!1),this.form.username.trim()?this.form.username.length<3?(this.errors.username="Username must be at least 3 characters",e=!1):this.form.username.length>50&&(this.errors.username="Username must be 50 characters or less",e=!1):(this.errors.username="Username is required",e=!1),this.form.password?this.form.password.length<8&&(this.errors.password="Password must be at least 8 characters",e=!1):(this.errors.password="Password is required",e=!1),this.form.stateOfResidence||(this.errors.stateOfResidence="Please select your state of residence",e=!1),e},async handleSubmit(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{const{getApiBaseUrl:e}=await Promise.resolve().then(a.bind(a,889)),t=e(),s=await fetch(`${t}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),l=await s.json();s.ok?(this.successMessage=`Registration successful! Welcome ${l.username}!`,this.resetForm(),setTimeout(()=>{this.$router.push("/login")},2e3)):l.message?this.errorMessage=l.message:l.errors?this.errors=l.errors:this.errorMessage="Registration failed. Please try again."}catch(e){console.error("Registration error:",e),this.errorMessage="Network error. Please check your connection and try again."}finally{this.isSubmitting=!1}}},resetForm(){this.form={firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},this.errors={}}}};const fm=(0,U.A)(Lm,[["render",ym],["__scopeId","data-v-6da26cc1"]]);var Cm=fm,wm={name:"RegistrationView",components:{Registration:Cm}};const Em=(0,U.A)(wm,[["render",Uu]]);var Sm=Em;const Tm=[{path:"/",name:"Dashboard",component:Ua},{path:"/chapters",name:"Chapters",component:kn},{path:"/chapters/:id",name:"ChapterDetail",component:bu,props:!0},{path:"/members",name:"Members",component:wo},{path:"/events",name:"Events",component:ld},{path:"/login",name:"Login",component:_u},{path:"/register",name:"Registration",component:Sm}],Am=(0,Xe.aE)({history:(0,Xe.LA)(),routes:Tm});var Im=Am;a(736);const Rm=(0,s.Ef)(Qe);Rm.use(Im),Rm.mount("#app")},889:function(e,t,a){a.d(t,{getApiBaseUrl:function(){return l}});var s=a(335);const l=()=>({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL?{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL:"undefined"!==typeof window&&window.location.hostname.includes("onrender.com")?"https://chapter-organizer-backend.onrender.com":"http://localhost:8080"),n=l();console.log("API Configuration:",{baseUrl:n,environment:"unknown",hostname:"undefined"!==typeof window?window.location.hostname:"server"});const i=s.A.create({baseURL:`${n}/api`,headers:{"Content-Type":"application/json"},timeout:3e4});i.interceptors.request.use(e=>(console.log(`Making ${e.method?.toUpperCase()} request to ${e.url}`),e),e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status>=400&&e.response?.status<500?console.info("API Client Error:",e.response?.data||e.message):console.error("API Error:",e.response?.data||e.message),Promise.reject(e))),t.A=i}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&n||i>=n)&&Object.keys(a.O).every(function(e){return a.O[e](s[r])})?s.splice(r--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,i=s[0],o=s[1],r=s[2],c=0;if(i.some(function(t){return 0!==e[t]})){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var d=r(a)}for(t&&t(s);c<i.length;c++)n=i[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkchapter_organizer_frontend"]=self["webpackChunkchapter_organizer_frontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[272,504],function(){return a(10)});s=a.O(s)})();
//# sourceMappingURL=app.f3160cc7.js.map