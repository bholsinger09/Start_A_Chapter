(function(){"use strict";var e={238:function(e,t,a){var s=a(751),l=a(641),n=a(33);const o={id:"app"},r={class:"navbar navbar-expand-lg navbar-dark bg-primary"},i={class:"container"},c={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav ms-auto"},u={class:"nav-item"},m={class:"nav-item"},v={class:"nav-item"},b={class:"nav-item"},p={key:0,class:"nav-item"},h={key:1,class:"nav-item"},g={key:2,class:"nav-item"},k={key:3,class:"nav-item dropdown"},y={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown"},L={class:"dropdown-menu"},f={class:"dropdown-header"},w={class:"nav-item ms-2"},C={class:"nav-item ms-2"},E={class:"nav-item ms-2"},S={class:"container-fluid py-4"};function x(e,t,a,s,x,T){const A=(0,l.g2)("PWAInstaller"),R=(0,l.g2)("router-link"),I=(0,l.g2)("ThemeToggle"),M=(0,l.g2)("SimpleThemeToggle"),D=(0,l.g2)("MobileNavigation"),F=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(A),(0,l.Lk)("nav",r,[(0,l.Lk)("div",i,[(0,l.bF)(R,{class:"navbar-brand",to:"/"},{default:(0,l.k6)(()=>[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill me-2"},null,-1),(0,l.eW)(" Campus Chapter Organizer ",-1)])]),_:1}),t[13]||(t[13]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",c,[(0,l.Lk)("ul",d,[(0,l.Lk)("li",u,[(0,l.bF)(R,{class:"nav-link",to:"/","exact-active-class":"active"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-speedometer2 me-1"},null,-1),(0,l.eW)("Dashboard ",-1)])]),_:1})]),(0,l.Lk)("li",m,[(0,l.bF)(R,{class:"nav-link",to:"/chapters","active-class":"active"},{default:(0,l.k6)(()=>[...t[4]||(t[4]=[(0,l.Lk)("i",{class:"bi bi-building me-1"},null,-1),(0,l.eW)("Chapters ",-1)])]),_:1})]),(0,l.Lk)("li",v,[(0,l.bF)(R,{class:"nav-link",to:"/members","active-class":"active"},{default:(0,l.k6)(()=>[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-people-fill me-1"},null,-1),(0,l.eW)("Members ",-1)])]),_:1})]),(0,l.Lk)("li",b,[(0,l.bF)(R,{class:"nav-link",to:"/events","active-class":"active"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-calendar-event me-1"},null,-1),(0,l.eW)("Events ",-1)])]),_:1})]),x.currentUser?((0,l.uX)(),(0,l.CE)("li",p,[(0,l.bF)(R,{class:"nav-link",to:"/blog","active-class":"active"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.Lk)("i",{class:"bi bi-journal-text me-1"},null,-1),(0,l.eW)("Blog ",-1)])]),_:1})])):(0,l.Q3)("",!0),x.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",h,[(0,l.bF)(R,{class:"nav-link",to:"/login","active-class":"active"},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right me-1"},null,-1),(0,l.eW)("Login ",-1)])]),_:1})])),x.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",g,[(0,l.bF)(R,{class:"nav-link",to:"/register","active-class":"active"},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)("Register ",-1)])]),_:1})])),x.currentUser?((0,l.uX)(),(0,l.CE)("li",k,[(0,l.Lk)("a",y,[t[10]||(t[10]=(0,l.Lk)("i",{class:"bi bi-person-circle me-1"},null,-1)),(0,l.eW)((0,n.v_)(x.currentUser.username),1)]),(0,l.Lk)("ul",L,[(0,l.Lk)("li",null,[(0,l.Lk)("h6",f,"Welcome, "+(0,n.v_)(x.currentUser.username)+"!",1)]),t[12]||(t[12]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=(...e)=>T.logout&&T.logout(...e))},[...t[11]||(t[11]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-1"},null,-1),(0,l.eW)("Logout ",-1)])])])])])):(0,l.Q3)("",!0),(0,l.Lk)("li",w,[(0,l.bF)(I)]),(0,l.Lk)("li",C,[(0,l.bF)(M)]),(0,l.Lk)("li",E,[(0,l.Lk)("button",{class:"btn btn-outline-light btn-sm",onClick:t[1]||(t[1]=(...e)=>s.debugToggleTheme&&s.debugToggleTheme(...e)),style:{"font-size":"0.8rem"}}," Debug Theme ")])])])])]),(0,l.bF)(D,{"current-user":x.currentUser,onLogout:T.logout},null,8,["current-user","onLogout"]),(0,l.Lk)("main",S,[(0,l.bF)(F)]),t[14]||(t[14]=(0,l.Fv)('<footer class="bg-light py-4 mt-5"><div class="container"><div class="row"><div class="col-md-6"><p class="text-muted mb-0"> © 2025 Campus Chapter Organizer. Built with Vue.js &amp; Spring Boot. </p></div><div class="col-md-6 text-end"><p class="text-muted mb-0"><i class="bi bi-code-slash me-1"></i> Frontend: Vue.js | Backend: Spring Boot </p></div></div></div></footer>',1))])}const T={class:"dropdown"},A=["title"],R={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"themeDropdown"},I={class:"text-muted ms-2"};function M(e,t,a,s,o,r){return(0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("button",{class:"btn btn-outline-light theme-toggle dropdown-toggle",type:"button",id:"themeDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",title:`Current theme: ${s.currentTheme}`},[(0,l.Lk)("i",{class:(0,n.C4)(s.getCurrentIcon())},null,2)],8,A),(0,l.Lk)("ul",R,[t[7]||(t[7]=(0,l.Lk)("li",null,[(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-palette me-2"}),(0,l.eW)(" Choose Theme ")])],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:s.isSystemTheme}]),onClick:t[0]||(t[0]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e))},[t[3]||(t[3]=(0,l.Lk)("i",{class:"bi bi-circle-half me-2"},null,-1)),t[4]||(t[4]=(0,l.Lk)("span",{class:"flex-grow-1"},"System",-1)),(0,l.Lk)("small",I,(0,n.v_)(s.systemPrefersDark?"Dark":"Light"),1)],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"light"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("light"))},[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-sun me-2"},null,-1),(0,l.eW)(" Light ",-1)])],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"dark"===s.currentTheme}]),onClick:t[2]||(t[2]=e=>s.setTheme("dark"))},[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-moon-stars me-2"},null,-1),(0,l.eW)(" Dark ",-1)])],2)]),t[8]||(t[8]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),t[9]||(t[9]=(0,l.Lk)("li",null,[(0,l.Lk)("div",{class:"px-3 py-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,l.eW)(" System theme follows your OS preference ")])])],-1))])])}var D=a(953);const F=(0,D.KR)(!1),N=(0,D.KR)(!0);function _(){const e=(0,l.EW)(()=>"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches),t=(0,l.EW)(()=>N.value?e.value?"dark":"light":F.value?"dark":"light"),a=()=>{const e=localStorage.getItem("theme-preference"),t=localStorage.getItem("theme-is-system");e&&null!==t?(N.value="true"===t,N.value||(F.value="dark"===e)):N.value=!0,s()},s=()=>{const e=document.documentElement,a=document.body,s=t.value;console.log("🌙 useTheme: Applying theme:",s),console.log("🌙 useTheme: HTML element:",e),console.log("🌙 useTheme: Body element:",a),e.setAttribute("data-theme",s),a.setAttribute("data-theme",s),console.log("🌙 useTheme: Set data-theme attribute on html and body"),"dark"===s?(e.setAttribute("data-bs-theme","dark"),a.setAttribute("data-bs-theme","dark"),e.classList.add("dark-theme"),a.classList.add("dark-theme"),console.log("🌙 useTheme: Added dark theme classes and attributes")):(e.removeAttribute("data-bs-theme"),a.removeAttribute("data-bs-theme"),e.classList.remove("dark-theme"),a.classList.remove("dark-theme"),console.log("🌙 useTheme: Removed dark theme classes and attributes")),a.style.backgroundColor="dark"===s?"#1a1d23":"#ffffff",a.style.color="dark"===s?"#f7fafc":"#212529",console.log("🌙 useTheme: Applied inline styles - backgroundColor:",a.style.backgroundColor,"color:",a.style.color),localStorage.setItem("theme-preference",s),localStorage.setItem("theme-is-system",N.value.toString()),console.log("🌙 useTheme: Theme applied. HTML data-theme:",e.getAttribute("data-theme")),console.log("🌙 useTheme: Body data-theme:",a.getAttribute("data-theme")),console.log("🌙 useTheme: HTML classes:",e.className),console.log("🌙 useTheme: Body classes:",a.className)},n=()=>{N.value?(N.value=!1,F.value=!e.value):F.value=!F.value},o=()=>{N.value=!0},r=e=>{N.value=!1,F.value="dark"===e},i=()=>{if("undefined"!==typeof window){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{N.value&&s()};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}};(0,l.wB)([t],()=>{s()});const c=[{value:"system",label:"System",icon:"bi-circle-half"},{value:"light",label:"Light",icon:"bi-sun"},{value:"dark",label:"Dark",icon:"bi-moon-stars"}];return{isDark:(0,l.EW)(()=>"dark"===t.value),currentTheme:t,isSystemTheme:N,systemPrefersDark:e,themeOptions:c,initializeTheme:a,toggleTheme:n,useSystemTheme:o,setTheme:r,watchSystemTheme:i}}var U={name:"ThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:o,watchSystemTheme:r}=_();let i;(0,l.sV)(()=>{o(),i=r()}),(0,l.hi)(()=>{i&&i()});const c=()=>t.value?"bi bi-circle-half":"dark"===e.value?"bi bi-moon-stars":"bi bi-sun",d=t=>{console.log("🎨 ThemeToggle: Setting theme to:",t),console.log("🎨 ThemeToggle: Current theme before:",e.value),n(t),console.log("🎨 ThemeToggle: Current theme after:",e.value)},u=()=>{console.log("🎨 ThemeToggle: Setting to system theme"),console.log("🎨 ThemeToggle: System prefers dark:",a.value),s(),console.log("🎨 ThemeToggle: Current theme after system:",e.value)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:u,setTheme:d,getCurrentIcon:c}}},P=a(262);const W=(0,P.A)(U,[["render",M],["__scopeId","data-v-5d2cc150"]]);var X=W;const B={class:"simple-theme-toggle d-flex gap-1"};function K(e,t,a,s,o,r){return(0,l.uX)(),(0,l.CE)("div",B,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"light"===s.currentTheme}]),onClick:t[0]||(t[0]=e=>s.setTheme("light")),title:"Light Mode"}," ☀️ ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"dark"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("dark")),title:"Dark Mode"}," 🌙 ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:s.isSystemTheme}]),onClick:t[2]||(t[2]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e)),title:"System Theme"}," 🔄 ",2)])}var V={name:"SimpleThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:o,watchSystemTheme:r}=_();let i;(0,l.sV)(()=>{console.log("🎯 SimpleThemeToggle: Component mounted"),o(),i=r(),console.log("🎯 SimpleThemeToggle: Initial theme:",e.value)}),(0,l.hi)(()=>{i&&i()});const c=t=>{console.log("🎯 SimpleThemeToggle: Setting theme to:",t),n(t),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after set:",e.value)},50)},d=()=>{console.log("🎯 SimpleThemeToggle: Using system theme"),s(),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after system:",e.value)},50)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:d,setTheme:c}}};const $=(0,P.A)(V,[["render",K],["__scopeId","data-v-439d4286"]]);var O=$;const Q={key:0,class:"pwa-install-banner"},j={class:"container-fluid"},G={class:"alert alert-info alert-dismissible fade show mb-0",role:"alert"},J={class:"d-flex align-items-center"},q={class:"btn-group ms-3"};function H(e,t,a,s,n,o){return s.showInstallPrompt?((0,l.uX)(),(0,l.CE)("div",Q,[(0,l.Lk)("div",j,[(0,l.Lk)("div",G,[(0,l.Lk)("div",J,[t[4]||(t[4]=(0,l.Lk)("i",{class:"bi bi-download me-3 fs-4"},null,-1)),t[5]||(t[5]=(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("strong",null,"Install App"),(0,l.Lk)("p",{class:"mb-0 small"},"Get the full experience with offline access and faster loading")],-1)),(0,l.Lk)("div",q,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.installPWA&&s.installPWA(...e))},[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-1"},null,-1),(0,l.eW)(" Install ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[1]||(t[1]=(...e)=>s.dismissPrompt&&s.dismissPrompt(...e))},[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])])])])])])):(0,l.Q3)("",!0)}var Y={name:"PWAInstaller",setup(){const e=(0,D.KR)(!1),t=(0,D.KR)(null),a=a=>{a.preventDefault(),t.value=a,e.value=!0},s=async()=>{if(!t.value)return;t.value.prompt();const{outcome:a}=await t.value.userChoice;console.log(`PWA install outcome: ${a}`),t.value=null,e.value=!1},n=()=>{e.value=!1,sessionStorage.setItem("pwa-prompt-dismissed","true")},o=()=>{console.log("PWA was installed"),e.value=!1,t.value=null};return(0,l.sV)(()=>{if(!sessionStorage.getItem("pwa-prompt-dismissed"))return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",o)}}),{showInstallPrompt:e,installPWA:s,dismissPrompt:n}}};const z=(0,P.A)(Y,[["render",H],["__scopeId","data-v-1efada21"]]);var Z=z;const ee={class:"mobile-navigation"},te={class:"mobile-header d-md-none"},ae={class:"container-fluid"},se={class:"d-flex justify-content-between align-items-center py-3"},le={class:"d-flex align-items-center"},ne={class:"position-relative me-3"},oe={key:0,class:"notification-badge"},re={key:0,class:"user-profile-section"},ie={class:"d-flex align-items-center mb-3"},ce={class:"fw-semibold"},de={class:"text-muted small"},ue={class:"quick-actions mb-4"},me={class:"row g-2"},ve={class:"col-6"},be={class:"col-6"},pe={class:"mobile-nav"},he={key:0,class:"badge bg-danger ms-auto"},ge={class:"settings-section mt-4"},ke={class:"setting-item"},ye={class:"d-flex justify-content-between align-items-center"},Le={class:"form-check form-switch"},fe=["checked"],we={class:"setting-item"},Ce={class:"d-flex justify-content-between align-items-center"},Ee={class:"form-check form-switch"},Se={class:"bottom-navigation d-md-none"},xe={class:"container-fluid p-0"},Te={class:"row g-0"},Ae={class:"nav-label"},Re={key:0,class:"nav-badge"},Ie={class:"notification-content"},Me={class:"notification-header"},De={class:"notification-list"},Fe={class:"notification-icon"},Ne={class:"notification-content"},_e={class:"notification-title"},Ue={class:"notification-text"},Pe={class:"notification-time"},We={key:0,class:"text-center py-4 text-muted"};function Xe(e,t,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ee,[(0,l.Lk)("div",te,[(0,l.Lk)("div",ae,[(0,l.Lk)("div",se,[t[14]||(t[14]=(0,l.Lk)("div",{class:"mobile-logo"},[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill text-primary me-2"}),(0,l.Lk)("span",{class:"fw-bold"},"Chapter")],-1)),(0,l.Lk)("div",le,[(0,l.Lk)("div",ne,[(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[0]||(t[0]=e=>o.showNotifications=!o.showNotifications)},[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-bell fs-5"},null,-1)),o.notificationCount?((0,l.uX)(),(0,l.CE)("span",oe,(0,n.v_)(o.notificationCount),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[1]||(t[1]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.showMobileMenu?"bi-x-lg":"bi-list"]),style:{"font-size":"1.5rem"}},null,2)])])])])]),o.showMobileMenu?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"mobile-menu-overlay d-md-none",onClick:t[2]||(t[2]=e=>o.showMobileMenu=!1)})):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:(0,n.C4)(["mobile-menu d-md-none",{show:o.showMobileMenu}])},[o.currentUser?((0,l.uX)(),(0,l.CE)("div",re,[(0,l.Lk)("div",ie,[t[15]||(t[15]=(0,l.Lk)("div",{class:"user-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle text-primary",style:{"font-size":"3rem"}})],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",ce,(0,n.v_)(o.currentUser.username),1),(0,l.Lk)("div",de,(0,n.v_)(o.currentUser.role),1)])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",ue,[(0,l.Lk)("div",me,[(0,l.Lk)("div",ve,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm w-100",onClick:t[3]||(t[3]=e=>o.navigateTo("/members/create"))},[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])])]),(0,l.Lk)("div",be,[(0,l.Lk)("button",{class:"btn btn-success btn-sm w-100",onClick:t[4]||(t[4]=e=>o.navigateTo("/events/create"))},[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" New Event ",-1)])])])])]),(0,l.Lk)("nav",pe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.navigationItems,a=>((0,l.uX)(),(0,l.Wv)(c,{key:a.path,to:a.path,class:(0,n.C4)(["mobile-nav-item",{active:e.$route.path===a.path}]),onClick:t[5]||(t[5]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",a.icon])},null,2),(0,l.Lk)("span",null,(0,n.v_)(a.label),1),a.badge?((0,l.uX)(),(0,l.CE)("span",he,(0,n.v_)(a.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"]))),128))]),(0,l.Lk)("div",ge,[t[23]||(t[23]=(0,l.Lk)("div",{class:"section-divider"},null,-1)),(0,l.Lk)("div",ke,[(0,l.Lk)("div",ye,[t[18]||(t[18]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-palette me-3"}),(0,l.Lk)("span",null,"Dark Mode")],-1)),(0,l.Lk)("div",Le,[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",checked:o.isDarkMode,onChange:t[6]||(t[6]=(...e)=>o.toggleTheme&&o.toggleTheme(...e))},null,40,fe)])])]),(0,l.Lk)("div",we,[(0,l.Lk)("div",Ce,[t[19]||(t[19]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-bell me-3"}),(0,l.Lk)("span",null,"Notifications")],-1)),(0,l.Lk)("div",Ee,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>o.notificationsEnabled=e)},null,512),[[s.lH,o.notificationsEnabled]])])])]),(0,l.bF)(c,{to:"/settings",class:"setting-item",onClick:t[8]||(t[8]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-gear me-3"},null,-1),(0,l.Lk)("span",null,"Settings",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),(0,l.bF)(c,{to:"/help",class:"setting-item",onClick:t[9]||(t[9]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.Lk)("i",{class:"bi bi-question-circle me-3"},null,-1),(0,l.Lk)("span",null,"Help & Support",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),o.currentUser?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"setting-item logout-item",onClick:t[10]||(t[10]=(...e)=>o.handleLogout&&o.handleLogout(...e))},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-3 text-danger"},null,-1),(0,l.Lk)("span",{class:"text-danger"},"Logout",-1)])])):(0,l.Q3)("",!0)])],2),(0,l.Lk)("div",Se,[(0,l.Lk)("div",xe,[(0,l.Lk)("div",Te,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.bottomNavItems,t=>((0,l.uX)(),(0,l.CE)("div",{key:t.path,class:"col"},[(0,l.bF)(c,{to:t.path,class:(0,n.C4)(["bottom-nav-item",{active:e.$route.path===t.path}])},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",t.icon])},null,2),(0,l.Lk)("span",Ae,(0,n.v_)(t.label),1),t.badge?((0,l.uX)(),(0,l.CE)("span",Re,(0,n.v_)(t.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"])]))),128))])])]),o.showNotifications?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"notification-panel d-md-none",onClick:t[12]||(t[12]=(0,s.D$)(e=>o.showNotifications=!1,["self"]))},[(0,l.Lk)("div",Ie,[(0,l.Lk)("div",Me,[t[25]||(t[25]=(0,l.Lk)("h6",{class:"mb-0"},"Notifications",-1)),(0,l.Lk)("button",{class:"btn btn-link p-0 text-muted",onClick:t[11]||(t[11]=e=>o.showNotifications=!1)},[...t[24]||(t[24]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,l.Lk)("div",De,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.notifications,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["notification-item",{unread:!e.read}])},[(0,l.Lk)("div",Fe,[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2)]),(0,l.Lk)("div",Ne,[(0,l.Lk)("div",_e,(0,n.v_)(e.title),1),(0,l.Lk)("div",Ue,(0,n.v_)(e.message),1),(0,l.Lk)("div",Pe,(0,n.v_)(o.formatTime(e.time)),1)])],2))),128)),0===o.notifications.length?((0,l.uX)(),(0,l.CE)("div",We,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-bell-slash display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No notifications",-1)])])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])}var Be=a(43),Ke={name:"MobileNavigation",setup(){const e=(0,Be.rd)(),{currentTheme:t,setTheme:a}=((0,Be.lq)(),_()),s=(0,D.KR)(!1),n=(0,D.KR)(!1),o=(0,D.KR)(!0),r=(0,D.KR)({username:"John Doe",role:"Chapter President"}),i=(0,D.KR)([{path:"/",label:"Dashboard",icon:"bi-speedometer2"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill",badge:5},{path:"/events",label:"Events",icon:"bi-calendar-event"},{path:"/analytics",label:"Analytics",icon:"bi-graph-up"},{path:"/reports",label:"Reports",icon:"bi-file-earmark-bar-graph"}]),c=(0,D.KR)([{path:"/",label:"Home",icon:"bi-house-fill"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill"},{path:"/events",label:"Events",icon:"bi-calendar-event",badge:3}]),d=(0,D.KR)([{id:1,title:"New Member Request",message:"Sarah Johnson wants to join UC Berkeley chapter",icon:"bi-person-plus-fill",time:new Date(Date.now()-3e5),read:!1},{id:2,title:"Event Reminder",message:"Weekly meeting starts in 30 minutes",icon:"bi-calendar-event",time:new Date(Date.now()-18e5),read:!1},{id:3,title:"System Update",message:"New features have been added to the dashboard",icon:"bi-info-circle-fill",time:new Date(Date.now()-72e5),read:!0}]),u=(0,l.EW)(()=>d.value.filter(e=>!e.read).length),m=(0,l.EW)(()=>"dark"===t.value),v=()=>{s.value=!s.value,s.value&&(n.value=!1)},b=t=>{e.push(t),s.value=!1},p=()=>{const e="dark"===t.value?"light":"dark";a(e)},h=()=>{r.value=null,s.value=!1,e.push("/login")},g=e=>{const t=new Date,a=t-e,s=Math.floor(a/6e4),l=Math.floor(s/60),n=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ago`:`${n}d ago`};return e.afterEach(()=>{s.value=!1,n.value=!1}),{showMobileMenu:s,showNotifications:n,notificationsEnabled:o,currentUser:r,navigationItems:i,bottomNavItems:c,notifications:d,notificationCount:u,isDarkMode:m,toggleMobileMenu:v,navigateTo:b,toggleTheme:p,handleLogout:h,formatTime:g}}};const Ve=(0,P.A)(Ke,[["render",Xe],["__scopeId","data-v-6dee0850"]]);var $e=Ve,Oe={name:"App",components:{ThemeToggle:X,SimpleThemeToggle:O,PWAInstaller:Z,MobileNavigation:$e},setup(){const{initializeTheme:e,setTheme:t,currentTheme:a}=_();(0,l.sV)(()=>{e(),document.body.classList.add("preload"),setTimeout(()=>{document.body.classList.remove("preload")},100)});const s=()=>{console.log("🔥 DEBUG: Current theme before toggle:",a.value);const e="dark"===a.value?"light":"dark";console.log("🔥 DEBUG: Setting theme to:",e),t(e),setTimeout(()=>{const e=document.documentElement,t=document.body;console.log("🔥 DEBUG: HTML data-theme:",e.getAttribute("data-theme")),console.log("🔥 DEBUG: Body data-theme:",t.getAttribute("data-theme")),console.log("🔥 DEBUG: HTML classes:",e.className),console.log("🔥 DEBUG: Body classes:",t.className),console.log("🔥 DEBUG: Body background color:",t.style.backgroundColor),console.log("🔥 DEBUG: Body color:",t.style.color)},100)};return{debugToggleTheme:s}},data(){return{currentUser:null}},mounted(){this.checkAuthState(),window.addEventListener("storage",this.checkAuthState)},beforeUnmount(){window.removeEventListener("storage",this.checkAuthState)},methods:{checkAuthState(){const e=localStorage.getItem("user");if(console.log("🔍 DEBUG - Checking auth state:",{storedUser:e,currentUser:this.currentUser}),e)try{this.currentUser=JSON.parse(e),console.log("✅ DEBUG - User authenticated:",this.currentUser)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user"),this.currentUser=null}else this.currentUser=null,console.log("❌ DEBUG - No user in localStorage")},logout(){localStorage.removeItem("user"),this.currentUser=null,this.$router.push("/login")}},watch:{$route(){this.checkAuthState()}}};const Qe=(0,P.A)(Oe,[["render",x]]);var je=Qe;const Ge={class:"dashboard"},Je={class:"container-fluid"},qe={class:"dashboard-header mb-4"},He={class:"row align-items-center"},Ye={class:"col"},ze={class:"text-muted mb-0"},Ze={key:0},et={class:"col-auto"},tt=["disabled"],at={key:0,class:"alert alert-warning alert-dismissible fade show mb-4",role:"alert"},st={class:"row g-4 mb-4 mt-4"},lt={class:"col-md-3"},nt={class:"card border-0 shadow-sm metric-card"},ot={class:"card-body"},rt={key:1,class:"d-flex align-items-center"},it={class:"flex-grow-1 ms-3"},ct={class:"mb-0 text-primary"},dt={class:"col-md-3"},ut={class:"card border-0 shadow-sm metric-card"},mt={class:"card-body"},vt={key:1,class:"d-flex align-items-center"},bt={class:"flex-grow-1 ms-3"},pt={class:"mb-0 text-success"},ht={class:"col-md-3"},gt={class:"card border-0 shadow-sm metric-card"},kt={class:"card-body"},yt={key:1,class:"d-flex align-items-center"},Lt={class:"flex-grow-1 ms-3"},ft={class:"mb-0 text-info"},wt={class:"col-md-3"},Ct={class:"card border-0 shadow-sm metric-card"},Et={class:"card-body"},St={key:1,class:"d-flex align-items-center"},xt={class:"flex-grow-1 ms-3"},Tt={class:"mb-0 text-warning"},At={class:"row g-4"},Rt={class:"col-md-8"},It={class:"card border-0 shadow-sm"},Mt={class:"card-body"},Dt={class:"row g-3"},Ft={class:"col-md-4"},Nt={class:"col-md-4"},_t={class:"col-md-4"};function Ut(e,t,a,s,o,r){const i=(0,l.g2)("AnalyticsDashboard"),c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ge,[(0,l.Lk)("div",Je,[(0,l.Lk)("div",qe,[(0,l.Lk)("div",He,[(0,l.Lk)("div",Ye,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"h2 mb-0"},[(0,l.Lk)("i",{class:"fas fa-tachometer-alt text-primary me-3"}),(0,l.eW)(" System Dashboard ")],-1)),(0,l.Lk)("p",ze,[s.currentUser?((0,l.uX)(),(0,l.CE)("span",Ze,"Welcome back, "+(0,n.v_)(s.currentUser.username)+"! | ",1)):(0,l.Q3)("",!0),t[2]||(t[2]=(0,l.eW)(" Campus Chapter Organizer Management ",-1))])]),(0,l.Lk)("div",et,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.fetchPublicStats&&s.fetchPublicStats(...e)),disabled:s.loading},[(0,l.Lk)("i",{class:(0,n.C4)(["fas fa-sync-alt me-2",{"fa-spin":s.loading}])},null,2),(0,l.eW)(" "+(0,n.v_)(s.loading?"Loading...":"Refresh"),1)],8,tt)])])]),s.error?((0,l.uX)(),(0,l.CE)("div",at,[t[4]||(t[4]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.error)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>s.error=null)})])):(0,l.Q3)("",!0),(0,l.bF)(i),(0,l.Lk)("div",st,[(0,l.Lk)("div",lt,[(0,l.Lk)("div",nt,[(0,l.Lk)("div",ot,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",rt,[t[6]||(t[6]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-primary bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-users text-white fa-lg"})])],-1)),(0,l.Lk)("div",it,[t[5]||(t[5]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Members",-1)),(0,l.Lk)("h4",ct,(0,n.v_)(s.totalMembers),1)])]))])])]),(0,l.Lk)("div",dt,[(0,l.Lk)("div",ut,[(0,l.Lk)("div",mt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",vt,[t[8]||(t[8]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-success bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-calendar-check text-white fa-lg"})])],-1)),(0,l.Lk)("div",bt,[t[7]||(t[7]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Active Events",-1)),(0,l.Lk)("h4",pt,(0,n.v_)(s.activeEvents),1)])]))])])]),(0,l.Lk)("div",ht,[(0,l.Lk)("div",gt,[(0,l.Lk)("div",kt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",yt,[t[10]||(t[10]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-info bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-university text-white fa-lg"})])],-1)),(0,l.Lk)("div",Lt,[t[9]||(t[9]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Chapters",-1)),(0,l.Lk)("h4",ft,(0,n.v_)(s.totalChapters),1)])]))])])]),(0,l.Lk)("div",wt,[(0,l.Lk)("div",Ct,[(0,l.Lk)("div",Et,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",St,[t[12]||(t[12]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-warning bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-check-circle text-white fa-lg"})])],-1)),(0,l.Lk)("div",xt,[t[11]||(t[11]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total RSVPs",-1)),(0,l.Lk)("h4",Tt,(0,n.v_)(s.totalRsvps),1)])]))])])])]),(0,l.Lk)("div",At,[(0,l.Lk)("div",Rt,[(0,l.Lk)("div",It,[t[16]||(t[16]=(0,l.Lk)("div",{class:"card-header bg-white border-0"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"fas fa-bolt text-primary me-2"}),(0,l.eW)(" Quick Actions ")])],-1)),(0,l.Lk)("div",Mt,[(0,l.Lk)("div",Dt,[(0,l.Lk)("div",Ft,[(0,l.bF)(d,{to:"/members",class:"btn btn-outline-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"fas fa-user-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Add Member",-1)])]),_:1})]),(0,l.Lk)("div",Nt,[(0,l.bF)(d,{to:"/events",class:"btn btn-outline-success w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[14]||(t[14]=[(0,l.Lk)("i",{class:"fas fa-calendar-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Create Event",-1)])]),_:1})]),(0,l.Lk)("div",_t,[(0,l.bF)(d,{to:"/chapters",class:"btn btn-outline-info w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.Lk)("i",{class:"fas fa-university fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Manage Chapters",-1)])]),_:1})])])])])]),t[17]||(t[17]=(0,l.Fv)('<div class="col-md-4" data-v-1ffa6712><div class="card border-0 shadow-sm" data-v-1ffa6712><div class="card-header bg-white border-0" data-v-1ffa6712><h5 class="card-title mb-0" data-v-1ffa6712><i class="fas fa-cog text-secondary me-2" data-v-1ffa6712></i> System Status </h5></div><div class="card-body" data-v-1ffa6712><div class="d-flex align-items-center mb-3" data-v-1ffa6712><div class="flex-shrink-0" data-v-1ffa6712><div class="bg-success rounded-circle p-2" data-v-1ffa6712><i class="fas fa-check text-white" data-v-1ffa6712></i></div></div><div class="flex-grow-1 ms-3" data-v-1ffa6712><h6 class="mb-0" data-v-1ffa6712>System Operational</h6><small class="text-muted" data-v-1ffa6712>All services running normally</small></div></div><div class="progress mb-2" style="height:6px;" data-v-1ffa6712><div class="progress-bar bg-success" style="width:95%;" data-v-1ffa6712></div></div><small class="text-muted" data-v-1ffa6712>95% System Health</small></div></div></div>',1))])])])}const Pt={class:"analytics-dashboard"},Wt={class:"row g-4"},Xt={class:"col-lg-8"},Bt={class:"card h-100"},Kt={class:"card-body"},Vt={ref:"membershipChart",style:{"max-height":"300px"}},$t={class:"col-lg-4"},Ot={class:"card h-100"},Qt={class:"card-body"},jt={ref:"attendanceChart",style:{"max-height":"250px"}},Gt={class:"col-lg-6"},Jt={class:"card h-100"},qt={class:"card-body"},Ht={ref:"performanceChart",style:{"max-height":"300px"}},Yt={class:"col-lg-6"},zt={class:"card h-100"},Zt={class:"card-body"},ea={class:"row g-3"},ta={class:"col-6"},aa={class:"metric-item"},sa={class:"metric-value"},la={class:"col-6"},na={class:"metric-item"},oa={class:"metric-value"},ra={class:"col-6"},ia={class:"metric-item"},ca={class:"metric-value"},da={class:"col-6"},ua={class:"metric-item"},ma={class:"metric-value"};function va(e,t,a,s,o,r){return(0,l.uX)(),(0,l.CE)("div",Pt,[(0,l.Lk)("div",Wt,[(0,l.Lk)("div",Xt,[(0,l.Lk)("div",Bt,[t[0]||(t[0]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-graph-up text-success me-2"}),(0,l.eW)(" Membership Growth ")])],-1)),(0,l.Lk)("div",Kt,[(0,l.Lk)("canvas",Vt,null,512)])])]),(0,l.Lk)("div",$t,[(0,l.Lk)("div",Ot,[t[1]||(t[1]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-pie-chart text-info me-2"}),(0,l.eW)(" Event Attendance ")])],-1)),(0,l.Lk)("div",Qt,[(0,l.Lk)("canvas",jt,null,512)])])]),(0,l.Lk)("div",Gt,[(0,l.Lk)("div",Jt,[t[2]||(t[2]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-radar text-warning me-2"}),(0,l.eW)(" Chapter Performance ")])],-1)),(0,l.Lk)("div",qt,[(0,l.Lk)("canvas",Ht,null,512)])])]),(0,l.Lk)("div",Yt,[(0,l.Lk)("div",zt,[t[7]||(t[7]=(0,l.Lk)("div",{class:"card-header d-flex justify-content-between align-items-center"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-activity text-danger me-2"}),(0,l.eW)(" Real-time Metrics ")]),(0,l.Lk)("div",{class:"badge bg-success pulse-dot"},"Live")],-1)),(0,l.Lk)("div",Zt,[(0,l.Lk)("div",ea,[(0,l.Lk)("div",ta,[(0,l.Lk)("div",aa,[(0,l.Lk)("div",sa,(0,n.v_)(s.realTimeData.activeUsers),1),t[3]||(t[3]=(0,l.Lk)("div",{class:"metric-label"},"Active Users",-1))])]),(0,l.Lk)("div",la,[(0,l.Lk)("div",na,[(0,l.Lk)("div",oa,(0,n.v_)(s.realTimeData.ongoingEvents),1),t[4]||(t[4]=(0,l.Lk)("div",{class:"metric-label"},"Ongoing Events",-1))])]),(0,l.Lk)("div",ra,[(0,l.Lk)("div",ia,[(0,l.Lk)("div",ca,(0,n.v_)(s.realTimeData.newSignups),1),t[5]||(t[5]=(0,l.Lk)("div",{class:"metric-label"},"Today's Signups",-1))])]),(0,l.Lk)("div",da,[(0,l.Lk)("div",ua,[(0,l.Lk)("div",ma,(0,n.v_)(s.realTimeData.systemHealth)+"%",1),t[6]||(t[6]=(0,l.Lk)("div",{class:"metric-label"},"System Health",-1))])])])])])])])])}var ba=a(934),pa=a(335),ha=a(889);const ga=(0,ha.getApiBaseUrl)(),ka=pa.A.create({baseURL:`${ga}/api`,headers:{"Content-Type":"application/json"},timeout:1e4});function ya(){const e=(0,D.KR)(!1),t=(0,D.KR)(null),a=async a=>{try{e.value=!0,t.value=null;const s=await a();return s}catch(s){throw t.value=s.response?.data?.message||s.message||"An error occurred",s}finally{e.value=!1}},s=async(e,t={})=>a(()=>ka.get(`/events/${e}/rsvps`,{params:t})),l=async(e,t)=>a(()=>ka.post(`/events/${e}/rsvps`,t)),n=async(e,t,s)=>a(()=>ka.put(`/events/${e}/rsvps/${t}`,s)),o=async(e,t)=>a(()=>ka.delete(`/events/${e}/rsvps/${t}`)),r=async(e,t)=>a(()=>ka.get(`/events/${e}/rsvps/${t}`)),i=async(e={})=>a(()=>ka.get("/events",{params:e})),c=async e=>a(()=>ka.get(`/events/${e}`)),d=async e=>a(()=>ka.post("/events",e)),u=async(e,t)=>a(()=>ka.put(`/events/${e}`,t)),m=async e=>a(()=>ka.delete(`/events/${e}`)),v=async(e={})=>a(()=>ka.get("/events/recurring",{params:e})),b=async e=>a(()=>ka.post("/events/recurring",e)),p=async(e,t)=>a(()=>ka.put(`/events/recurring/${e}`,t)),h=async e=>a(()=>ka.delete(`/events/recurring/${e}`)),g=async(e,t={})=>{const s={q:e,...t};return a(()=>ka.get("/events/search",{params:s}))},k=async e=>a(()=>ka.get(`/events/${e}/analytics`)),y=async(e={})=>a(()=>ka.get("/events/analytics",{params:e})),L=async(e={})=>a(()=>ka.get("/members",{params:e})),f=async e=>a(()=>ka.get(`/members/${e}`)),w=async(e={})=>a(()=>ka.get("/chapters",{params:e})),C=async e=>a(()=>ka.get(`/chapters/${e}`)),E=async()=>a(()=>ka.get("/monitoring/health")),S=async(e={})=>a(()=>ka.get("/monitoring/metrics",{params:e})),x=async(e={})=>a(()=>ka.get("/monitoring/operational",{params:e})),T=async(e={})=>a(()=>ka.get("/monitoring/audit",{params:e})),A=async(e,t="general")=>{const s=new FormData;return s.append("file",e),s.append("type",t),a(()=>ka.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}}))},R=async(e,t={})=>a(()=>ka.get(`/reports/${e}`,{params:t,responseType:"blob"})),I=async e=>a(()=>ka.post("/notifications",e)),M=async e=>a(()=>ka.put(`/notifications/${e}/read`));return{isLoading:e,error:t,fetchEventRSVPs:s,createRSVP:l,updateRSVP:n,deleteRSVP:o,getRSVPStatus:r,fetchEvents:i,fetchEvent:c,createEvent:d,updateEvent:u,deleteEvent:m,searchEvents:g,getEventAnalytics:k,getEventsAnalytics:y,fetchRecurringEvents:v,createRecurringEvent:b,updateRecurringEvent:p,deleteRecurringEvent:h,fetchMembers:L,fetchMember:f,fetchChapters:w,fetchChapter:C,getSystemHealth:E,getMetrics:S,getOperationalMetrics:x,getAuditLogs:T,uploadFile:A,downloadReport:R,sendNotification:I,markNotificationRead:M,apiClient:ka}}function La(e={}){const{autoRefresh:t=!0,refreshInterval:a=3e4,enableRealTime:s=!1}=e,{getSystemHealth:n,getMetrics:o,getOperationalMetrics:r,getAuditLogs:i}=ya(),c=(0,D.KR)(!1),d=(0,D.KR)(null),u=(0,D.KR)(new Date),m=(0,D.KR)({status:"UNKNOWN",uptime:0,database:null,memory:null,disk:null,api:null,services:{}}),v=(0,D.Kh)({system:{activeEvents:0,totalMembers:0,totalChapters:0,totalRsvps:0,systemLoad:0},events:{todayEvents:0,weeklyEvents:0,monthlyEvents:0,averageAttendance:0},rsvps:{todayRsvps:0,pendingRsvps:0,confirmedRsvps:0,waitlistCount:0},performance:{avgResponseTime:0,requestsPerMinute:0,errorRate:0,uptime:100}}),b=(0,D.KR)({rsvpTrends:[],eventCapacityData:[],userActivityData:[],systemPerformanceData:[]}),p=(0,D.KR)([]);let h=null,g=null;const k=(0,l.EW)(()=>{const e=m.value.status?.toUpperCase();switch(e){case"UP":case"HEALTHY":return{status:"healthy",text:"All systems operational",color:"success"};case"DOWN":case"UNHEALTHY":return{status:"unhealthy",text:"System issues detected",color:"danger"};case"DEGRADED":case"WARNING":return{status:"degraded",text:"Performance issues",color:"warning"};default:return{status:"unknown",text:"Status unknown",color:"secondary"}}}),y=(0,l.EW)(()=>[{title:"Active Events",value:v.system.activeEvents,icon:"bi bi-calendar-event",color:"primary",trend:M("activeEvents"),format:"number"},{title:"Total RSVPs",value:v.system.totalRsvps,icon:"bi bi-people-fill",color:"success",trend:M("totalRsvps"),format:"number"},{title:"System Load",value:v.system.systemLoad,icon:"bi bi-speedometer2",color:v.system.systemLoad>80?"danger":"info",trend:M("systemLoad"),format:"percentage",showProgress:!0,maxValue:100},{title:"Error Rate",value:v.performance.errorRate,icon:"bi bi-exclamation-triangle",color:v.performance.errorRate>5?"danger":"success",trend:M("errorRate"),format:"percentage"}]),L=(0,l.EW)(()=>b.value.rsvpTrends.map(e=>({label:F(e.date),value:e.count}))),f=(0,l.EW)(()=>b.value.eventCapacityData.map(e=>({label:e.eventName,value:e.capacityUsage}))),w=(0,l.EW)(()=>p.value.slice(0,10)),C=async()=>{try{const e=await n();m.value={status:e.data.status||"UNKNOWN",uptime:e.data.uptime||0,database:e.data.components?.database||null,memory:e.data.components?.memory||null,disk:e.data.components?.disk||null,api:e.data.components?.api||null,services:e.data.components?.services||{}}}catch(e){throw console.error("Failed to load system health:",e),m.value.status="UNKNOWN",e}},E=async()=>{try{const e=await o(),t=e.data;v.system={activeEvents:t.activeEvents||0,totalMembers:t.totalMembers||0,totalChapters:t.totalChapters||0,totalRsvps:t.totalRsvps||0,systemLoad:t.systemLoad||0},v.events={todayEvents:t.todayEvents||0,weeklyEvents:t.weeklyEvents||0,monthlyEvents:t.monthlyEvents||0,averageAttendance:t.averageAttendance||0},v.rsvps={todayRsvps:t.todayRsvps||0,pendingRsvps:t.pendingRsvps||0,confirmedRsvps:t.confirmedRsvps||0,waitlistCount:t.waitlistCount||0},v.performance={avgResponseTime:t.avgResponseTime||0,requestsPerMinute:t.requestsPerMinute||0,errorRate:t.errorRate||0,uptime:t.uptime||100}}catch(e){throw console.error("Failed to load metrics:",e),e}},S=async(e="24h")=>{try{const t=await r({timeRange:e}),a=t.data;b.value={rsvpTrends:a.rsvpTrends||[],eventCapacityData:a.eventCapacityData||[],userActivityData:a.userActivityData||[],systemPerformanceData:a.systemPerformanceData||[]}}catch(t){throw console.error("Failed to load operational metrics:",t),t}},x=async(e={})=>{try{const t={limit:50,sortBy:"timestamp",sortOrder:"desc",...e},a=await i(t);p.value=a.data||[]}catch(t){throw console.error("Failed to load audit logs:",t),t}},T=async()=>{try{c.value=!0,d.value=null,await Promise.all([C(),E(),S(),x()]),u.value=new Date}catch(e){throw d.value=e.message||"Failed to load monitoring data",e}finally{c.value=!1}},A=async()=>{await T()},R=async()=>{try{await Promise.all([E(),S()]),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh metrics"}},I=async()=>{try{await C(),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh health data"}},M=e=>{const t={activeEvents:"+12%",totalRsvps:"+24%",systemLoad:"-5%",errorRate:"-15%"};return t[e]||null},F=e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},N=e=>v[e]||{},_=e=>m.value[e]||null,U=()=>{s&&(h&&clearInterval(h),h=setInterval(R,1e4))},P=()=>{h&&(clearInterval(h),h=null),g&&(g.close(),g=null)},W=()=>{T(),t&&(h=setInterval(A,a)),s&&U()},X=()=>{P()};return(0,l.sV)(()=>{W()}),(0,l.hi)(()=>{X()}),{isLoading:c,error:d,lastUpdated:u,healthData:m,metricsData:v,operationalData:b,auditLogs:p,systemHealthStatus:k,criticalMetrics:y,rsvpTrendsChartData:L,eventCapacityChartData:f,recentAuditLogs:w,loadAllData:T,refreshData:A,refreshMetrics:R,refreshHealth:I,loadSystemHealth:C,loadMetrics:E,loadOperationalMetrics:S,loadAuditLogs:x,getMetricsByCategory:N,getHealthComponentStatus:_,startMonitoring:W,stopMonitoring:X}}ka.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),ka.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)));var fa={name:"AnalyticsDashboard",setup(){const e=(0,D.KR)(null),t=(0,D.KR)(null),a=(0,D.KR)(null),{healthData:s,metricsData:n,operationalData:o,loadAllData:r,refreshData:i}=La({autoRefresh:!0}),c=(0,D.KR)({activeUsers:0,ongoingEvents:0,newSignups:0,systemHealth:100});let d=null,u=null,m=null,v=null;const b=()=>{const s=e.value.getContext("2d");d=new ba.Ay(s,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"New Members",data:[65,59,80,81,56,89],borderColor:"#28a745",backgroundColor:"rgba(40, 167, 69, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.1)"}},x:{grid:{display:!1}}}}});const l=t.value.getContext("2d");u=new ba.Ay(l,{type:"doughnut",data:{labels:["Present","Absent","Late"],datasets:[{data:[75,20,5],backgroundColor:["#28a745","#dc3545","#ffc107"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}});const n=a.value.getContext("2d");m=new ba.Ay(n,{type:"radar",data:{labels:["Events","Attendance","Engagement","Growth","Retention"],datasets:[{label:"Chapter Performance",data:[85,75,90,70,88],backgroundColor:"rgba(255, 193, 7, 0.2)",borderColor:"#ffc107",borderWidth:2,pointBackgroundColor:"#ffc107",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20}}},plugins:{legend:{display:!1}}}})},p=async()=>{try{await i(),c.value={activeUsers:Math.floor(50*Math.random())+10,ongoingEvents:o.value?.activeEvents||0,newSignups:Math.floor(15*Math.random())+2,systemHealth:"UP"===s.value?.status?100:75}}catch(e){console.error("Failed to fetch real-time data:",e)}};return(0,l.sV)(()=>{b(),r(),p(),v=setInterval(p,3e4)}),(0,l.hi)(()=>{d&&d.destroy(),u&&u.destroy(),m&&m.destroy(),v&&clearInterval(v)}),{membershipChart:e,attendanceChart:t,performanceChart:a,realTimeData:c}}};const wa=(0,P.A)(fa,[["render",va],["__scopeId","data-v-672f3cfd"]]);var Ca=wa;const Ea={class:"skeleton-loader"},Sa={key:0,class:"card border-0 shadow-sm"},xa={key:1,class:"card"},Ta={class:"card-body p-0"},Aa={class:"table-responsive"},Ra={class:"table mb-0"},Ia={key:2};function Ma(e,t,a,s,n,o){return(0,l.uX)(),(0,l.CE)("div",Ea,["card"===a.type?((0,l.uX)(),(0,l.CE)("div",Sa,[...t[0]||(t[0]=[(0,l.Fv)('<div class="card-body" data-v-7cac7a32><div class="d-flex align-items-center" data-v-7cac7a32><div class="skeleton-circle me-3" data-v-7cac7a32></div><div class="flex-grow-1" data-v-7cac7a32><div class="skeleton-line mb-2" style="width:60%;" data-v-7cac7a32></div><div class="skeleton-line" style="width:40%;" data-v-7cac7a32></div></div></div></div>',1)])])):(0,l.Q3)("",!0),"table"===a.type?((0,l.uX)(),(0,l.CE)("div",xa,[(0,l.Lk)("div",Ta,[(0,l.Lk)("div",Aa,[(0,l.Lk)("table",Ra,[t[2]||(t[2]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"80%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"50%"}})])])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[...t[1]||(t[1]=[(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"90%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"85%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})],-1)])]))),128))])])])])])):(0,l.Q3)("",!0),"list"===a.type?((0,l.uX)(),(0,l.CE)("div",Ia,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"d-flex align-items-center mb-3"},[...t[3]||(t[3]=[(0,l.Lk)("div",{class:"skeleton-circle me-3"},null,-1),(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("div",{class:"skeleton-line mb-1",style:{width:"75%"}}),(0,l.Lk)("div",{class:"skeleton-line",style:{width:"45%"}})],-1)])]))),128))])):(0,l.Q3)("",!0)])}var Da={name:"SkeletonLoader",props:{type:{type:String,default:"card",validator:e=>["card","table","list"].includes(e)},rows:{type:Number,default:3}}};const Fa=(0,P.A)(Da,[["render",Ma],["__scopeId","data-v-7cac7a32"]]);var Na=Fa,_a={name:"Dashboard",components:{AnalyticsDashboard:Ca,SkeletonLoader:Na},setup(){const e=(0,D.KR)(0),t=(0,D.KR)(0),s=(0,D.KR)(0),n=(0,D.KR)(0),o=(0,D.KR)(!0),r=(0,D.KR)(null),i=(0,D.KR)(null),c=()=>{const e=localStorage.getItem("user");if(e)try{i.value=JSON.parse(e)}catch(r){console.error("Error parsing stored user:",r),i.value=null}};(0,l.sV)(()=>{c()});const d=async()=>{try{o.value=!0;const{getApiBaseUrl:l}=await Promise.resolve().then(a.bind(a,889)),i=l(),c=await fetch(`${i}/api/stats/public/overview`);if(!c.ok)throw new Error("Failed to fetch statistics");const d=await c.json();e.value=d.totalMembers||0,t.value=d.totalEvents||0,s.value=d.totalChapters||0,n.value=d.totalRsvps||0,r.value=null}catch(l){console.error("Error fetching public stats:",l),r.value="Unable to load statistics",e.value=0,t.value=0,s.value=0,n.value=0}finally{o.value=!1}};return(0,l.sV)(()=>{d()}),{totalMembers:e,activeEvents:t,totalChapters:s,totalRsvps:n,loading:o,error:r,fetchPublicStats:d,currentUser:i}}};const Ua=(0,P.A)(_a,[["render",Ut],["__scopeId","data-v-1ffa6712"]]);var Pa=Ua;const Wa={class:"chapters"},Xa={class:"container"},Ba={class:"row mb-3"},Ka={class:"col-md-6"},Va={class:"d-flex align-items-center"},$a={class:"col-md-6 text-end"},Oa={class:"chapter-stats"},Qa={class:"badge bg-primary fs-6 me-2"},ja={class:"badge bg-success fs-6 me-2"},Ga={class:"badge bg-warning fs-6"},Ja={key:0,class:"text-center py-4"},qa={key:1,class:"alert alert-danger text-center"},Ha={key:2,class:"table-responsive"},Ya={class:"table table-hover"},za={class:"table-light"},Za={class:"d-flex align-items-center"},es={class:"chapter-avatar me-2"},ts={class:"badge bg-light text-dark"},as={class:"d-flex align-items-center"},ss={class:"health-bar"},ls={class:"btn-group btn-group-sm"},ns=["onClick"],os=["onClick"],rs=["onClick"],is={key:0,class:"d-flex justify-content-center mt-4"},cs={class:"pagination"},ds=["onClick"],us={key:3,class:"row"},ms={class:"card chapter-card h-100"},vs={class:"card-header d-flex justify-content-between align-items-center"},bs={class:"chapter-avatar-large"},ps={class:"card-body"},hs={class:"card-title"},gs={class:"card-text text-muted"},ks={class:"mb-2"},ys={class:"text-muted"},Ls={class:"row text-center mb-3"},fs={class:"col-6"},ws={class:"stat-item"},Cs={class:"stat-value"},Es={class:"col-6"},Ss={class:"stat-item"},xs={class:"stat-value"},Ts={class:"health-bar"},As={class:"card-footer"},Rs={class:"btn-group w-100"},Is=["onClick"],Ms=["onClick"],Ds=["onClick"],Fs={key:0,class:"col-12 d-flex justify-content-center mt-4"},Ns={class:"pagination"},_s=["onClick"],Us={key:4,class:"text-center py-5"},Ps={class:"modal-dialog modal-lg"},Ws={class:"modal-content"},Xs={class:"modal-header"},Bs={class:"modal-body"},Ks={class:"row"},Vs={class:"col-12 mb-3"},$s={class:"col-12 mb-3"},Os={class:"row"},Qs={class:"col-12 mb-3"},js={class:"form-check form-check-inline"},Gs={class:"form-check form-check-inline"},Js={key:0,class:"row mb-3"},qs={class:"col-12"},Hs=["value"],Ys={key:1,class:"row"},zs={class:"col-12 mb-3"},Zs={class:"form-check form-check-inline"},el={class:"form-check form-check-inline"},tl={class:"col-md-6 mb-3"},al={for:"institutionName",class:"form-label"},sl=["placeholder"],ll={class:"col-md-6 mb-3"},nl={class:"col-md-6 mb-3"},ol=["value"],rl={class:"col-md-6 mb-3"},il={class:"col-12 mb-3"},cl={class:"col-md-6 mb-3"},dl={class:"col-md-6 mb-3"},ul={class:"col-md-6 mb-3"},ml={class:"col-md-6 mb-3"},vl={class:"col-md-6 mb-3"},bl={class:"col-md-6 mb-3"},pl={class:"modal-footer"},hl=["disabled"],gl={key:0,class:"spinner-border spinner-border-sm me-2"};function kl(e,t,a,o,r,i){const c=(0,l.g2)("EnhancedSearch");return(0,l.uX)(),(0,l.CE)("div",Wa,[(0,l.Lk)("div",Xa,[t[93]||(t[93]=(0,l.Fv)('<div class="row mb-4" data-v-a5ecd2c8><div class="col" data-v-a5ecd2c8><h1 class="display-4 text-center mb-3" data-v-a5ecd2c8><i class="bi bi-building text-primary me-3" data-v-a5ecd2c8></i> Chapters </h1><p class="lead text-center text-muted" data-v-a5ecd2c8> Manage university chapters across the network </p></div></div>',1)),(0,l.bF)(c,{chapters:o.allChapters,"available-states":o.availableStates,onSearch:o.handleSearch,onSearchResults:o.handleSearchResults,onFilterChange:o.handleFilterChange},null,8,["chapters","available-states","onSearch","onSearchResults","onFilterChange"]),(0,l.Lk)("div",Ba,[(0,l.Lk)("div",Ka,[(0,l.Lk)("div",Va,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.openAddModal&&o.openAddModal(...e)),class:"btn btn-primary me-3"},[...t[42]||(t[42]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.toggleView&&o.toggleView(...e)),class:"btn btn-outline-secondary me-3"},[(0,l.Lk)("i",{class:(0,n.C4)(["table"===o.currentView?"bi bi-grid-3x3-gap":"bi bi-table","me-2"])},null,2),(0,l.eW)(" "+(0,n.v_)("table"===o.currentView?"Card View":"Table View"),1)]),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.exportToCSV&&o.exportToCSV(...e)),class:"btn btn-outline-success"},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)(" Export CSV ",-1)])])])]),(0,l.Lk)("div",$a,[(0,l.Lk)("div",Oa,[(0,l.Lk)("span",Qa," Total: "+(0,n.v_)(o.filteredChapters.length),1),(0,l.Lk)("span",ja," Active: "+(0,n.v_)(o.activeChapters),1),(0,l.Lk)("span",Ga," Avg Health: "+(0,n.v_)(o.averageHealth)+"% ",1)])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",Ja,[...t[44]||(t[44]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,l.Lk)("p",{class:"text-muted mt-2"},"Loading chapters...",-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",qa,[t[46]||(t[46]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.error)+" ",1),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.loadChapters&&o.loadChapters(...e)),class:"btn btn-outline-danger btn-sm ms-2"},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Retry ",-1)])])])):"table"===o.currentView?((0,l.uX)(),(0,l.CE)("div",Ha,[(0,l.Lk)("table",Ya,[(0,l.Lk)("thead",za,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{onClick:t[4]||(t[4]=e=>o.sortBy("name")),class:"sortable"},[t[47]||(t[47]=(0,l.eW)(" Name ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("name")])},null,2)]),(0,l.Lk)("th",{onClick:t[5]||(t[5]=e=>o.sortBy("university")),class:"sortable"},[t[48]||(t[48]=(0,l.eW)(" University ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("university")])},null,2)]),(0,l.Lk)("th",{onClick:t[6]||(t[6]=e=>o.sortBy("state")),class:"sortable"},[t[49]||(t[49]=(0,l.eW)(" State ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("state")])},null,2)]),(0,l.Lk)("th",{onClick:t[7]||(t[7]=e=>o.sortBy("memberCount")),class:"sortable"},[t[50]||(t[50]=(0,l.eW)(" Members ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("memberCount")])},null,2)]),(0,l.Lk)("th",{onClick:t[8]||(t[8]=e=>o.sortBy("healthScore")),class:"sortable"},[t[51]||(t[51]=(0,l.eW)(" Health ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("healthScore")])},null,2)]),(0,l.Lk)("th",{onClick:t[9]||(t[9]=e=>o.sortBy("status")),class:"sortable"},[t[52]||(t[52]=(0,l.eW)(" Status ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("status")])},null,2)]),t[53]||(t[53]=(0,l.Lk)("th",null,"Actions",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"chapter-row"},[(0,l.Lk)("td",null,[(0,l.Lk)("div",Za,[(0,l.Lk)("div",es,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("strong",null,(0,n.v_)(e.name),1)])]),(0,l.Lk)("td",null,(0,n.v_)(e.university),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",ts,(0,n.v_)(e.state),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",as,[t[54]||(t[54]=(0,l.Lk)("i",{class:"bi bi-people me-1 text-muted"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.memberCount||0),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:(0,n.C4)(["health-score",o.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",ss,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)]),(0,l.Lk)("small",null,(0,n.v_)(e.healthScore||0)+"%",1)],2)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ls,[(0,l.Lk)("button",{onClick:t=>o.viewChapter(e),class:"btn btn-outline-primary",title:"View Details"},[...t[55]||(t[55]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,ns),(0,l.Lk)("button",{onClick:t=>o.editChapter(e),class:"btn btn-outline-secondary",title:"Edit Chapter"},[...t[56]||(t[56]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,os),(0,l.Lk)("button",{onClick:t=>o.deleteChapter(e),class:"btn btn-outline-danger",title:"Delete Chapter"},[...t[57]||(t[57]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,rs)])])]))),128))])]),o.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",is,[(0,l.Lk)("ul",cs,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[10]||(t[10]=e=>o.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[11]||(t[11]=e=>o.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{onClick:t=>o.currentPage=e,class:"page-link"},(0,n.v_)(e),9,ds)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[12]||(t[12]=e=>o.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[13]||(t[13]=e=>o.currentPage=o.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",us,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4 mb-4"},[(0,l.Lk)("div",ms,[(0,l.Lk)("div",vs,[(0,l.Lk)("div",bs,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("div",ps,[(0,l.Lk)("h5",hs,(0,n.v_)(e.name),1),(0,l.Lk)("p",gs,(0,n.v_)(e.university),1),(0,l.Lk)("div",ks,[(0,l.Lk)("small",ys,[t[58]||(t[58]=(0,l.Lk)("i",{class:"bi bi-geo-alt me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),1)])]),(0,l.Lk)("div",Ls,[(0,l.Lk)("div",fs,[(0,l.Lk)("div",ws,[(0,l.Lk)("div",Cs,(0,n.v_)(e.memberCount||0),1),t[59]||(t[59]=(0,l.Lk)("div",{class:"stat-label"},"Members",-1))])]),(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ss,[(0,l.Lk)("div",xs,(0,n.v_)(e.healthScore||0)+"%",1),t[60]||(t[60]=(0,l.Lk)("div",{class:"stat-label"},"Health",-1))])])]),(0,l.Lk)("div",{class:(0,n.C4)(["health-score mb-3",o.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",Ts,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)])],2)]),(0,l.Lk)("div",As,[(0,l.Lk)("div",Rs,[(0,l.Lk)("button",{onClick:t=>o.viewChapter(e),class:"btn btn-outline-primary"},[...t[61]||(t[61]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)(" View ",-1)])],8,Is),(0,l.Lk)("button",{onClick:t=>o.editChapter(e),class:"btn btn-outline-secondary"},[...t[62]||(t[62]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)(" Edit ",-1)])],8,Ms),(0,l.Lk)("button",{onClick:t=>o.deleteChapter(e),class:"btn btn-outline-danger"},[...t[63]||(t[63]=[(0,l.Lk)("i",{class:"bi bi-trash me-1"},null,-1),(0,l.eW)(" Delete ",-1)])],8,Ds)])])])]))),128)),o.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",Fs,[(0,l.Lk)("ul",Ns,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[14]||(t[14]=e=>o.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[15]||(t[15]=e=>o.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{onClick:t=>o.currentPage=e,class:"page-link"},(0,n.v_)(e),9,_s)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[16]||(t[16]=e=>o.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[17]||(t[17]=e=>o.currentPage=o.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])),o.loading||o.error||0!==o.filteredChapters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Us,[t[65]||(t[65]=(0,l.Lk)("i",{class:"bi bi-building display-1 text-muted"},null,-1)),t[66]||(t[66]=(0,l.Lk)("h3",{class:"text-muted mt-3"},"No chapters found",-1)),t[67]||(t[67]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your search criteria or add a new chapter.",-1)),(0,l.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>o.openAddModal&&o.openAddModal(...e)),class:"btn btn-primary"},[...t[64]||(t[64]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])])])),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showAddModal}]),style:(0,n.Tr)({display:o.showAddModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Ps,[(0,l.Lk)("div",Ws,[(0,l.Lk)("div",Xs,[t[68]||(t[68]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)(" Add New Chapter ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=(...e)=>o.closeModal&&o.closeModal(...e))})]),(0,l.Lk)("div",Bs,[(0,l.Lk)("form",{onSubmit:t[38]||(t[38]=(0,s.D$)((...e)=>o.saveChapter&&o.saveChapter(...e),["prevent"]))},[(0,l.Lk)("div",Ks,[t[71]||(t[71]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Chapter Information")],-1)),(0,l.Lk)("div",Vs,[t[69]||(t[69]=(0,l.Lk)("label",{for:"chapterName",class:"form-label"},"Chapter Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"chapterName","onUpdate:modelValue":t[20]||(t[20]=e=>o.chapterForm.name=e),required:"",placeholder:"e.g., Turning Point USA - University of Texas"},null,512),[[s.Jo,o.chapterForm.name]])]),(0,l.Lk)("div",$s,[t[70]||(t[70]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[21]||(t[21]=e=>o.chapterForm.description=e),rows:"3",placeholder:"Brief description of the chapter..."},null,512),[[s.Jo,o.chapterForm.description]])])]),(0,l.Lk)("div",Os,[t[74]||(t[74]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Institution Association")],-1)),(0,l.Lk)("div",Qs,[(0,l.Lk)("div",js,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"existingInstitution",value:"existing","onUpdate:modelValue":t[22]||(t[22]=e=>o.institutionOption=e)},null,512),[[s.XL,o.institutionOption]]),t[72]||(t[72]=(0,l.Lk)("label",{class:"form-check-label",for:"existingInstitution"}," Select Existing Institution ",-1))]),(0,l.Lk)("div",Gs,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"newInstitution",value:"new","onUpdate:modelValue":t[23]||(t[23]=e=>o.institutionOption=e)},null,512),[[s.XL,o.institutionOption]]),t[73]||(t[73]=(0,l.Lk)("label",{class:"form-check-label",for:"newInstitution"}," Add New Institution ",-1))])])]),"existing"===o.institutionOption?((0,l.uX)(),(0,l.CE)("div",Js,[(0,l.Lk)("div",qs,[t[76]||(t[76]=(0,l.Lk)("label",{for:"existingInstitutionSelect",class:"form-label"},"Choose Institution *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"existingInstitutionSelect","onUpdate:modelValue":t[24]||(t[24]=e=>o.chapterForm.institutionId=e),required:""},[t[75]||(t[75]=(0,l.Lk)("option",{value:""},"Select an institution...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.institutions,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name)+" - "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),9,Hs))),128))],512),[[s.u1,o.chapterForm.institutionId]])])])):(0,l.Q3)("",!0),"new"===o.institutionOption?((0,l.uX)(),(0,l.CE)("div",Ys,[(0,l.Lk)("div",zs,[t[79]||(t[79]=(0,l.Lk)("label",{class:"form-label"},"Institution Type *",-1)),(0,l.Lk)("div",Zs,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"university",value:"UNIVERSITY","onUpdate:modelValue":t[25]||(t[25]=e=>o.newInstitution.institutionType=e)},null,512),[[s.XL,o.newInstitution.institutionType]]),t[77]||(t[77]=(0,l.Lk)("label",{class:"form-check-label",for:"university"}," University ",-1))]),(0,l.Lk)("div",el,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"church",value:"CHURCH","onUpdate:modelValue":t[26]||(t[26]=e=>o.newInstitution.institutionType=e)},null,512),[[s.XL,o.newInstitution.institutionType]]),t[78]||(t[78]=(0,l.Lk)("label",{class:"form-check-label",for:"church"}," Church ",-1))])]),(0,l.Lk)("div",tl,[(0,l.Lk)("label",al,(0,n.v_)("UNIVERSITY"===o.newInstitution.institutionType?"University":"Church")+" Name *",1),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionName","onUpdate:modelValue":t[27]||(t[27]=e=>o.newInstitution.name=e),required:"",placeholder:"UNIVERSITY"===o.newInstitution.institutionType?"e.g., University of Texas at Austin":"e.g., First Baptist Church"},null,8,sl),[[s.Jo,o.newInstitution.name]])]),(0,l.Lk)("div",ll,[t[80]||(t[80]=(0,l.Lk)("label",{for:"institutionCity",class:"form-label"},"City *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionCity","onUpdate:modelValue":t[28]||(t[28]=e=>o.newInstitution.city=e),required:"",placeholder:"e.g., Austin"},null,512),[[s.Jo,o.newInstitution.city]])]),(0,l.Lk)("div",nl,[t[82]||(t[82]=(0,l.Lk)("label",{for:"institutionState",class:"form-label"},"State *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"institutionState","onUpdate:modelValue":t[29]||(t[29]=e=>o.newInstitution.state=e),required:""},[t[81]||(t[81]=(0,l.Lk)("option",{value:""},"Select State",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.usStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,ol))),128))],512),[[s.u1,o.newInstitution.state]])]),(0,l.Lk)("div",rl,[t[83]||(t[83]=(0,l.Lk)("label",{for:"institutionZipCode",class:"form-label"},"ZIP Code",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionZipCode","onUpdate:modelValue":t[30]||(t[30]=e=>o.newInstitution.zipCode=e),placeholder:"e.g., 78712"},null,512),[[s.Jo,o.newInstitution.zipCode]])]),(0,l.Lk)("div",il,[t[84]||(t[84]=(0,l.Lk)("label",{for:"institutionAddress",class:"form-label"},"Address",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionAddress","onUpdate:modelValue":t[31]||(t[31]=e=>o.newInstitution.address=e),placeholder:"e.g., 110 Inner Campus Drive"},null,512),[[s.Jo,o.newInstitution.address]])]),"UNIVERSITY"===o.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",cl,[t[86]||(t[86]=(0,l.Lk)("label",{for:"universityType",class:"form-label"},"University Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"universityType","onUpdate:modelValue":t[32]||(t[32]=e=>o.newInstitution.universityType=e)},[...t[85]||(t[85]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Type</option><option value="Public" data-v-a5ecd2c8>Public</option><option value="Private" data-v-a5ecd2c8>Private</option><option value="Community College" data-v-a5ecd2c8>Community College</option><option value="Technical" data-v-a5ecd2c8>Technical</option>',5)])],512),[[s.u1,o.newInstitution.universityType]])]),(0,l.Lk)("div",dl,[t[87]||(t[87]=(0,l.Lk)("label",{for:"studentPopulation",class:"form-label"},"Student Population",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"studentPopulation","onUpdate:modelValue":t[33]||(t[33]=e=>o.newInstitution.studentPopulation=e),placeholder:"e.g., 40000"},null,512),[[s.Jo,o.newInstitution.studentPopulation]])])],64)):(0,l.Q3)("",!0),"CHURCH"===o.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("div",ul,[t[89]||(t[89]=(0,l.Lk)("label",{for:"denomination",class:"form-label"},"Denomination",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"denomination","onUpdate:modelValue":t[34]||(t[34]=e=>o.newInstitution.denomination=e)},[...t[88]||(t[88]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Denomination</option><option value="Baptist" data-v-a5ecd2c8>Baptist</option><option value="Methodist" data-v-a5ecd2c8>Methodist</option><option value="Presbyterian" data-v-a5ecd2c8>Presbyterian</option><option value="Catholic" data-v-a5ecd2c8>Catholic</option><option value="Lutheran" data-v-a5ecd2c8>Lutheran</option><option value="Episcopal" data-v-a5ecd2c8>Episcopal</option><option value="Pentecostal" data-v-a5ecd2c8>Pentecostal</option><option value="Non-denominational" data-v-a5ecd2c8>Non-denominational</option><option value="Other" data-v-a5ecd2c8>Other</option>',10)])],512),[[s.u1,o.newInstitution.denomination]])]),(0,l.Lk)("div",ml,[t[90]||(t[90]=(0,l.Lk)("label",{for:"pastorName",class:"form-label"},"Pastor Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"pastorName","onUpdate:modelValue":t[35]||(t[35]=e=>o.newInstitution.pastorName=e),placeholder:"e.g., Pastor John Smith"},null,512),[[s.Jo,o.newInstitution.pastorName]])]),(0,l.Lk)("div",vl,[t[91]||(t[91]=(0,l.Lk)("label",{for:"membershipSize",class:"form-label"},"Membership Size",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"membershipSize","onUpdate:modelValue":t[36]||(t[36]=e=>o.newInstitution.membershipSize=e),placeholder:"e.g., 500"},null,512),[[s.Jo,o.newInstitution.membershipSize]])]),(0,l.Lk)("div",bl,[t[92]||(t[92]=(0,l.Lk)("label",{for:"website",class:"form-label"},"Website",-1)),(0,l.bo)((0,l.Lk)("input",{type:"url",class:"form-control",id:"website","onUpdate:modelValue":t[37]||(t[37]=e=>o.newInstitution.website=e),placeholder:"e.g., https://church.org"},null,512),[[s.Jo,o.newInstitution.website]])])],64)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],32)]),(0,l.Lk)("div",pl,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[39]||(t[39]=(...e)=>o.closeModal&&o.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[40]||(t[40]=(...e)=>o.saveChapter&&o.saveChapter(...e)),disabled:o.saving},[o.saving?((0,l.uX)(),(0,l.CE)("span",gl)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.saving?"Creating...":"Create Chapter"),1)],8,hl)])])])],6),o.showAddModal?((0,l.uX)(),(0,l.CE)("div",{key:5,class:"modal-backdrop fade show",onClick:t[41]||(t[41]=(...e)=>o.closeModal&&o.closeModal(...e))})):(0,l.Q3)("",!0)])])}const yl=[{id:1,name:"University of California - Berkeley",university:"UC Berkeley",state:"California",city:"Berkeley",active:!0,foundedDate:"2020-09-01",memberCount:45,healthScore:85,lastActivity:"2024-10-15",description:"Leading innovation in the Bay Area with a focus on technology and entrepreneurship."},{id:2,name:"Harvard University",university:"Harvard University",state:"Massachusetts",city:"Cambridge",active:!0,foundedDate:"2019-08-15",memberCount:67,healthScore:92,lastActivity:"2024-10-16",description:"Prestigious chapter focusing on leadership development and academic excellence."},{id:3,name:"University of Texas - Austin",university:"UT Austin",state:"Texas",city:"Austin",active:!0,foundedDate:"2021-01-20",memberCount:38,healthScore:78,lastActivity:"2024-10-14",description:"Dynamic chapter promoting innovation and community engagement in the heart of Texas."},{id:4,name:"Stanford University",university:"Stanford University",state:"California",city:"Stanford",active:!0,foundedDate:"2020-02-10",memberCount:52,healthScore:88,lastActivity:"2024-10-17",description:"Silicon Valley chapter at the forefront of technology and entrepreneurship."},{id:5,name:"University of Florida",university:"University of Florida",state:"Florida",city:"Gainesville",active:!1,foundedDate:"2021-03-05",memberCount:23,healthScore:45,lastActivity:"2024-09-20",description:"Growing chapter with focus on community service and leadership development."}],Ll={async getAllChapters(){console.log("🔍 SERVICE DEBUG: getAllChapters() called");try{const t=await ha.A.get("/chapters");console.log("🔍 SERVICE DEBUG: API response:",t);let a=t.data;if("string"===typeof a)try{a=JSON.parse(a),console.log("🔍 SERVICE DEBUG: Parsed JSON string data:",a)}catch(e){return console.error("🔍 SERVICE DEBUG: Failed to parse JSON string:",e),console.warn("🔍 SERVICE DEBUG: Using mock data due to parse error"),yl}return a&&Array.isArray(a)?(console.log("🔍 SERVICE DEBUG: Returning API data:",a.length,"chapters"),a):Array.isArray(t)?(console.log("🔍 SERVICE DEBUG: Returning direct response:",t.length,"chapters"),t):(console.warn("🔍 SERVICE DEBUG: Unexpected API response format, using mock data"),console.warn("🔍 SERVICE DEBUG: Expected array, got:",typeof a,a),yl)}catch(t){return console.warn("Backend not available, using mock data:",t.message),console.log("🔍 SERVICE DEBUG: Returning mock chapters:",yl.length,"items"),yl}},async getChapterById(e){try{const t=await ha.A.get(`/chapters/${e}`);return t.data}catch(t){throw t}},async createChapter(e){try{const t=await ha.A.post("/chapters",e);return t.data}catch(t){throw t}},async updateChapter(e,t){try{const a=await ha.A.put(`/chapters/${e}`,t);return a.data}catch(a){throw a}},async deleteChapter(e){try{return await ha.A.delete(`/chapters/${e}`),!0}catch(t){throw t}},async searchChapters(e){try{const t=await ha.A.get("/chapters/search",{params:e});return t.data}catch(t){throw t}},async getChaptersByState(e){try{const t=await ha.A.get(`/chapters/state/${e}`);return t.data}catch(t){throw t}},async createChapterWithInstitution(e){try{const t=await ha.A.post("/chapters/with-institution",e);return t.data}catch(t){throw t}},async getAllInstitutions(){try{const e=await ha.A.get("/chapters/institutions");return e.data}catch(e){throw e}},async getAllUniversities(){try{const e=await ha.A.get("/chapters/institutions/universities");return e.data}catch(e){throw e}},async getAllChurches(){try{const e=await ha.A.get("/chapters/institutions/churches");return e.data}catch(e){throw e}},async searchInstitutions(e){try{const t=await ha.A.get("/chapters/institutions/search",{params:{query:e}});return t.data}catch(t){throw t}}};var fl=Ll;const wl=[{id:1,firstName:"Alice",lastName:"Johnson",email:"alice.johnson@berkeley.edu",username:"alicej",chapterId:1,role:"PRESIDENT",active:!0,graduationYear:2025,major:"Computer Science",phoneNumber:"(555) 123-4567"},{id:2,firstName:"Bob",lastName:"Smith",email:"bob.smith@harvard.edu",username:"bobsmith",chapterId:2,role:"VICE_PRESIDENT",active:!0,graduationYear:2024,major:"Business Administration",phoneNumber:"(555) 234-5678"},{id:3,firstName:"Carol",lastName:"Davis",email:"carol.davis@utexas.edu",username:"carold",chapterId:3,role:"MEMBER",active:!0,graduationYear:2026,major:"Engineering",phoneNumber:"(555) 345-6789"}],Cl={async getAllMembers(){try{const e=await ha.A.get("/members");return e.data}catch(e){return console.warn("Backend not available, using mock member data:",e.message),wl}},async getMemberById(e){try{const t=await ha.A.get(`/members/${e}`);return t.data}catch(t){throw t}},async getMembersByChapter(e){try{const t=await ha.A.get(`/members/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveMembersByChapter(e){try{const t=await ha.A.get(`/members/chapter/${e}/active`);return t.data}catch(t){throw t}},async getMembersByRole(e,t){try{const a=await ha.A.get(`/members/chapter/${e}/role/${t}`);return a.data}catch(a){throw a}},async getChapterOfficers(e){try{const t=await ha.A.get(`/members/chapter/${e}/officers`);return t.data}catch(t){throw t}},async getChapterPresident(e){try{const t=await ha.A.get(`/members/chapter/${e}/president`);return t.data}catch(t){throw t}},async createMember(e){try{const t=await ha.A.post("/members",e);return t.data}catch(t){throw t}},async updateMember(e,t){const a={firstName:t.firstName,lastName:t.lastName,email:t.email,phoneNumber:t.phoneNumber||null,major:t.major||null,graduationYear:t.graduationYear||null,role:t.role,active:void 0===t.active||t.active,chapterId:t.chapter?t.chapter.id:null};console.log("🔍 Updating member with flexible request:",a);try{const t=await ha.A.put(`/members/${e}/flexible`,a);return t.data}catch(s){console.error("❌ Flexible member update failed, trying original endpoint:",s);try{const t=await ha.A.put(`/members/${e}`,a);return t.data}catch(l){throw console.error("❌ Both endpoints failed:",l),l}}},async updateMemberRole(e,t){try{const a=await ha.A.put(`/members/${e}/role`,{role:t});return a.data}catch(a){throw a}},async deleteMember(e){try{return await ha.A.delete(`/members/${e}`),!0}catch(t){throw t}},async activateMember(e){try{const t=await ha.A.put(`/members/${e}/activate`);return t.data}catch(t){throw t}},async getMemberCount(e){try{const t=await ha.A.get(`/members/chapter/${e}/count`);return t.data}catch(t){throw t}}};const El={class:"search-input-container position-relative"},Sl={class:"input-group"},xl={class:"alert alert-info mt-2"},Tl={key:0},Al=["onClick"],Rl={class:"flex-grow-1"},Il={class:"text-muted ms-2"},Ml={key:1},Dl={key:0,class:"dropdown-divider"},Fl=["onClick"],Nl={class:"flex-grow-1"},_l=["onClick"],Ul={key:2},Pl={class:"mt-3"},Wl={key:0,class:"advanced-filters mt-3"},Xl={class:"card"},Bl={class:"card-body"},Kl={class:"row g-3"},Vl={class:"col-md-6 col-lg-3"},$l=["value"],Ol={class:"col-md-6 col-lg-3"},Ql={class:"col-md-6 col-lg-3"},jl={class:"form-label fw-semibold"},Gl={class:"d-flex gap-2"},Jl={class:"col-md-6 col-lg-3"},ql={class:"col-md-6 col-lg-3"},Hl={class:"col-md-6 col-lg-3"},Yl={class:"form-label fw-semibold"},zl={class:"d-flex align-items-center gap-2"},Zl={class:"row mt-3"},en={class:"col-12"},tn={class:"d-flex gap-2 flex-wrap"},an={key:1,class:"active-filters mt-3"},sn={class:"d-flex align-items-center flex-wrap gap-2"},ln=["onClick","title"],nn={key:2,class:"saved-searches mt-3"},on={class:"d-flex flex-wrap gap-2"},rn=["onClick","title"],cn=["onClick"];function dn(e,t,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",{class:"advanced-search-component",tabindex:"0",onKeydown:t[27]||(t[27]=(...e)=>o.containerKeydown&&o.containerKeydown(...e)),ref:"searchContainer"},[(0,l.Lk)("div",El,[(0,l.Lk)("div",Sl,[t[29]||(t[29]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"searchInput",type:"text",class:"form-control",placeholder:"Search chapters, universities, cities, or states...","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>o.handleSearchInput&&o.handleSearchInput(...e)),onKeydown:t[2]||(t[2]=(...e)=>o.handleKeydown&&o.handleKeydown(...e)),onKeyup:t[3]||(t[3]=(...e)=>o.handleKeyup&&o.handleKeyup(...e)),onFocus:t[4]||(t[4]=e=>{o.showSuggestions=!0,console.log("🎯 INPUT FOCUSED - suggestions should show, showSuggestions will be:",!0)}),onBlur:t[5]||(t[5]=e=>{console.log("😴 INPUT BLURRED - hiding suggestions in 100ms"),o.hideSuggestionsDelayed}),autocomplete:"off"},null,544),[[s.Jo,o.searchQuery]]),o.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[6]||(t[6]=(...e)=>o.clearSearch&&o.clearSearch(...e)),title:"Clear search"},[...t[28]||(t[28]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-outline-info",type:"button",onClick:t[7]||(t[7]=e=>o.showSuggestions=!o.showSuggestions),title:"Toggle suggestions (debug)"},(0,n.v_)(o.showSuggestions?"Hide":"Show"),1),(0,l.Lk)("button",{class:"btn btn-outline-warning",type:"button",onClick:t[8]||(t[8]=(...e)=>o.closeSuggestions&&o.closeSuggestions(...e)),title:"Test close function"}," Test Close ")]),(0,l.Lk)("div",xl,[(0,l.Lk)("small",null,[t[30]||(t[30]=(0,l.Lk)("strong",null,"Debug Info:",-1)),(0,l.eW)(" showSuggestions: "+(0,n.v_)(o.showSuggestions)+" | selectedIndex: "+(0,n.v_)(o.selectedSuggestionIndex)+' | searchQuery: "'+(0,n.v_)(o.searchQuery)+'" ',1)])]),o.showSuggestions&&(o.filteredSuggestions.length>0||o.recentSearches.length,1)?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"search-suggestions dropdown-menu show position-absolute w-100 mt-1",style:{"max-height":"300px","overflow-y":"auto","z-index":"1050"},onMousedown:t[11]||(t[11]=(0,s.D$)(()=>{},["prevent"]))},[o.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("div",Tl,[t[31]||(t[31]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)(" Suggestions ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredSuggestions.slice(0,8),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`suggestion-${a}`,class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:o.selectedSuggestionIndex===a}]),onClick:(0,s.D$)(t=>o.selectSuggestion(e),["stop"]),onMousedown:t[9]||(t[9]=(0,s.D$)(()=>{},["prevent"]))},[(0,l.Lk)("i",{class:(0,n.C4)([o.getSuggestionIcon(e.type),"me-2"])},null,2),(0,l.Lk)("span",Rl,(0,n.v_)(e.text),1),(0,l.Lk)("small",Il,(0,n.v_)(e.type),1)],42,Al))),128))])):(0,l.Q3)("",!0),o.recentSearches.length>0?((0,l.uX)(),(0,l.CE)("div",Ml,[o.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("hr",Dl)):(0,l.Q3)("",!0),t[34]||(t[34]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-clock-history me-2"}),(0,l.eW)(" Recent Searches ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.recentSearches.slice(0,5),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`recent-${a}`,class:"dropdown-item d-flex align-items-center",onClick:(0,s.D$)(t=>o.selectRecentSearch(e),["stop"]),onMousedown:t[10]||(t[10]=(0,s.D$)(()=>{},["prevent"]))},[t[33]||(t[33]=(0,l.Lk)("i",{class:"bi bi-clock me-2"},null,-1)),(0,l.Lk)("span",Nl,(0,n.v_)(e.query),1),(0,l.Lk)("button",{class:"btn btn-sm btn-link text-muted p-0 ms-2",onClick:(0,s.D$)(e=>o.removeRecentSearch(a),["stop"]),title:"Remove"},[...t[32]||(t[32]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)])],8,_l)],40,Fl))),128))])):(0,l.Q3)("",!0),0===o.filteredSuggestions.length&&0===o.recentSearches.length?((0,l.uX)(),(0,l.CE)("div",Ul,[...t[35]||(t[35]=[(0,l.Lk)("div",{class:"dropdown-item-text text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" Suggestions dropdown is visible - Press Escape to close ")],-1)])])):(0,l.Q3)("",!0)],32)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Pl,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-secondary btn-sm",{active:o.showAdvancedFilters}]),onClick:t[12]||(t[12]=e=>o.showAdvancedFilters=!o.showAdvancedFilters)},[t[36]||(t[36]=(0,l.Lk)("i",{class:"bi bi-sliders me-2"},null,-1)),t[37]||(t[37]=(0,l.eW)(" Advanced Filters ",-1)),(0,l.Lk)("i",{class:(0,n.C4)([o.showAdvancedFilters?"bi bi-chevron-up":"bi bi-chevron-down","ms-2"])},null,2)],2)]),o.showAdvancedFilters?((0,l.uX)(),(0,l.CE)("div",Wl,[(0,l.Lk)("div",Xl,[(0,l.Lk)("div",Bl,[(0,l.Lk)("div",Kl,[(0,l.Lk)("div",Vl,[t[39]||(t[39]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.filters.state=e),class:"form-select"},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.availableStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,$l))),128))],512),[[s.u1,o.filters.state]])]),(0,l.Lk)("div",Ol,[t[40]||(t[40]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"City",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.filters.city=e),type:"text",class:"form-control",placeholder:"Enter city name"},null,512),[[s.Jo,o.filters.city]])]),(0,l.Lk)("div",Ql,[(0,l.Lk)("label",jl," Health Score: "+(0,n.v_)(o.filters.healthScoreMin)+"-"+(0,n.v_)(o.filters.healthScoreMax),1),(0,l.Lk)("div",Gl,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.filters.healthScoreMin=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,o.filters.healthScoreMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>o.filters.healthScoreMax=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,o.filters.healthScoreMax,void 0,{number:!0}]])])]),(0,l.Lk)("div",Jl,[t[42]||(t[42]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[17]||(t[17]=e=>o.filters.active=e),class:"form-select"},[...t[41]||(t[41]=[(0,l.Lk)("option",{value:""},"All Chapters",-1),(0,l.Lk)("option",{value:"true"},"Active Only",-1),(0,l.Lk)("option",{value:"false"},"Inactive Only",-1)])],512),[[s.u1,o.filters.active]])]),(0,l.Lk)("div",ql,[t[43]||(t[43]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Founded After",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.filters.foundedAfter=e),type:"date",class:"form-control"},null,512),[[s.Jo,o.filters.foundedAfter]])]),(0,l.Lk)("div",Hl,[(0,l.Lk)("label",Yl," Min Members: "+(0,n.v_)(o.filters.memberCountMin),1),(0,l.Lk)("div",zl,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>o.filters.memberCountMin=e),type:"range",class:"form-range flex-grow-1",min:"0",max:"500",step:"1",onInput:t[20]||(t[20]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,o.filters.memberCountMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>o.filters.memberCountMin=e),type:"number",class:"form-control",style:{width:"70px"},min:"0",max:"500",step:"1",onInput:t[22]||(t[22]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,o.filters.memberCountMin,void 0,{number:!0}]])])])]),(0,l.Lk)("div",Zl,[(0,l.Lk)("div",en,[(0,l.Lk)("div",tn,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[23]||(t[23]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-funnel me-1"},null,-1),(0,l.eW)(" Apply Filters ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[24]||(t[24]=(...e)=>o.clearAllFilters&&o.clearAllFilters(...e))},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-x-circle me-1"},null,-1),(0,l.eW)(" Clear All ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:t[25]||(t[25]=(...e)=>o.saveCurrentSearch&&o.saveCurrentSearch(...e))},[...t[46]||(t[46]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])])])])):(0,l.Q3)("",!0),o.hasActiveFilters?((0,l.uX)(),(0,l.CE)("div",an,[(0,l.Lk)("div",sn,[t[47]||(t[47]=(0,l.Lk)("span",{class:"text-muted fw-semibold"},"Active filters:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.activeFiltersList,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary d-flex align-items-center gap-1"},[(0,l.eW)((0,n.v_)(e.label)+" ",1),(0,l.Lk)("button",{class:"btn-close btn-close-white",style:{"font-size":"0.7em"},onClick:t=>o.removeFilter(e.key),title:`Remove ${e.label}`},null,8,ln)]))),128)),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[26]||(t[26]=(...e)=>o.clearAllFilters&&o.clearAllFilters(...e))}," Clear All ")])])):(0,l.Q3)("",!0),o.savedSearches.length>0?((0,l.uX)(),(0,l.CE)("div",nn,[t[50]||(t[50]=(0,l.Lk)("h6",{class:"fw-semibold mb-2"},[(0,l.Lk)("i",{class:"bi bi-bookmarks me-2"}),(0,l.eW)(" Saved Searches ")],-1)),(0,l.Lk)("div",on,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.savedSearches,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:`saved-${a}`,class:"d-flex align-items-center"},[(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-2 flex-grow-1",onClick:t=>o.loadSavedSearch(e),title:e.description},[t[48]||(t[48]=(0,l.Lk)("i",{class:"bi bi-bookmark"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.name),1)],8,rn),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm ms-1",style:{"font-size":"0.6em"},onClick:(0,s.D$)(e=>o.removeSavedSearch(a),["stop"]),title:"Remove saved search"},[...t[49]||(t[49]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)])],8,cn)]))),128))])])):(0,l.Q3)("",!0),t[51]||(t[51]=(0,l.Lk)("div",{class:"keyboard-shortcuts mt-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-keyboard me-1"}),(0,l.Lk)("strong",null,"Shortcuts:"),(0,l.Lk)("kbd",null,"Ctrl+K"),(0,l.eW)(" Focus search • "),(0,l.Lk)("kbd",null,"↑/↓"),(0,l.eW)(" Navigate suggestions • "),(0,l.Lk)("kbd",null,"Enter"),(0,l.eW)(" Select • "),(0,l.Lk)("kbd",null,"Esc"),(0,l.eW)(" Close ")])],-1))],544)}class un{async globalSearch(e,t={},a={}){try{const s=new URLSearchParams;e&&s.append("query",e),t.states?.length&&s.append("states",t.states.join(",")),t.statuses?.length&&s.append("statuses",t.statuses.join(",")),t.minMembers&&s.append("minMembers",t.minMembers),t.maxMembers&&s.append("maxMembers",t.maxMembers),t.minHealthScore&&s.append("minHealthScore",t.minHealthScore),t.maxHealthScore&&s.append("maxHealthScore",t.maxHealthScore),a.page&&s.append("page",a.page),a.size&&s.append("size",a.size);const l=await ha.A.get(`/search/global?${s.toString()}`);return l.data}catch(s){throw console.error("Error performing global search:",s),s}}async getRecommendations(e,t=5){try{const a=new URLSearchParams;e&&a.append("memberId",e),t&&a.append("limit",t);const s=await ha.A.get(`/search/recommendations?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting recommendations:",a),a}}async getSimilarChapters(e,t=5){try{const a=new URLSearchParams;t&&a.append("limit",t);const s=await ha.A.get(`/search/similar/${e}?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting similar chapters:",a),a}}async getSuggestions(e){try{const t=await ha.A.get(`/search/suggestions?partial=${encodeURIComponent(e)}`);return t.data}catch(t){throw console.error("Error getting search suggestions:",t),t}}async getTrendingChapters(e=10){try{const t=await ha.A.get(`/search/trending?limit=${e}`);return t.data}catch(t){throw console.error("Error getting trending chapters:",t),t}}async facetedSearch(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,a])=>{a&&t.append(e,a)});const a=await ha.A.get(`/search/faceted?${t.toString()}`);return a.data}catch(t){throw console.error("Error performing faceted search:",t),t}}async geographicSearch(e,t,a=50,s=10){try{const l=new URLSearchParams({latitude:e.toString(),longitude:t.toString(),radiusKm:a.toString(),limit:s.toString()}),n=await ha.A.get(`/search/geographic?${l.toString()}`);return n.data}catch(l){throw console.error("Error performing geographic search:",l),l}}async getSavedSearches(e){try{return[]}catch(t){throw console.error("Error getting saved searches:",t),t}}async saveSearch(e,t,a){try{return{success:!0,message:"Search saved successfully"}}catch(s){throw console.error("Error saving search:",s),s}}debounce(e,t){let a;return function(...s){const l=()=>{clearTimeout(a),e(...s)};clearTimeout(a),a=setTimeout(l,t)}}}var mn=new un,vn={name:"EnhancedSearch",props:{chapters:{type:Array,default:()=>[]},availableStates:{type:Array,default:()=>[]}},emits:["search","filter-change","search-results"],setup(e,{emit:t}){const a=(0,D.KR)(""),s=(0,D.KR)(!1),n=(0,D.KR)(!1),o=(0,D.KR)(-1),r=(0,D.KR)(null),i=(0,D.KR)(null),c=(0,D.KR)(!1),d=(0,D.KR)({state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""}),u=(0,D.KR)([]),m=(0,D.KR)([]),v=(0,D.KR)([]),b=(0,D.KR)([]),p=(0,D.KR)([]),h=(0,D.KR)(null),g=(0,D.KR)(null),k=(0,D.KR)(null);(0,l.sV)(()=>{console.log("🚀 EnhancedSearch component MOUNTED successfully"),L(),q(),y(),w(),C(),console.log("✅ Enhanced Search component setup complete - ESC key handling initialized")}),(0,l.hi)(()=>{H(),console.log("Enhanced Search component unmounted")});const y=()=>{g.value=mn.debounce(E,500),k.value=mn.debounce(f,300)},L=()=>{const e=localStorage.getItem("recentSearches"),t=localStorage.getItem("savedSearches");e&&(u.value=JSON.parse(e)),t&&(m.value=JSON.parse(t))},f=async()=>{if(a.value.length<2)v.value=[];else try{const e=await mn.getSuggestions(a.value);v.value=e.map(e=>({type:"smart",text:e,value:e}))}catch(e){console.error("Error fetching smart suggestions:",e),v.value=[]}},w=async()=>{try{b.value=await mn.getRecommendations(null,3)}catch(e){console.error("Error loading recommendations:",e)}},C=async()=>{try{p.value=await mn.getTrendingChapters(5)}catch(e){console.error("Error loading trending chapters:",e)}},E=async()=>{if(!a.value.trim()&&!A.value)return h.value=null,void t("search-results",null);c.value=!0;try{const e={states:d.value.state?[d.value.state]:[],statuses:d.value.active?["true"===d.value.active?"Active":"Inactive"]:[],minMembers:d.value.memberCountMin>0?d.value.memberCountMin:null,maxMembers:null,minHealthScore:d.value.healthScoreMin>0?d.value.healthScoreMin:null,maxHealthScore:d.value.healthScoreMax<100?d.value.healthScoreMax:null},s=await mn.globalSearch(a.value.trim(),e,{page:0,size:20});h.value=s,t("search-results",s),t("search",{query:a.value,...d.value,results:s})}catch(e){console.error("Error performing backend search:",e),S()}finally{c.value=!1}},S=()=>{const e={query:a.value,...d.value};a.value&&O(a.value),t("search",e)},x=(0,l.EW)(()=>{if(!a.value||a.value.length<2)return v.value;const t=a.value.toLowerCase(),s=[];e.chapters.forEach(e=>{e.name.toLowerCase().includes(t)&&s.push({type:"chapter",text:e.name,value:e.name})});const l=[...new Set(e.chapters.map(e=>e.universityName))];l.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"university",text:e,value:e})}),e.availableStates.forEach(e=>{e.toLowerCase().includes(t)&&s.push({type:"state",text:e,value:e})});const n=[...new Set(e.chapters.map(e=>e.city))];n.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"city",text:e,value:e})});const o=[...v.value,...s],r=o.filter((e,t,a)=>t===a.findIndex(t=>t.text===e.text));return r.slice(0,12)}),T=e=>{const t={chapter:"bi bi-building",university:"bi bi-mortarboard",state:"bi bi-geo-alt",city:"bi bi-geo",smart:"bi bi-lightbulb"};return t[e]||"bi bi-search"},A=(0,l.EW)(()=>a.value||d.value.state||d.value.city||d.value.healthScoreMin>0||d.value.healthScoreMax<100||d.value.memberCountMin>0||d.value.active||d.value.foundedAfter),R=(0,l.EW)(()=>{const e=[];return a.value&&e.push({key:"search",label:`Search: "${a.value}"`}),d.value.state&&e.push({key:"state",label:`State: ${d.value.state}`}),d.value.city&&e.push({key:"city",label:`City: ${d.value.city}`}),(d.value.healthScoreMin>0||d.value.healthScoreMax<100)&&e.push({key:"healthScore",label:`Health: ${d.value.healthScoreMin}-${d.value.healthScoreMax}`}),d.value.memberCountMin>0&&e.push({key:"memberCount",label:`Min Members: ${d.value.memberCountMin}`}),d.value.active&&e.push({key:"active",label:"Status: "+("true"===d.value.active?"Active":"Inactive")}),d.value.foundedAfter&&e.push({key:"foundedAfter",label:`Founded after: ${d.value.foundedAfter}`}),e}),I=()=>{o.value=-1,k.value&&k.value(),g.value&&g.value()},M=e=>{if(console.log("🔥 KEYDOWN EVENT FIRED:",e.key,"showSuggestions:",s.value),s.value&&console.log("INPUT handleKeydown:",e.key,"code:",e.code),"Escape"===e.key)return console.log("🚨 ESCAPE KEY DETECTED in handleKeydown!"),e.preventDefault(),e.stopPropagation(),void F();if(!s.value)return;const t=x.value.length+u.value.length;switch(e.key){case"ArrowDown":console.log("Arrow down pressed"),e.preventDefault(),o.value=Math.min(o.value+1,t-1);break;case"ArrowUp":console.log("Arrow up pressed"),e.preventDefault(),o.value=Math.max(o.value-1,-1);break;case"Enter":if(console.log("Enter pressed"),e.preventDefault(),o.value>=0)if(o.value<x.value.length)U(x.value[o.value]);else{const e=o.value-x.value.length;P(u.value[e])}break}},F=()=>{console.log("🎯 CLOSING SUGGESTIONS - showSuggestions was:",s.value),s.value=!1,o.value=-1,console.log("🎯 CLOSED SUGGESTIONS - showSuggestions now:",s.value)},N=e=>{},_=e=>{console.log("Container keydown:",e.key,"showSuggestions:",s.value),"Escape"===e.key&&s.value&&(console.log("CONTAINER: Escape key detected as backup!"),e.preventDefault(),e.stopPropagation(),F())},U=e=>{a.value=e.text,F(),O(e.text),E(),(0,l.dY)(()=>{r.value&&r.value.focus()})},P=e=>{a.value=e.query,F(),E(),(0,l.dY)(()=>{r.value&&r.value.focus()})},W=()=>{console.log("⏰ HIDING SUGGESTIONS IN 100ms..."),setTimeout(()=>{console.log("💤 TIMEOUT EXECUTED - calling closeSuggestions()"),F()},100)},X=()=>{F()},B=()=>{a.value="",E()},K=()=>{E(),t("filter-change",d.value)},V=()=>{a.value="",d.value={state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""},E()},$=e=>{switch(e){case"search":a.value="";break;case"state":d.value.state="";break;case"city":d.value.city="";break;case"healthScore":d.value.healthScoreMin=0,d.value.healthScoreMax=100;break;case"memberCount":d.value.memberCountMin=0;break;case"active":d.value.active="";break;case"foundedAfter":d.value.foundedAfter="";break}E()},O=e=>{if(!e.trim())return;const t=u.value.findIndex(t=>t.query===e);t>=0&&u.value.splice(t,1),u.value.unshift({query:e,timestamp:Date.now()}),u.value=u.value.slice(0,10),localStorage.setItem("recentSearches",JSON.stringify(u.value))},Q=e=>{u.value.splice(e,1),localStorage.setItem("recentSearches",JSON.stringify(u.value))},j=async()=>{if(!A.value)return void alert("No active filters to save!");const e=prompt("Enter a name for this search:");if(e)try{const t={query:a.value,filters:d.value};await mn.saveSearch(null,e,t);const s={name:e,query:a.value,filters:{...d.value},timestamp:Date.now(),description:R.value.map(e=>e.label).join(", ")};m.value.push(s),localStorage.setItem("savedSearches",JSON.stringify(m.value))}catch(t){console.error("Error saving search:",t),alert("Failed to save search. Please try again.")}},G=e=>{a.value=e.query,d.value={...e.filters},E()},J=e=>{m.value.splice(e,1),localStorage.setItem("savedSearches",JSON.stringify(m.value))},q=()=>{document.addEventListener("keydown",Y)},H=()=>{document.removeEventListener("keydown",Y)},Y=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),r.value?.focus()),"Escape"===e.key&&s.value&&(console.log("Global Escape detected as final backup, showSuggestions:",s.value),setTimeout(()=>{s.value&&(console.log("Global Escape executing closure after timeout"),F())},0))};return(0,l.wB)(d,()=>{A.value&&g.value&&g.value()},{deep:!0}),{searchQuery:a,showSuggestions:s,showAdvancedFilters:n,selectedSuggestionIndex:o,searchInput:r,searchContainer:i,isSearching:c,filters:d,recentSearches:u,savedSearches:m,smartSuggestions:v,recommendations:b,trendingChapters:p,searchResults:h,filteredSuggestions:x,hasActiveFilters:A,activeFiltersList:R,getSuggestionIcon:T,handleSearchInput:I,handleKeydown:M,handleKeyup:N,containerKeydown:_,closeSuggestions:F,selectSuggestion:U,selectRecentSearch:P,hideSuggestionsDelayed:W,hideSuggestionsImmediately:X,clearSearch:B,applyFilters:K,clearAllFilters:V,removeFilter:$,removeRecentSearch:Q,saveCurrentSearch:j,loadSavedSearch:G,removeSavedSearch:J,performBackendSearch:E,loadRecommendations:w,loadTrendingChapters:C}}};const bn=(0,P.A)(vn,[["render",dn],["__scopeId","data-v-6d3d1732"]]);var pn=bn,hn={name:"Chapters",components:{EnhancedSearch:pn},setup(){const e=(0,D.KR)([]),t=(0,D.KR)([]),a=(0,D.KR)([]),s=(0,D.KR)(!0),n=(0,D.KR)(null),o=(0,D.KR)(""),r=(0,D.KR)(""),i=(0,D.KR)(""),c=(0,D.KR)("table"),d=(0,D.KR)(null),u=(0,D.KR)(1),m=(0,D.KR)(10),v=(0,D.KR)("name"),b=(0,D.KR)("asc"),p=(0,D.KR)(!1),h=(0,D.KR)(!1),g=(0,D.KR)([]),k=(0,D.KR)("existing"),y=(0,D.KR)({name:"",description:"",institutionId:null}),L=(0,D.KR)({institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""}),f=(0,D.KR)(["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]),w=(0,l.EW)(()=>{const t=[...new Set(e.value.map(e=>e.state).filter(Boolean))];return t.sort()}),C=(0,l.EW)(()=>a.value.filter(e=>"Active"===e.status).length),E=(0,l.EW)(()=>{if(0===a.value.length)return 0;const e=a.value.reduce((e,t)=>e+(t.healthScore||0),0);return Math.round(e/a.value.length)}),S=(0,l.EW)(()=>{const e=(u.value-1)*m.value,t=e+m.value;return a.value.slice(e,t)}),x=(0,l.EW)(()=>Math.ceil(a.value.length/m.value)),T=async()=>{try{s.value=!0,n.value=null,console.log("Loading chapters from chapter service...");const l=await fl.getAllChapters();console.log("Chapters response:",l);let o=l;l&&l.data&&Array.isArray(l.data)?o=l.data:Array.isArray(l)?o=l:(console.warn("Unexpected response format:",l),o=[]),e.value=o,t.value=[...o],console.log(`Loaded ${e.value.length} chapters`),t.value=[...e.value],a.value=[...e.value],console.log(`Successfully loaded ${e.value.length} chapters`)}catch(l){console.error("Error loading chapters:",l),n.value="Failed to load chapters. Please try again.",e.value=[],t.value=[],a.value=[]}finally{s.value=!1}},A=()=>{let t=[...e.value];if(o.value){const e=o.value.toLowerCase();t=t.filter(t=>t.name?.toLowerCase().includes(e)||t.university?.toLowerCase().includes(e)||t.city?.toLowerCase().includes(e)||t.state?.toLowerCase().includes(e))}r.value&&(t=t.filter(e=>e.state===r.value)),i.value&&(t=t.filter(e=>e.status===i.value)),t.sort((e,t)=>{let a=e[v.value],s=t[v.value];return null==a&&(a=""),null==s&&(s=""),"string"===typeof a?(a=a.toLowerCase(),s=String(s).toLowerCase(),"asc"===b.value?a.localeCompare(s):s.localeCompare(a)):"asc"===b.value?a-s:s-a}),a.value=t,u.value=1},R=e=>{v.value===e?b.value="asc"===b.value?"desc":"asc":(v.value=e,b.value="asc"),A()},I=e=>v.value!==e?"bi-chevron-expand":"asc"===b.value?"bi-chevron-up":"bi-chevron-down",M=()=>{c.value="table"===c.value?"cards":"table"},F=e=>e?e>=80?"health-excellent":e>=60?"health-good":e>=40?"health-fair":"health-poor":"health-poor",N=()=>{const e=[],t=5,a=Math.max(1,u.value-Math.floor(t/2)),s=Math.min(x.value,a+t-1);for(let l=a;l<=s;l++)e.push(l);return e},_=()=>{const e=["Name","University","City","State","Status","Members","Health Score"],t=[e.join(","),...a.value.map(e=>[`"${e.name||""}"`,`"${e.university||""}"`,`"${e.city||""}"`,`"${e.state||""}"`,`"${e.status||""}"`,e.memberCount||0,e.healthScore||0].join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),l=URL.createObjectURL(s),n=document.createElement("a");n.href=l,n.download=`chapters_${(new Date).toISOString().split("T")[0]}.csv`,n.click(),URL.revokeObjectURL(l)},U=e=>{console.log("View chapter:",e)},P=e=>{console.log("Edit chapter:",e)},W=e=>{console.log("Delete chapter:",e)},X=e=>{if(console.log("Search triggered:",e),d.value&&d.value.chapters)return a.value=d.value.chapters,void(u.value=1);o.value=e.query||"",r.value=e.state||"",i.value="true"===e.active?"Active":"false"===e.active?"Inactive":"",A()},B=t=>{console.log("Search results received:",t),d.value=t,t&&t.chapters?(a.value=t.chapters,u.value=1):a.value=[...e.value]},K=e=>{console.log("Filters changed:",e)},V=async()=>{try{const e=await fl.getAllInstitutions();g.value=e||[]}catch(n){console.error("Error loading institutions:",n),g.value=[]}},$=()=>{y.value={name:"",description:"",institutionId:null},L.value={institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""},k.value="existing",p.value=!0,V()},O=()=>{p.value=!1,h.value=!1},Q=async()=>{try{h.value=!0;const e={name:y.value.name,description:y.value.description};if("existing"===k.value){if(!y.value.institutionId)return void alert("Please select an institution");e.institutionId=y.value.institutionId}else{if(!L.value.name||!L.value.state||!L.value.city)return void alert("Please fill in all required institution fields");e.newInstitution={...L.value}}await fl.createChapterWithInstitution(e);await T(),O(),alert("Chapter created successfully!")}catch(n){let t="Error creating chapter. Please try again.";n.response&&400===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error.includes("Institution with this name already exists")?"An institution with this name already exists. Please choose a different name or select an existing institution.":n.response.data.error:"Invalid request. Please check all required fields are filled correctly.",console.info("Chapter creation validation error:",n.response.data?.error||"Bad request")):n.response&&500===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error:"Server error occurred. Please try again later.",console.error("Server error creating chapter:",n)):"NETWORK_ERROR"!==n.code&&n.response?console.error("Unexpected error creating chapter:",n):(t="Network error. Please check your connection and try again.",console.error("Network error creating chapter:",n)),alert(t)}finally{h.value=!1}};return(0,l.wB)([v,b],()=>{A()}),(0,l.sV)(()=>{T()}),{chapters:e,allChapters:t,filteredChapters:a,loading:s,error:n,searchQuery:o,selectedState:r,selectedStatus:i,currentView:c,currentPage:u,itemsPerPage:m,sortField:v,sortDirection:b,searchResults:d,availableStates:w,activeChapters:C,averageHealth:E,paginatedChapters:S,totalPages:x,loadChapters:T,applyFilters:A,sortBy:R,getSortIcon:I,toggleView:M,getHealthClass:F,getVisiblePages:N,exportToCSV:_,viewChapter:U,editChapter:P,deleteChapter:W,handleSearch:X,handleSearchResults:B,handleFilterChange:K,showAddModal:p,saving:h,institutions:g,institutionOption:k,chapterForm:y,newInstitution:L,usStates:f,openAddModal:$,closeModal:O,saveChapter:Q}}};const gn=(0,P.A)(hn,[["render",kl],["__scopeId","data-v-a5ecd2c8"]]);var kn=gn;const yn={class:"members"},Ln={class:"container"},fn={class:"row mb-4"},wn={class:"col-md-6"},Cn={class:"col-md-6"},En={class:"row mb-4"},Sn={class:"col-md-4"},xn=["value"],Tn={class:"col-md-4"},An={class:"col-md-4"},Rn={key:1,class:"card"},In={class:"card-body p-0"},Mn={key:2,class:"card"},Dn={class:"card-header bg-light"},Fn={class:"card-title mb-0"},Nn={class:"card-body p-0"},_n={key:0,class:"text-center py-4 text-muted"},Un={key:1,class:"table-responsive"},Pn={class:"table table-hover mb-0"},Wn={key:1,class:"text-muted"},Xn={class:"btn-group",role:"group"},Bn=["onClick"],Kn=["onClick"],Vn={class:"modal-dialog modal-lg"},$n={class:"modal-content"},On={class:"modal-header"},Qn={class:"modal-title"},jn={class:"modal-body"},Gn={class:"row"},Jn={class:"col-md-6 mb-3"},qn={class:"col-md-6 mb-3"},Hn={class:"mb-3"},Yn={class:"mb-3"},zn={class:"row"},Zn={class:"col-md-6 mb-3"},eo=["value"],to={class:"col-md-6 mb-3"},ao={class:"row"},so={class:"col-md-6 mb-3"},lo={class:"col-md-6 mb-3"},no={class:"modal-footer"},oo=["disabled"],ro={key:0,class:"spinner-border spinner-border-sm me-2"},io={class:"modal-dialog"},co={class:"modal-content"},uo={class:"modal-header"},mo={class:"modal-body"},vo={class:"modal-footer"};function bo(e,t,a,o,r,i){const c=(0,l.g2)("AdvancedSearchPanel"),d=(0,l.g2)("SkeletonLoader"),u=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",yn,[(0,l.Lk)("div",Ln,[t[33]||(t[33]=(0,l.Fv)('<div class="row mb-4" data-v-59e7922b><div class="col" data-v-59e7922b><h1 class="display-4 text-center mb-3" data-v-59e7922b><i class="bi bi-people-fill text-success me-3" data-v-59e7922b></i> Members </h1><p class="lead text-center text-muted" data-v-59e7922b> Manage chapter members and their roles </p></div></div>',1)),(0,l.Lk)("div",fn,[(0,l.Lk)("div",wn,[(0,l.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=e=>r.showCreateModal=!0)},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,l.eW)(" Add New Member ",-1)])])]),(0,l.Lk)("div",Cn,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:t[1]||(t[1]=e=>r.showAdvancedSearch=!r.showAdvancedSearch)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-funnel me-2"},null,-1),(0,l.eW)(" Advanced Search ",-1)])])])]),r.showAdvancedSearch?((0,l.uX)(),(0,l.Wv)(c,{key:0,"search-categories":r.memberSearchCategories,onSearch:i.handleAdvancedSearch,onClose:t[2]||(t[2]=e=>r.showAdvancedSearch=!1)},null,8,["search-categories","onSearch"])):(0,l.Q3)("",!0),(0,l.Lk)("div",En,[(0,l.Lk)("div",Sn,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedChapter=e)},[t[24]||(t[24]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,xn))),128))],512),[[s.u1,r.selectedChapter]])]),(0,l.Lk)("div",Tn,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedRole=e)},[...t[25]||(t[25]=[(0,l.Fv)('<option value="" data-v-59e7922b>All Roles</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,r.selectedRole]])]),(0,l.Lk)("div",An,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>r.selectedStatus=e)},[...t[26]||(t[26]=[(0,l.Lk)("option",{value:""},"All Status",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],512),[[s.u1,r.selectedStatus]])])]),r.loading?((0,l.uX)(),(0,l.CE)("div",Rn,[t[27]||(t[27]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-table me-2"}),(0,l.eW)(" Loading Members... ")])],-1)),(0,l.Lk)("div",In,[(0,l.bF)(d,{type:"table",rows:5})])])):((0,l.uX)(),(0,l.CE)("div",Mn,[(0,l.Lk)("div",Dn,[(0,l.Lk)("h5",Fn,[t[28]||(t[28]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(i.filteredMembers.length)+") ",1)])]),(0,l.Lk)("div",Nn,[0===i.filteredMembers.length?((0,l.uX)(),(0,l.CE)("div",_n,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",Un,[(0,l.Lk)("table",Pn,[t[32]||(t[32]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.filteredMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,[e.chapterId?((0,l.uX)(),(0,l.Wv)(u,{key:0,to:`/chapters/${e.chapterId}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapterName||"Unknown Chapter"),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",Wn,"No Chapter"))]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getRoleBadgeClass(e.role)])},(0,n.v_)(i.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(i.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Xn,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>i.editMember(e)},[...t[30]||(t[30]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,Bn),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>i.confirmDelete(e)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,Kn)])])]))),128))])])]))])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:r.showCreateModal||r.showEditModal}]),style:(0,n.Tr)({display:r.showCreateModal||r.showEditModal?"block":"none"})},[(0,l.Lk)("div",Vn,[(0,l.Lk)("div",$n,[(0,l.Lk)("div",On,[(0,l.Lk)("h5",Qn,(0,n.v_)(r.showEditModal?"Edit Member":"Add New Member"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=(...e)=>i.closeModal&&i.closeModal(...e))})]),(0,l.Lk)("div",jn,[(0,l.Lk)("form",{onSubmit:t[15]||(t[15]=(0,s.D$)((...e)=>i.saveMember&&i.saveMember(...e),["prevent"]))},[(0,l.Lk)("div",Gn,[(0,l.Lk)("div",Jn,[t[34]||(t[34]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"firstName","onUpdate:modelValue":t[7]||(t[7]=e=>r.memberForm.firstName=e),required:""},null,512),[[s.Jo,r.memberForm.firstName]])]),(0,l.Lk)("div",qn,[t[35]||(t[35]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"lastName","onUpdate:modelValue":t[8]||(t[8]=e=>r.memberForm.lastName=e),required:""},null,512),[[s.Jo,r.memberForm.lastName]])])]),(0,l.Lk)("div",Hn,[t[36]||(t[36]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[9]||(t[9]=e=>r.memberForm.email=e),required:""},null,512),[[s.Jo,r.memberForm.email]])]),(0,l.Lk)("div",Yn,[t[37]||(t[37]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[10]||(t[10]=e=>r.memberForm.phoneNumber=e)},null,512),[[s.Jo,r.memberForm.phoneNumber]])]),(0,l.Lk)("div",zn,[(0,l.Lk)("div",Zn,[t[39]||(t[39]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[11]||(t[11]=e=>r.memberForm.chapterId=e),required:""},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,eo))),128))],512),[[s.u1,r.memberForm.chapterId]])]),(0,l.Lk)("div",to,[t[41]||(t[41]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Role *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"role","onUpdate:modelValue":t[12]||(t[12]=e=>r.memberForm.role=e),required:""},[...t[40]||(t[40]=[(0,l.Fv)('<option value="" data-v-59e7922b>Select Role</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,r.memberForm.role]])])]),(0,l.Lk)("div",ao,[(0,l.Lk)("div",so,[t[42]||(t[42]=(0,l.Lk)("label",{for:"joinDate",class:"form-label"},"Join Date *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control",id:"joinDate","onUpdate:modelValue":t[13]||(t[13]=e=>r.memberForm.joinDate=e),required:""},null,512),[[s.Jo,r.memberForm.joinDate]])]),(0,l.Lk)("div",lo,[t[44]||(t[44]=(0,l.Lk)("label",{for:"active",class:"form-label"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"active","onUpdate:modelValue":t[14]||(t[14]=e=>r.memberForm.active=e)},[...t[43]||(t[43]=[(0,l.Lk)("option",{value:!0},"Active",-1),(0,l.Lk)("option",{value:!1},"Inactive",-1)])],512),[[s.u1,r.memberForm.active]])])])],32)]),(0,l.Lk)("div",no,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[16]||(t[16]=(...e)=>i.closeModal&&i.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[17]||(t[17]=(...e)=>i.saveMember&&i.saveMember(...e)),disabled:r.saving},[r.saving?((0,l.uX)(),(0,l.CE)("span",ro)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(r.showEditModal?"Update Member":"Add Member"),1)],8,oo)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:r.showDeleteModal}]),style:(0,n.Tr)({display:r.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",io,[(0,l.Lk)("div",co,[(0,l.Lk)("div",uo,[t[45]||(t[45]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[18]||(t[18]=e=>r.showDeleteModal=!1)})]),(0,l.Lk)("div",mo,[(0,l.Lk)("p",null,[t[46]||(t[46]=(0,l.eW)("Are you sure you want to delete member ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(r.memberToDelete?.firstName)+" "+(0,n.v_)(r.memberToDelete?.lastName),1),t[47]||(t[47]=(0,l.eW)("?",-1))]),t[48]||(t[48]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",vo,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[19]||(t[19]=e=>r.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[20]||(t[20]=(...e)=>i.deleteMember&&i.deleteMember(...e))}," Delete Member ")])])])],6),r.showCreateModal||r.showEditModal||r.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[21]||(t[21]=(...e)=>i.closeModal&&i.closeModal(...e))})):(0,l.Q3)("",!0)])}const po={class:"advanced-search-panel"},ho={class:"search-header"},go={class:"d-flex justify-content-between align-items-center mb-3"},ko=["disabled"],yo={class:"search-input-wrapper mb-4"},Lo={class:"input-group input-group-lg"},fo={key:0,class:"suggestions-dropdown"},wo=["onClick","onMouseenter"],Co={class:"suggestion-text"},Eo={class:"suggestion-category"},So={class:"filter-tabs mb-4"},xo={class:"nav nav-pills nav-fill",role:"tablist"},To={class:"nav-item",role:"presentation"},Ao={key:0,class:"badge bg-primary ms-2"},Ro={class:"nav-item",role:"presentation"},Io={key:0,class:"badge bg-primary ms-2"},Mo={class:"nav-item",role:"presentation"},Do={key:0,class:"badge bg-primary ms-2"},Fo={class:"filter-section"},No={class:"row g-3"},_o={class:"col-md-4"},Uo={class:"col-md-4"},Po=["value"],Wo={class:"col-md-4"},Xo={class:"col-md-6"},Bo={class:"input-group"},Ko={class:"col-md-6"},Vo={class:"tag-input-container"},$o={class:"selected-tags"},Oo=["onClick"],Qo={class:"filter-section"},jo={class:"row g-3"},Go={class:"col-md-3"},Jo={class:"col-md-3"},qo={class:"col-md-6"},Ho={class:"input-group"},Yo={class:"col-md-6"},zo={class:"range-slider"},Zo={class:"range-labels d-flex justify-content-between"},er={class:"col-md-6"},tr=["value"],ar={class:"filter-section"},sr={class:"row g-3"},lr={class:"col-md-4"},nr={class:"col-md-4"},or=["value"],rr={class:"col-md-4"},ir={class:"range-slider"},cr={class:"range-labels d-flex justify-content-between"},dr={class:"col-12"},ur={class:"active-filters"},mr=["onClick"],vr={key:0,class:"text-muted"},br={key:0,class:"search-results-summary mt-4 p-3 bg-light rounded"},pr={class:"d-flex justify-content-between align-items-center"},hr={key:0,class:"text-muted"},gr={class:"search-actions"};function kr(e,t,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",po,[(0,l.Lk)("div",ho,[(0,l.Lk)("div",go,[t[40]||(t[40]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-funnel me-2"}),(0,l.eW)(" Advanced Search & Filters ")],-1)),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[0]||(t[0]=(...e)=>o.resetFilters&&o.resetFilters(...e)),disabled:!o.hasActiveFilters},[...t[39]||(t[39]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Reset ",-1)])],8,ko)])]),(0,l.Lk)("div",yo,[(0,l.Lk)("div",Lo,[t[42]||(t[42]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"mainSearchInput",type:"text",class:"form-control",placeholder:"Search across all content...","onUpdate:modelValue":t[1]||(t[1]=e=>o.searchQuery=e),onInput:t[2]||(t[2]=(...e)=>o.performSearch&&o.performSearch(...e)),onKeyup:t[3]||(t[3]=(0,s.jR)((...e)=>o.performSearch&&o.performSearch(...e),["enter"]))},null,544),[[s.Jo,o.searchQuery]]),o.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[4]||(t[4]=(...e)=>o.clearMainSearch&&o.clearMainSearch(...e))},[...t[41]||(t[41]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0)]),o.showSuggestions&&o.suggestions.length?((0,l.uX)(),(0,l.CE)("div",fo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.suggestions,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["suggestion-item",{active:o.selectedSuggestionIndex===t}]),onClick:t=>o.selectSuggestion(e),onMouseenter:e=>o.selectedSuggestionIndex=t},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2),(0,l.Lk)("span",Co,(0,n.v_)(e.text),1),(0,l.Lk)("span",Eo,(0,n.v_)(e.category),1)],42,wo))),128))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",So,[(0,l.Lk)("ul",xo,[(0,l.Lk)("li",To,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"members"===o.activeTab}]),onClick:t[5]||(t[5]=e=>o.activeTab="members"),type:"button"},[t[43]||(t[43]=(0,l.Lk)("i",{class:"bi bi-people me-2"},null,-1)),t[44]||(t[44]=(0,l.eW)(" Members ",-1)),o.memberFilters.active?((0,l.uX)(),(0,l.CE)("span",Ao,(0,n.v_)(o.memberFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Ro,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"events"===o.activeTab}]),onClick:t[6]||(t[6]=e=>o.activeTab="events"),type:"button"},[t[45]||(t[45]=(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),t[46]||(t[46]=(0,l.eW)(" Events ",-1)),o.eventFilters.active?((0,l.uX)(),(0,l.CE)("span",Io,(0,n.v_)(o.eventFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Mo,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"chapters"===o.activeTab}]),onClick:t[7]||(t[7]=e=>o.activeTab="chapters"),type:"button"},[t[47]||(t[47]=(0,l.Lk)("i",{class:"bi bi-building me-2"},null,-1)),t[48]||(t[48]=(0,l.eW)(" Chapters ",-1)),o.chapterFilters.active?((0,l.uX)(),(0,l.CE)("span",Do,(0,n.v_)(o.chapterFilters.count),1)):(0,l.Q3)("",!0)],2)])])]),(0,l.bo)((0,l.Lk)("div",Fo,[(0,l.Lk)("div",No,[(0,l.Lk)("div",_o,[t[50]||(t[50]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Role",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>o.memberFilters.role=e),onChange:t[9]||(t[9]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[49]||(t[49]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Roles</option><option value="PRESIDENT" data-v-3500c3e8>President</option><option value="VICE_PRESIDENT" data-v-3500c3e8>Vice President</option><option value="SECRETARY" data-v-3500c3e8>Secretary</option><option value="TREASURER" data-v-3500c3e8>Treasurer</option><option value="MEMBER" data-v-3500c3e8>Member</option>',6)])],544),[[s.u1,o.memberFilters.role]])]),(0,l.Lk)("div",Uo,[t[52]||(t[52]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=e=>o.memberFilters.chapter=e),onChange:t[11]||(t[11]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[51]||(t[51]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Po))),128))],544),[[s.u1,o.memberFilters.chapter]])]),(0,l.Lk)("div",Wo,[t[54]||(t[54]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>o.memberFilters.active=e),onChange:t[13]||(t[13]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[53]||(t[53]=[(0,l.Lk)("option",{value:""},"All",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],544),[[s.u1,o.memberFilters.active]])]),(0,l.Lk)("div",Xo,[t[56]||(t[56]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Join Date Range",-1)),(0,l.Lk)("div",Bo,[(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>o.memberFilters.joinDateFrom=e),onChange:t[15]||(t[15]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.memberFilters.joinDateFrom]]),t[55]||(t[55]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>o.memberFilters.joinDateTo=e),onChange:t[17]||(t[17]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.memberFilters.joinDateTo]])])]),(0,l.Lk)("div",Ko,[t[57]||(t[57]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Tags",-1)),(0,l.Lk)("div",Vo,[(0,l.Lk)("div",$o,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.memberFilters.tags,e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"badge bg-secondary me-1 mb-1"},[(0,l.eW)((0,n.v_)(e)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>o.removeTag("member",e),style:{"font-size":"0.6rem"}},null,8,Oo)]))),128))]),(0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Add tags...",onKeyup:t[18]||(t[18]=(0,s.jR)(e=>{o.addTag("member",e.target.value),e.target.value=""},["enter"]))},null,32)])])])],512),[[s.aG,"members"===o.activeTab]]),(0,l.bo)((0,l.Lk)("div",Qo,[(0,l.Lk)("div",jo,[(0,l.Lk)("div",Go,[t[59]||(t[59]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Event Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=e=>o.eventFilters.type=e),onChange:t[20]||(t[20]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[58]||(t[58]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Types</option><option value="MEETING" data-v-3500c3e8>Meeting</option><option value="SOCIAL" data-v-3500c3e8>Social</option><option value="COMMUNITY_SERVICE" data-v-3500c3e8>Community Service</option><option value="FUNDRAISER" data-v-3500c3e8>Fundraiser</option><option value="WORKSHOP" data-v-3500c3e8>Workshop</option>',6)])],544),[[s.u1,o.eventFilters.type]])]),(0,l.Lk)("div",Jo,[t[61]||(t[61]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[21]||(t[21]=e=>o.eventFilters.status=e),onChange:t[22]||(t[22]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[60]||(t[60]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Status</option><option value="UPCOMING" data-v-3500c3e8>Upcoming</option><option value="ONGOING" data-v-3500c3e8>Ongoing</option><option value="COMPLETED" data-v-3500c3e8>Completed</option><option value="CANCELLED" data-v-3500c3e8>Cancelled</option>',5)])],544),[[s.u1,o.eventFilters.status]])]),(0,l.Lk)("div",qo,[t[63]||(t[63]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Date Range",-1)),(0,l.Lk)("div",Ho,[(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=e=>o.eventFilters.dateFrom=e),onChange:t[24]||(t[24]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.dateFrom]]),t[62]||(t[62]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[25]||(t[25]=e=>o.eventFilters.dateTo=e),onChange:t[26]||(t[26]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.dateTo]])])]),(0,l.Lk)("div",Yo,[t[65]||(t[65]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Attendance Range",-1)),(0,l.Lk)("div",zo,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[27]||(t[27]=e=>o.eventFilters.minAttendance=e),min:0,max:500,onInput:t[28]||(t[28]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.minAttendance]]),(0,l.Lk)("div",Zo,[(0,l.Lk)("small",null,(0,n.v_)(o.eventFilters.minAttendance)+"+",1),t[64]||(t[64]=(0,l.Lk)("small",null,"500",-1))])])]),(0,l.Lk)("div",er,[t[67]||(t[67]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[29]||(t[29]=e=>o.eventFilters.chapter=e),onChange:t[30]||(t[30]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[66]||(t[66]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,tr))),128))],544),[[s.u1,o.eventFilters.chapter]])])])],512),[[s.aG,"events"===o.activeTab]]),(0,l.bo)((0,l.Lk)("div",ar,[(0,l.Lk)("div",sr,[(0,l.Lk)("div",lr,[t[69]||(t[69]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Institution Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[31]||(t[31]=e=>o.chapterFilters.institutionType=e),onChange:t[32]||(t[32]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[68]||(t[68]=[(0,l.Lk)("option",{value:""},"All Types",-1),(0,l.Lk)("option",{value:"UNIVERSITY"},"University",-1),(0,l.Lk)("option",{value:"CHURCH"},"Church",-1),(0,l.Lk)("option",{value:"COMMUNITY"},"Community",-1)])],544),[[s.u1,o.chapterFilters.institutionType]])]),(0,l.Lk)("div",nr,[t[71]||(t[71]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[33]||(t[33]=e=>o.chapterFilters.state=e),onChange:t[34]||(t[34]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[70]||(t[70]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,or))),128))],544),[[s.u1,o.chapterFilters.state]])]),(0,l.Lk)("div",rr,[t[73]||(t[73]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Member Count Range",-1)),(0,l.Lk)("div",ir,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[35]||(t[35]=e=>o.chapterFilters.minMembers=e),min:0,max:200,onInput:t[36]||(t[36]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.chapterFilters.minMembers]]),(0,l.Lk)("div",cr,[(0,l.Lk)("small",null,(0,n.v_)(o.chapterFilters.minMembers)+"+",1),t[72]||(t[72]=(0,l.Lk)("small",null,"200",-1))])])]),(0,l.Lk)("div",dr,[t[74]||(t[74]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Active Filters",-1)),(0,l.Lk)("div",ur,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.activeFilters,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary me-2 mb-2"},[(0,l.eW)((0,n.v_)(e.label)+": "+(0,n.v_)(e.value)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>o.removeFilter(e.key),style:{"font-size":"0.6rem"}},null,8,mr)]))),128)),o.activeFilters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",vr,"No active filters"))])])])],512),[[s.aG,"chapters"===o.activeTab]]),o.searchResults.length||o.searchQuery?((0,l.uX)(),(0,l.CE)("div",br,[(0,l.Lk)("div",pr,[(0,l.Lk)("div",null,[(0,l.Lk)("strong",null,(0,n.v_)(o.searchResults.length),1),t[75]||(t[75]=(0,l.Lk)("span",{class:"text-muted"},"results found",-1)),o.searchQuery?((0,l.uX)(),(0,l.CE)("span",hr,'for "'+(0,n.v_)(o.searchQuery)+'"',1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",gr,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary me-2",onClick:t[37]||(t[37]=(...e)=>o.exportResults&&o.exportResults(...e))},[...t[76]||(t[76]=[(0,l.Lk)("i",{class:"bi bi-download me-1"},null,-1),(0,l.eW)(" Export ",-1)])]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[38]||(t[38]=(...e)=>o.saveSearch&&o.saveSearch(...e))},[...t[77]||(t[77]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])):(0,l.Q3)("",!0)])}var yr={name:"AdvancedSearchPanel",emits:["search-results","filters-changed"],setup(e,{emit:t}){(0,Be.rd)();const a=(0,D.KR)(""),s=(0,D.KR)(!1),n=(0,D.KR)([]),o=(0,D.KR)(-1),r=(0,D.KR)(null),i=(0,D.KR)("members"),c=(0,D.KR)([{id:1,name:"University of California - Berkeley"},{id:2,name:"Stanford University"},{id:3,name:"MIT"}]),d=(0,D.KR)(["CA","NY","TX","FL","IL","PA","OH","GA","NC","MI"]),u=(0,D.Kh)({role:"",chapter:"",active:"",joinDateFrom:"",joinDateTo:"",tags:[],active:!1,count:0}),m=(0,D.Kh)({type:"",status:"",dateFrom:"",dateTo:"",minAttendance:0,chapter:"",active:!1,count:0}),v=(0,D.Kh)({institutionType:"",state:"",minMembers:0,active:!1,count:0}),b=(0,D.KR)([]),p=(0,l.EW)(()=>u.active||m.active||v.active),h=(0,l.EW)(()=>{const e=[];return"members"===i.value?(u.role&&e.push({key:"memberRole",label:"Role",value:u.role}),u.chapter&&e.push({key:"memberChapter",label:"Chapter",value:x(u.chapter)}),u.active&&e.push({key:"memberActive",label:"Status",value:"true"===u.active?"Active":"Inactive"})):"events"===i.value?(m.type&&e.push({key:"eventType",label:"Type",value:m.type}),m.status&&e.push({key:"eventStatus",label:"Status",value:m.status})):"chapters"===i.value&&(v.institutionType&&e.push({key:"institutionType",label:"Type",value:v.institutionType}),v.state&&e.push({key:"chapterState",label:"State",value:v.state})),e}),g=async()=>{console.log("Performing search:",a.value),console.log("Active filters:",h.value),t("search-results",{query:a.value,filters:L(),tab:i.value})},k=()=>{y(),g()},y=()=>{u.count=h.value.filter(e=>e.key.startsWith("member")).length,m.count=h.value.filter(e=>e.key.startsWith("event")).length,v.count=h.value.filter(e=>e.key.startsWith("chapter")).length,u.active=u.count>0,m.active=m.count>0,v.active=v.count>0},L=()=>"members"===i.value?{...u}:"events"===i.value?{...m}:"chapters"===i.value?{...v}:{},f=()=>{Object.keys(u).forEach(e=>{Array.isArray(u[e])?u[e]=[]:"boolean"===typeof u[e]?u[e]=!1:u[e]=""}),Object.keys(m).forEach(e=>{"boolean"===typeof m[e]?m[e]=!1:"number"===typeof m[e]?m[e]=0:m[e]=""}),Object.keys(v).forEach(e=>{"boolean"===typeof v[e]?v[e]=!1:"number"===typeof v[e]?v[e]=0:v[e]=""}),a.value="",k()},w=()=>{a.value="",s.value=!1,g()},C=(e,t)=>{t.trim()&&("member"!==e||u.tags.includes(t.trim())||(u.tags.push(t.trim()),k()))},E=(e,t)=>{if("member"===e){const e=u.tags.indexOf(t);e>-1&&(u.tags.splice(e,1),k())}},S=e=>{console.log("Removing filter:",e),k()},x=e=>{const t=c.value.find(t=>t.id==e);return t?t.name:e},T=()=>{console.log("Exporting results...")},A=()=>{console.log("Saving search...")},R=e=>{a.value=e.text,s.value=!1,g()};return(0,l.sV)(()=>{y()}),{mainSearchInput:r,searchQuery:a,showSuggestions:s,suggestions:n,selectedSuggestionIndex:o,activeTab:i,memberFilters:u,eventFilters:m,chapterFilters:v,searchResults:b,chapters:c,states:d,hasActiveFilters:p,activeFilters:h,performSearch:g,applyFilters:k,resetFilters:f,clearMainSearch:w,addTag:C,removeTag:E,removeFilter:S,exportResults:T,saveSearch:A,selectSuggestion:R}}};const Lr=(0,P.A)(yr,[["render",kr],["__scopeId","data-v-3500c3e8"]]);var fr=Lr,wr={name:"Members",components:{SkeletonLoader:Na,AdvancedSearchPanel:fr},data(){return{loading:!0,saving:!1,members:[],chapters:[],searchTerm:"",selectedChapter:"",selectedRole:"",selectedStatus:"",showAdvancedSearch:!1,memberSearchCategories:[{id:"general",name:"General",filters:[{type:"text",id:"name",label:"Name",placeholder:"Search by first or last name"},{type:"text",id:"email",label:"Email",placeholder:"Search by email address"},{type:"select",id:"status",label:"Status",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}]},{id:"membership",name:"Membership",filters:[{type:"select",id:"role",label:"Role",options:[{value:"PRESIDENT",label:"President"},{value:"VICE_PRESIDENT",label:"Vice President"},{value:"SECRETARY",label:"Secretary"},{value:"TREASURER",label:"Treasurer"},{value:"MEMBER",label:"Member"}]},{type:"select",id:"chapter",label:"Chapter",options:[]},{type:"dateRange",id:"joinDate",label:"Join Date Range"}]},{id:"advanced",name:"Advanced",filters:[{type:"multiSelect",id:"tags",label:"Tags",options:[]},{type:"number",id:"minEvents",label:"Min Events Attended",min:0},{type:"checkbox",id:"hasEmail",label:"Has Email Address"}]}],showCreateModal:!1,showEditModal:!1,showDeleteModal:!1,memberToDelete:null,memberForm:{id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}},computed:{filteredMembers(){let e=this.members;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.chapterName&&e.chapterName.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapterId===parseInt(this.selectedChapter))),this.selectedRole&&(e=e.filter(e=>e.role===this.selectedRole)),""!==this.selectedStatus){const t="true"===this.selectedStatus;e=e.filter(e=>e.active===t)}return e}},async mounted(){await this.loadData(),this.populateSearchOptions()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([Cl.getAllMembers(),Ll.getAllChapters()]);this.members=e,this.chapters=t}catch(e){console.error("Error loading members:",e)}finally{this.loading=!1}},handleAdvancedSearch(e){console.log("Advanced search:",e),this.showAdvancedSearch=!1,e.filters.name&&(this.searchTerm=e.filters.name)},populateSearchOptions(){const e=this.memberSearchCategories.find(e=>"membership"===e.id);if(e){const t=e.filters.find(e=>"chapter"===e.id);t&&(t.options=this.chapters.map(e=>({value:e.id,label:e.name})))}},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},editMember(e){this.memberForm={id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber||"",chapterId:e.chapterId||"",role:e.role,joinDate:e.joinDate,active:e.active},this.showEditModal=!0},confirmDelete(e){this.memberToDelete=e,this.showDeleteModal=!0},async saveMember(){try{if(this.saving=!0,this.showEditModal){const e={...this.memberForm,chapterId:this.memberForm.chapterId};delete e.chapter,await Cl.updateMember(this.memberForm.id,e)}else{const e={firstName:this.memberForm.firstName,lastName:this.memberForm.lastName,email:this.memberForm.email,chapterId:this.memberForm.chapterId,role:this.memberForm.role};await Cl.createMember(e)}await this.loadData(),this.closeModal()}catch(e){console.error("Error saving member:",e),alert("Error saving member. Please try again.")}finally{this.saving=!1}},async deleteMember(){try{await Cl.deleteMember(this.memberToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.memberToDelete=null}catch(e){console.error("Error deleting member:",e),alert("Error deleting member. Please try again.")}},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.memberForm={id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}}};const Cr=(0,P.A)(wr,[["render",bo],["__scopeId","data-v-59e7922b"]]);var Er=Cr;const Sr={class:"events"},xr={class:"container"},Tr={class:"row mb-4"},Ar={class:"col-md-6"},Rr={class:"col-md-6"},Ir={class:"input-group"},Mr={class:"row mb-4"},Dr={class:"col-md-4"},Fr=["value"],Nr={class:"col-md-4"},_r={class:"col-md-4"},Ur={key:0,class:"card"},Pr={class:"card-body p-0"},Wr={class:"d-flex justify-content-between align-items-center mb-3"},Xr={class:"view-toggle btn-group",role:"group"},Br={class:"results-info"},Kr={class:"text-muted"},Vr={key:1,class:"empty-state text-center py-5"},$r={key:2,class:"events-grid"},Or={class:"event-card"},Qr={class:"event-header"},jr={class:"event-title-section"},Gr={class:"event-title"},Jr={class:"event-meta"},qr={class:"event-actions"},Hr={class:"dropdown"},Yr=["id"],zr={class:"dropdown-menu"},Zr=["onClick"],ei=["onClick"],ti={class:"event-details"},ai={class:"event-info-grid"},si={class:"info-item"},li={key:0,class:"info-item"},ni={key:1,class:"info-item"},oi={key:0,class:"event-description"},ri={class:"rsvp-section"},ii={key:3,class:"card"},ci={class:"card-header bg-light"},di={class:"card-title mb-0"},ui={class:"card-body p-0"},mi={class:"table-responsive"},vi={class:"table table-hover mb-0"},bi={key:0,class:"text-muted"},pi={key:1,class:"text-muted"},hi={class:"rsvp-summary"},gi={class:"badge bg-success me-1"},ki={key:0,class:"badge bg-warning me-1"},yi={key:1,class:"badge bg-info"},Li={class:"btn-group",role:"group"},fi=["onClick"],wi=["onClick"],Ci={class:"modal-dialog modal-lg"},Ei={class:"modal-content"},Si={class:"modal-header"},xi={class:"modal-title"},Ti={class:"modal-body"},Ai={class:"mb-3"},Ri={class:"mb-3"},Ii={class:"row"},Mi={class:"col-md-6 mb-3"},Di={class:"col-md-6 mb-3"},Fi={class:"row"},Ni={class:"col-md-6 mb-3"},_i=["value"],Ui={class:"col-md-6 mb-3"},Pi={class:"row"},Wi={class:"col-md-6 mb-3"},Xi={class:"modal-footer"},Bi=["disabled"],Ki={key:0,class:"spinner-border spinner-border-sm me-2"},Vi={class:"modal-dialog"},$i={class:"modal-content"},Oi={class:"modal-header"},Qi={class:"modal-body"},ji={class:"modal-footer"};function Gi(e,t,a,o,r,i){const c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link"),u=(0,l.g2)("EventRSVPCard");return(0,l.uX)(),(0,l.CE)("div",Sr,[(0,l.Lk)("div",xr,[t[46]||(t[46]=(0,l.Fv)('<div class="row mb-4" data-v-6af8159a><div class="col" data-v-6af8159a><h1 class="display-4 text-center mb-3" data-v-6af8159a><i class="bi bi-calendar-event text-info me-3" data-v-6af8159a></i> Events </h1><p class="lead text-center text-muted" data-v-6af8159a> Manage chapter events and activities </p></div></div>',1)),(0,l.Lk)("div",Tr,[(0,l.Lk)("div",Ar,[(0,l.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>o.showCreateModal=!0)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])]),(0,l.Lk)("div",Rr,[(0,l.Lk)("div",Ir,[t[24]||(t[24]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search events...","onUpdate:modelValue":t[1]||(t[1]=e=>o.searchTerm=e)},null,512),[[s.Jo,o.searchTerm]])])])]),(0,l.Lk)("div",Mr,[(0,l.Lk)("div",Dr,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedChapter=e)},[t[25]||(t[25]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Fr))),128))],512),[[s.u1,o.selectedChapter]])]),(0,l.Lk)("div",Nr,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedType=e)},[...t[26]||(t[26]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Types</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,o.selectedType]])]),(0,l.Lk)("div",_r,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedTimeframe=e)},[...t[27]||(t[27]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Time</option><option value="upcoming" data-v-6af8159a>Upcoming</option><option value="past" data-v-6af8159a>Past</option><option value="today" data-v-6af8159a>Today</option><option value="this-week" data-v-6af8159a>This Week</option><option value="this-month" data-v-6af8159a>This Month</option>',6)])],512),[[s.u1,o.selectedTimeframe]])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",Ur,[t[28]||(t[28]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"}),(0,l.eW)(" Loading Events... ")])],-1)),(0,l.Lk)("div",Pr,[(0,l.bF)(c,{type:"list",rows:4})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Wr,[(0,l.Lk)("div",Xr,[(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"cardView","onUpdate:modelValue":t[5]||(t[5]=e=>r.viewMode=e),value:"cards"},null,512),[[s.XL,r.viewMode]]),t[29]||(t[29]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"cardView"},[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"}),(0,l.eW)(" Cards ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"tableView","onUpdate:modelValue":t[6]||(t[6]=e=>r.viewMode=e),value:"table"},null,512),[[s.XL,r.viewMode]]),t[30]||(t[30]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"tableView"},[(0,l.Lk)("i",{class:"bi bi-table"}),(0,l.eW)(" Table ")],-1))]),(0,l.Lk)("div",Br,[(0,l.Lk)("span",Kr,(0,n.v_)(i.filteredEvents.length)+" events found",1)])]),0===i.filteredEvents.length?((0,l.uX)(),(0,l.CE)("div",Vr,[t[32]||(t[32]=(0,l.Lk)("i",{class:"bi bi-calendar-x display-1 text-muted mb-3"},null,-1)),t[33]||(t[33]=(0,l.Lk)("h4",{class:"text-muted"},"No events found",-1)),t[34]||(t[34]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your filters or create a new event.",-1)),(0,l.Lk)("button",{class:"btn btn-info",onClick:t[7]||(t[7]=e=>o.showCreateModal=!0)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])])):"cards"===r.viewMode?((0,l.uX)(),(0,l.CE)("div",$r,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"event-card-container"},[(0,l.Lk)("div",Or,[(0,l.Lk)("div",Qr,[(0,l.Lk)("div",jr,[(0,l.Lk)("h5",Gr,(0,n.v_)(e.title),1),(0,l.Lk)("div",Jr,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getTypeBadgeClass(e.type)])},(0,n.v_)(i.formatType(e.type)),3),(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(i.getEventStatus(e.eventDateTime)),3)])]),(0,l.Lk)("div",qr,[(0,l.Lk)("div",Hr,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button",id:`eventMenu${e.id}`,"data-bs-toggle":"dropdown"},[...t[35]||(t[35]=[(0,l.Lk)("i",{class:"bi bi-three-dots"},null,-1)])],8,Yr),(0,l.Lk)("ul",zr,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t=>i.editEvent(e)},[...t[36]||(t[36]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit Event ",-1)])],8,Zr)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t=>i.confirmDelete(e)},[...t[37]||(t[37]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete Event ",-1)])],8,ei)])])])])]),(0,l.Lk)("div",ti,[(0,l.Lk)("div",ai,[(0,l.Lk)("div",si,[t[38]||(t[38]=(0,l.Lk)("i",{class:"bi bi-calendar3 text-primary"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(i.formatDateTime(e.eventDateTime)),1)]),e.location?((0,l.uX)(),(0,l.CE)("div",li,[t[39]||(t[39]=(0,l.Lk)("i",{class:"bi bi-geo-alt text-danger"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.location),1)])):(0,l.Q3)("",!0),e.chapter?((0,l.uX)(),(0,l.CE)("div",ni,[t[40]||(t[40]=(0,l.Lk)("i",{class:"bi bi-building text-info"},null,-1)),(0,l.bF)(d,{to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])])):(0,l.Q3)("",!0)]),e.description?((0,l.uX)(),(0,l.CE)("div",oi,(0,n.v_)(e.description),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ri,[(0,l.bF)(u,{event:e,rsvps:r.eventRsvps[e.id]||[],"current-user-id":r.currentUserId,onRsvpUpdated:i.handleRSVPUpdate},null,8,["event","rsvps","current-user-id","onRsvpUpdated"])])])]))),128))])):((0,l.uX)(),(0,l.CE)("div",ii,[(0,l.Lk)("div",ci,[(0,l.Lk)("h5",di,[t[41]||(t[41]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Events ("+(0,n.v_)(i.filteredEvents.length)+") ",1)])]),(0,l.Lk)("div",ui,[(0,l.Lk)("div",mi,[(0,l.Lk)("table",vi,[t[45]||(t[45]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"RSVPs"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[42]||(t[42]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",bi,(0,n.v_)(i.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(i.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getTypeBadgeClass(e.type)])},(0,n.v_)(i.formatType(e.type)),3)]),(0,l.Lk)("td",null,[e.chapter?((0,l.uX)(),(0,l.Wv)(d,{key:0,to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",pi,"No Chapter"))]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",hi,[(0,l.Lk)("span",gi,(0,n.v_)(i.getRSVPCount(e.id,"ATTENDING")),1),i.getRSVPCount(e.id,"MAYBE")?((0,l.uX)(),(0,l.CE)("span",ki,(0,n.v_)(i.getRSVPCount(e.id,"MAYBE"))+" maybe ",1)):(0,l.Q3)("",!0),i.getRSVPCount(e.id,"WAITLIST")?((0,l.uX)(),(0,l.CE)("span",yi,(0,n.v_)(i.getRSVPCount(e.id,"WAITLIST"))+" waitlist ",1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(i.getEventStatus(e.eventDateTime)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Li,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>i.editEvent(e)},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,fi),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>i.confirmDelete(e)},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,wi)])])]))),128))])])])])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showCreateModal||o.showEditModal}]),style:(0,n.Tr)({display:o.showCreateModal||o.showEditModal?"block":"none"})},[(0,l.Lk)("div",Ci,[(0,l.Lk)("div",Ei,[(0,l.Lk)("div",Si,[(0,l.Lk)("h5",xi,(0,n.v_)(o.showEditModal?"Edit Event":"Create New Event"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[8]||(t[8]=(...e)=>i.closeModal&&i.closeModal(...e))})]),(0,l.Lk)("div",Ti,[(0,l.Lk)("form",{onSubmit:t[16]||(t[16]=(0,s.D$)((...e)=>i.saveEvent&&i.saveEvent(...e),["prevent"]))},[(0,l.Lk)("div",Ai,[t[47]||(t[47]=(0,l.Lk)("label",{for:"title",class:"form-label"},"Event Title *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[9]||(t[9]=e=>o.eventForm.title=e),required:""},null,512),[[s.Jo,o.eventForm.title]])]),(0,l.Lk)("div",Ri,[t[48]||(t[48]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[10]||(t[10]=e=>o.eventForm.description=e),rows:"3"},null,512),[[s.Jo,o.eventForm.description]])]),(0,l.Lk)("div",Ii,[(0,l.Lk)("div",Mi,[t[49]||(t[49]=(0,l.Lk)("label",{for:"eventDateTime",class:"form-label"},"Date & Time *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control",id:"eventDateTime","onUpdate:modelValue":t[11]||(t[11]=e=>o.eventForm.eventDateTime=e),required:""},null,512),[[s.Jo,o.eventForm.eventDateTime]])]),(0,l.Lk)("div",Di,[t[51]||(t[51]=(0,l.Lk)("label",{for:"type",class:"form-label"},"Event Type *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"type","onUpdate:modelValue":t[12]||(t[12]=e=>o.eventForm.type=e),required:""},[...t[50]||(t[50]=[(0,l.Fv)('<option value="" data-v-6af8159a>Select Type</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,o.eventForm.type]])])]),(0,l.Lk)("div",Fi,[(0,l.Lk)("div",Ni,[t[53]||(t[53]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[13]||(t[13]=e=>o.eventForm.chapterId=e),required:""},[t[52]||(t[52]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,_i))),128))],512),[[s.u1,o.eventForm.chapterId]])]),(0,l.Lk)("div",Ui,[t[54]||(t[54]=(0,l.Lk)("label",{for:"location",class:"form-label"},"Location",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"location","onUpdate:modelValue":t[14]||(t[14]=e=>o.eventForm.location=e),placeholder:"Event location or 'Virtual'"},null,512),[[s.Jo,o.eventForm.location]])])]),(0,l.Lk)("div",Pi,[(0,l.Lk)("div",Wi,[t[55]||(t[55]=(0,l.Lk)("label",{for:"capacity",class:"form-label"},"Event Capacity",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"capacity","onUpdate:modelValue":t[15]||(t[15]=e=>o.eventForm.capacity=e),placeholder:"Leave empty for unlimited",min:"1"},null,512),[[s.Jo,o.eventForm.capacity]]),t[56]||(t[56]=(0,l.Lk)("div",{class:"form-text"}," Set a maximum number of attendees (optional) ",-1))])])],32)]),(0,l.Lk)("div",Xi,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[17]||(t[17]=(...e)=>i.closeModal&&i.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-info",onClick:t[18]||(t[18]=(...e)=>i.saveEvent&&i.saveEvent(...e)),disabled:o.saving},[o.saving?((0,l.uX)(),(0,l.CE)("span",Ki)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.showEditModal?"Update Event":"Create Event"),1)],8,Bi)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showDeleteModal}]),style:(0,n.Tr)({display:o.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",Vi,[(0,l.Lk)("div",$i,[(0,l.Lk)("div",Oi,[t[57]||(t[57]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=e=>o.showDeleteModal=!1)})]),(0,l.Lk)("div",Qi,[(0,l.Lk)("p",null,[t[58]||(t[58]=(0,l.eW)("Are you sure you want to delete the event ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(o.eventToDelete?.title),1),t[59]||(t[59]=(0,l.eW)("?",-1))]),t[60]||(t[60]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",ji,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[20]||(t[20]=e=>o.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[21]||(t[21]=(...e)=>i.deleteEvent&&i.deleteEvent(...e))}," Delete Event ")])])])],6),o.showCreateModal||o.showEditModal||o.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[22]||(t[22]=(...e)=>i.closeModal&&i.closeModal(...e))})):(0,l.Q3)("",!0)])}const Ji={async getAllEvents(){try{const e=await ha.A.get("/events");return e.data}catch(e){throw e}},async getEventById(e){try{const t=await ha.A.get(`/events/${e}`);return t.data}catch(t){throw t}},async getEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/active`);return t.data}catch(t){throw t}},async getUpcomingEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/upcoming`);return t.data}catch(t){throw t}},async getPastEventsByChapter(e){try{const t=await ha.A.get(`/events/chapter/${e}/past`);return t.data}catch(t){throw t}},async getEventsByType(e,t){try{const a=await ha.A.get(`/events/chapter/${e}/type/${t}`);return a.data}catch(a){throw a}},async createEvent(e){try{const t=await ha.A.post("/events",e);return t.data}catch(t){throw t}},async updateEvent(e,t){try{const a=await ha.A.put(`/events/${e}`,t);return a.data}catch(a){throw a}},async deleteEvent(e){try{return await ha.A.delete(`/events/${e}`),!0}catch(t){throw t}},async registerForEvent(e){try{const t=await ha.A.put(`/events/${e}/register`);return t.data}catch(t){throw t}},async unregisterFromEvent(e){try{const t=await ha.A.put(`/events/${e}/unregister`);return t.data}catch(t){throw t}},async getUpcomingEventCount(e){try{const t=await ha.A.get(`/events/chapter/${e}/count/upcoming`);return t.data}catch(t){throw t}},async getEventStats(e){try{const t=await ha.A.get(`/events/${e}/stats`);return t.data}catch(t){throw t}}},qi={class:"member-info"},Hi={class:"avatar"},Yi=["src","alt"],zi={key:1,class:"avatar-placeholder"},Zi={class:"member-details"},ec={class:"member-name"},tc={key:0,class:"member-role"},ac={key:1,class:"member-email"},sc={class:"rsvp-info"},lc={key:0,class:"waitlist-position"},nc={class:"rsvp-time"},oc={key:1,class:"rsvp-notes"},rc={key:0,class:"attendee-actions"};var ic={__name:"AttendeeCard",props:{rsvp:{type:Object,required:!0},status:{type:String,required:!0,validator:e=>["attending","maybe","waitlist","not-attending"].includes(e)},position:{type:Number,default:null},showEmail:{type:Boolean,default:!1},showActions:{type:Boolean,default:!1},canRemove:{type:Boolean,default:!1}},emits:["promote-waitlist","contact-member","remove-rsvp"],setup(e,{emit:t}){const a=e,s=t,o=(0,l.EW)(()=>{const e=a.rsvp.member;return e?e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.name||e.email||"Unknown Member":"Unknown Member"}),r=(0,l.EW)(()=>{const e=o.value,t=e.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()}),i=(0,l.EW)(()=>({"card-attending":"attending"===a.status,"card-maybe":"maybe"===a.status,"card-waitlist":"waitlist"===a.status,"card-not-attending":"not-attending"===a.status})),c=(0,l.EW)(()=>({"badge-attending":"attending"===a.status,"badge-maybe":"maybe"===a.status,"badge-waitlist":"waitlist"===a.status,"badge-not-attending":"not-attending"===a.status})),d=(0,l.EW)(()=>{const e={attending:"bi bi-check-circle-fill",maybe:"bi bi-question-circle-fill",waitlist:"bi bi-clock-history","not-attending":"bi bi-x-circle-fill"};return e[a.status]}),u=(0,l.EW)(()=>{const e={attending:"Going",maybe:"Maybe",waitlist:"Waitlist","not-attending":"Not Going"};return e[a.status]}),m=e=>e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),v=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);if(1===l)return"yesterday";if(l<7)return`${l}d ago`;const n=Math.floor(l/7);return 1===n?"last week":n<4?`${n}w ago`:a.toLocaleDateString()},b=()=>{s("promote-waitlist",a.rsvp)},p=()=>{s("contact-member",a.rsvp.member)},h=()=>{s("remove-rsvp",a.rsvp)};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["attendee-card",i.value])},[(0,l.Lk)("div",qi,[(0,l.Lk)("div",Hi,[e.rsvp.member?.profileImage?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.rsvp.member.profileImage,alt:o.value,class:"avatar-img"},null,8,Yi)):((0,l.uX)(),(0,l.CE)("div",zi,(0,n.v_)(r.value),1))]),(0,l.Lk)("div",Zi,[(0,l.Lk)("h6",ec,(0,n.v_)(o.value),1),e.rsvp.member?.role?((0,l.uX)(),(0,l.CE)("p",tc,(0,n.v_)(m(e.rsvp.member.role)),1)):(0,l.Q3)("",!0),e.showEmail?((0,l.uX)(),(0,l.CE)("p",ac,(0,n.v_)(e.rsvp.member?.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",sc,[(0,l.Lk)("div",{class:(0,n.C4)(["status-badge",c.value])},[(0,l.Lk)("i",{class:(0,n.C4)(d.value)},null,2),(0,l.Lk)("span",null,(0,n.v_)(u.value),1)],2),"waitlist"===e.status&&e.position?((0,l.uX)(),(0,l.CE)("div",lc," Position #"+(0,n.v_)(e.position),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",nc," RSVPed "+(0,n.v_)(v(e.rsvp.createdAt)),1),e.rsvp.notes?((0,l.uX)(),(0,l.CE)("div",oc,[a[0]||(a[0]=(0,l.Lk)("i",{class:"bi bi-chat-left-text"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.rsvp.notes),1)])):(0,l.Q3)("",!0)]),e.showActions?((0,l.uX)(),(0,l.CE)("div",rc,["waitlist"===e.status?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-sm btn-success",onClick:b,title:"Move to attending"},[...a[1]||(a[1]=[(0,l.Lk)("i",{class:"bi bi-arrow-up-circle"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:p,title:"Send message"},[...a[2]||(a[2]=[(0,l.Lk)("i",{class:"bi bi-envelope"},null,-1)])]),e.canRemove?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-sm btn-outline-danger",onClick:h,title:"Remove RSVP"},[...a[3]||(a[3]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],2))}};const cc=(0,P.A)(ic,[["__scopeId","data-v-254b04b9"]]);var dc=cc;const uc={class:"attendee-list"},mc={class:"attendee-header"},vc={class:"mb-0"},bc={class:"badge bg-primary ms-2"},pc={class:"status-summary"},hc={key:0,class:"attendee-details"},gc={key:0,class:"attendee-section"},kc={class:"section-title"},yc={class:"attendee-grid"},Lc={key:1,class:"attendee-section"},fc={class:"section-title"},wc={class:"attendee-grid"},Cc={key:2,class:"attendee-section"},Ec={class:"section-title"},Sc={class:"attendee-grid"},xc={key:3,class:"attendee-section"},Tc={key:0,class:"attendee-grid"},Ac={key:1,class:"empty-state"};var Rc={__name:"AttendeeList",props:{rsvps:{type:Array,default:()=>[]},showDetails:{type:Boolean,default:!1}},emits:["toggle-details"],setup(e,{emit:t}){const a=e,s=t,o=(0,D.KR)(!1),r=(0,l.EW)(()=>a.rsvps.filter(e=>"ATTENDING"===e.status)),i=(0,l.EW)(()=>a.rsvps.filter(e=>"MAYBE"===e.status)),c=(0,l.EW)(()=>a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt))),d=(0,l.EW)(()=>a.rsvps.filter(e=>"NOT_ATTENDING"===e.status)),u=(0,l.EW)(()=>r.value.length+i.value.length+c.value.length),m=(0,l.EW)(()=>({ATTENDING:r.value.length,MAYBE:i.value.length,WAITLIST:c.value.length,NOT_ATTENDING:d.value.length})),v=()=>{s("toggle-details")},b=e=>{const t={ATTENDING:"bi bi-check-circle-fill",MAYBE:"bi bi-question-circle-fill",WAITLIST:"bi bi-clock-history",NOT_ATTENDING:"bi bi-x-circle-fill"};return t[e]},p=e=>{const t={ATTENDING:"Going",MAYBE:"Maybe",WAITLIST:"Waitlist",NOT_ATTENDING:"Not Going"};return t[e]},h=e=>{const t={ATTENDING:"status-attending",MAYBE:"status-maybe",WAITLIST:"status-waitlist",NOT_ATTENDING:"status-not-attending"};return t[e]};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",uc,[(0,l.Lk)("div",mc,[(0,l.Lk)("h6",vc,[a[1]||(a[1]=(0,l.Lk)("i",{class:"bi bi-people text-primary"},null,-1)),a[2]||(a[2]=(0,l.eW)(" Attendees ",-1)),(0,l.Lk)("span",bc,(0,n.v_)(u.value),1)]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:v},[(0,l.Lk)("i",{class:(0,n.C4)(e.showDetails?"bi bi-chevron-up":"bi bi-chevron-down")},null,2),(0,l.eW)(" "+(0,n.v_)(e.showDetails?"Hide":"Show")+" Details ",1)])]),(0,l.Lk)("div",pc,[t.count>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(m.value,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["status-chip",h(t)])},[(0,l.Lk)("i",{class:(0,n.C4)(b(t))},null,2),(0,l.Lk)("span",null,(0,n.v_)(p(t))+" ("+(0,n.v_)(e)+")",1)],2))),128)):(0,l.Q3)("",!0)]),e.showDetails?((0,l.uX)(),(0,l.CE)("div",hc,[r.value.length?((0,l.uX)(),(0,l.CE)("div",gc,[(0,l.Lk)("h6",kc,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-success"},null,-1)),(0,l.eW)(" Attending ("+(0,n.v_)(r.value.length)+") ",1)]),(0,l.Lk)("div",yc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,e=>((0,l.uX)(),(0,l.Wv)(dc,{key:e.id,rsvp:e,status:"attending"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),i.value.length?((0,l.uX)(),(0,l.CE)("div",Lc,[(0,l.Lk)("h6",fc,[a[4]||(a[4]=(0,l.Lk)("i",{class:"bi bi-question-circle-fill text-warning"},null,-1)),(0,l.eW)(" Maybe ("+(0,n.v_)(i.value.length)+") ",1)]),(0,l.Lk)("div",wc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,e=>((0,l.uX)(),(0,l.Wv)(dc,{key:e.id,rsvp:e,status:"maybe"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),c.value.length?((0,l.uX)(),(0,l.CE)("div",Cc,[(0,l.Lk)("h6",Ec,[a[5]||(a[5]=(0,l.Lk)("i",{class:"bi bi-clock-history text-info"},null,-1)),(0,l.eW)(" Waitlist ("+(0,n.v_)(c.value.length)+") ",1)]),(0,l.Lk)("div",Sc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.value,(e,t)=>((0,l.uX)(),(0,l.Wv)(dc,{key:e.id,rsvp:e,position:t+1,status:"waitlist"},null,8,["rsvp","position"]))),128))])])):(0,l.Q3)("",!0),d.value.length?((0,l.uX)(),(0,l.CE)("div",xc,[(0,l.Lk)("button",{class:"btn btn-sm btn-link section-title p-0",onClick:a[0]||(a[0]=e=>o.value=!o.value)},[a[6]||(a[6]=(0,l.Lk)("i",{class:"bi bi-x-circle-fill text-danger"},null,-1)),(0,l.eW)(" Not Attending ("+(0,n.v_)(d.value.length)+") ",1),(0,l.Lk)("i",{class:(0,n.C4)(o.value?"bi bi-chevron-up":"bi bi-chevron-down")},null,2)]),o.value?((0,l.uX)(),(0,l.CE)("div",Tc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,e=>((0,l.uX)(),(0,l.Wv)(dc,{key:e.id,rsvp:e,status:"not-attending"},null,8,["rsvp"]))),128))])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),!u.value&&e.showDetails?((0,l.uX)(),(0,l.CE)("div",Ac,[...a[7]||(a[7]=[(0,l.Lk)("i",{class:"bi bi-calendar-x text-muted"},null,-1),(0,l.Lk)("p",{class:"text-muted mb-0"},"No RSVPs yet",-1)])])):(0,l.Q3)("",!0)]))}};const Ic=(0,P.A)(Rc,[["__scopeId","data-v-52123bd4"]]);var Mc=Ic;function Dc(e,t,a=[]){const s=(0,D.KR)([...a]),n=(0,D.KR)(!1),o=(0,D.KR)(null),{createRSVP:r,updateRSVP:i,deleteRSVP:c,fetchEventRSVPs:d}=ya(),u=(0,l.EW)(()=>s.value.find(e=>e.userId===t)),m=(0,l.EW)(()=>{const e={ATTENDING:0,NOT_ATTENDING:0,MAYBE:0,WAITLIST:0,PENDING:0};return s.value.forEach(t=>{e.hasOwnProperty(t.status)&&e[t.status]++}),e}),v=(0,l.EW)(()=>m.value.ATTENDING+m.value.WAITLIST),b=(0,l.EW)(()=>!!u.value),p=async()=>{if(e)try{n.value=!0,o.value=null;const t=await d(e);s.value=t.data||[]}catch(t){throw console.error("Failed to load RSVPs:",t),o.value="Failed to load RSVPs",t}finally{n.value=!1}},h=async a=>{if(!e||!t)throw new Error("Event ID and User ID are required");try{let l;n.value=!0,o.value=null,l=b.value?await i(e,t,{status:a}):await r(e,{userId:t,status:a});const c=l.data,d=s.value.findIndex(e=>e.userId===t);return d>=0?s.value[d]=c:s.value.push(c),c}catch(l){throw console.error("Failed to update RSVP:",l),o.value="Failed to update RSVP",l}finally{n.value=!1}},g=async()=>{if(b.value)try{n.value=!0,o.value=null,await c(e,t);const a=s.value.findIndex(e=>e.userId===t);a>=0&&s.value.splice(a,1)}catch(a){throw console.error("Failed to remove RSVP:",a),o.value="Failed to remove RSVP",a}finally{n.value=!1}},k=async t=>{try{n.value=!0,o.value=null;const a=await i(e,t,{status:"ATTENDING"}),l=s.value.findIndex(e=>e.id===t);return l>=0&&(s.value[l]=a.data),a.data}catch(a){throw console.error("Failed to promote from waitlist:",a),o.value="Failed to promote from waitlist",a}finally{n.value=!1}},y=async t=>{try{n.value=!0,o.value=null;const a=t.map(t=>i(e,t.userId,{status:t.status})),l=await Promise.all(a);return l.forEach((e,a)=>{const l=e.data,n=s.value.findIndex(e=>e.userId===t[a].userId);n>=0&&(s.value[n]=l)}),l.map(e=>e.data)}catch(a){throw console.error("Failed to bulk update RSVPs:",a),o.value="Failed to update RSVPs",a}finally{n.value=!1}},L=e=>s.value.filter(t=>t.status===e),f=e=>{const t=L("WAITLIST").sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return t.findIndex(t=>t.userId===e)+1},w=e=>{if(!e)return!0;const t=m.value.ATTENDING;return t<e||"ATTENDING"===u.value?.status},C=e=>{if(!e)return{isFull:!1,percentage:0,remaining:1/0,waitlistCount:m.value.WAITLIST};const t=m.value.ATTENDING,a=Math.round(t/e*100);return{isFull:t>=e,percentage:Math.min(a,100),remaining:Math.max(e-t,0),waitlistCount:m.value.WAITLIST}};return(0,l.wB)(()=>e,e=>{e&&p()},{immediate:!0}),{rsvps:s,isLoading:n,error:o,currentUserRsvp:u,rsvpCounts:m,totalAttending:v,hasUserRsvped:b,loadRSVPs:p,updateRSVP:h,removeRSVP:g,promoteFromWaitlist:k,bulkUpdateRSVPs:y,getRSVPsByStatus:L,getWaitlistPosition:f,canUserAttend:w,getCapacityInfo:C}}const Fc={class:"rsvp-card"},Nc={class:"capacity-section"},_c={class:"capacity-display"},Uc={class:"attendee-stats"},Pc={class:"attendee-count"},Wc={key:0,class:"capacity-progress"},Xc={class:"progress"},Bc={class:"text-muted"},Kc={class:"rsvp-section"},Vc={key:0,class:"current-status"},$c={class:"status-badge"},Oc={class:"text-muted d-block mt-1"},Qc={class:"rsvp-actions mt-3"},jc=["onClick","disabled"],Gc={class:"btn-content"},Jc={key:0,class:"badge bg-light text-dark ms-2"},qc={key:1,class:"waitlist-info alert alert-info mt-3"},Hc={class:"waitlist-details"},Yc={key:2,class:"event-full-info alert alert-warning mt-3"},zc={class:"attendee-summary mt-4"},Zc={key:0,class:"loading-overlay"};var ed={__name:"EventRSVPCard",props:{event:{type:Object,required:!0},rsvps:{type:Array,default:()=>[]},currentUserId:{type:Number,default:null}},emits:["rsvp-updated"],setup(e,{emit:t}){const a=e,s=t,o=(0,D.KR)(!1),{currentUserRsvp:r,isLoading:i,updateRSVP:c,rsvpCounts:d}=Dc(a.event.id,a.currentUserId,a.rsvps),u=[{status:"ATTENDING",label:"Going",icon:"bi bi-check-circle-fill",class:"btn-success"},{status:"NOT_ATTENDING",label:"Not Going",icon:"bi bi-x-circle-fill",class:"btn-danger"},{status:"MAYBE",label:"Maybe",icon:"bi bi-question-circle-fill",class:"btn-warning"}],m=(0,l.EW)(()=>d.value.ATTENDING+d.value.WAITLIST),v=(0,l.EW)(()=>a.event.capacity?Math.min(Math.round(m.value/a.event.capacity*100),100):0),b=(0,l.EW)(()=>{const e=v.value;return e>=90?"bg-danger":e>=75?"bg-warning":"bg-success"}),p=(0,l.EW)(()=>a.event.capacity&&m.value>=a.event.capacity),h=(0,l.EW)(()=>!p.value||"ATTENDING"===r.value?.status),g=(0,l.EW)(()=>"WAITLIST"===r.value?.status),k=(0,l.EW)(()=>{if(!g.value)return null;const e=a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return e.findIndex(e=>e.userId===a.currentUserId)+1}),y=async e=>{try{await c(e),s("rsvp-updated",{eventId:a.event.id,status:e})}catch(t){console.error("Failed to update RSVP:",t)}},L=e=>d.value[e]||0,f=e=>{const t={ATTENDING:"bi bi-check-circle-fill text-success",NOT_ATTENDING:"bi bi-x-circle-fill text-danger",MAYBE:"bi bi-question-circle-fill text-warning",WAITLIST:"bi bi-clock-history text-info",PENDING:"bi bi-hourglass-split text-muted"};return t[e]||"bi bi-circle text-muted"},w=e=>{const t={ATTENDING:"Going",NOT_ATTENDING:"Not Going",MAYBE:"Maybe",WAITLIST:"On Waitlist",PENDING:"Pending"};return t[e]||e},C=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"Just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);return l<7?`${l}d ago`:a.toLocaleDateString()};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",Fc,[(0,l.Lk)("div",Nc,[a[2]||(a[2]=(0,l.Lk)("div",{class:"capacity-header"},[(0,l.Lk)("h6",{class:"mb-2"},[(0,l.Lk)("i",{class:"bi bi-people-fill text-info"}),(0,l.eW)(" Event Capacity ")])],-1)),(0,l.Lk)("div",_c,[(0,l.Lk)("div",Uc,[(0,l.Lk)("span",Pc,(0,n.v_)(m.value)+"/"+(0,n.v_)(e.event.capacity||"Unlimited"),1),a[1]||(a[1]=(0,l.Lk)("span",{class:"attendee-label"},"attending",-1))]),e.event.capacity?((0,l.uX)(),(0,l.CE)("div",Wc,[(0,l.Lk)("div",Xc,[(0,l.Lk)("div",{class:(0,n.C4)(["progress-bar",b.value]),style:(0,n.Tr)({width:v.value+"%"}),role:"progressbar"},null,6)]),(0,l.Lk)("small",Bc,(0,n.v_)(v.value)+"% full",1)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Kc,[a[6]||(a[6]=(0,l.Lk)("div",{class:"rsvp-header"},[(0,l.Lk)("h6",{class:"mb-3"},[(0,l.Lk)("i",{class:"bi bi-calendar-check text-success"}),(0,l.eW)(" Your RSVP Status ")])],-1)),(0,D.R1)(r)?((0,l.uX)(),(0,l.CE)("div",Vc,[(0,l.Lk)("div",$c,[(0,l.Lk)("i",{class:(0,n.C4)(f((0,D.R1)(r).status))},null,2),(0,l.Lk)("span",null,(0,n.v_)(w((0,D.R1)(r).status)),1)]),(0,l.Lk)("small",Oc," Updated "+(0,n.v_)(C((0,D.R1)(r).createdAt)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",Qc,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(u,e=>(0,l.Lk)("button",{key:e.status,class:(0,n.C4)(["btn","rsvp-btn",e.class,{active:(0,D.R1)(r)?.status===e.status,disabled:(0,D.R1)(i)||!h.value&&"ATTENDING"===e.status}]),onClick:t=>y(e.status),disabled:(0,D.R1)(i)},[(0,l.Lk)("div",Gc,[(0,l.Lk)("i",{class:(0,n.C4)(e.icon)},null,2),(0,l.Lk)("span",null,(0,n.v_)(e.label),1)]),L(e.status)?((0,l.uX)(),(0,l.CE)("span",Jc,(0,n.v_)(L(e.status)),1)):(0,l.Q3)("",!0)],10,jc)),64))]),g.value?((0,l.uX)(),(0,l.CE)("div",qc,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-clock-history"},null,-1)),a[4]||(a[4]=(0,l.Lk)("strong",null,"You're on the waitlist!",-1)),(0,l.Lk)("div",Hc," Position #"+(0,n.v_)(k.value)+" - We'll notify you if a spot opens up. ",1)])):(0,l.Q3)("",!0),p.value&&!(0,D.R1)(r)?((0,l.uX)(),(0,l.CE)("div",Yc,[...a[5]||(a[5]=[(0,l.Lk)("i",{class:"bi bi-exclamation-triangle"},null,-1),(0,l.Lk)("strong",null,"Event is at capacity",-1),(0,l.Lk)("div",null,"You can still RSVP to join the waitlist.",-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",zc,[(0,l.bF)(Mc,{rsvps:e.rsvps,"show-details":o.value,onToggleDetails:a[0]||(a[0]=e=>o.value=!o.value)},null,8,["rsvps","show-details"])]),(0,D.R1)(i)?((0,l.uX)(),(0,l.CE)("div",Zc,[...a[7]||(a[7]=[(0,l.Lk)("div",{class:"spinner-border text-info",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):(0,l.Q3)("",!0)]))}};const td=(0,P.A)(ed,[["__scopeId","data-v-3799098a"]]);var ad=td,sd={name:"Events",components:{EventRSVPCard:ad,SkeletonLoader:Na},setup(){const{fetchEventRSVPs:e}=ya(),t=(0,D.KR)([]),a=(0,D.KR)([]),s=(0,D.KR)({}),l=(0,D.KR)(!1),n=(0,D.KR)(!1),o=(0,D.KR)("cards"),r=(0,D.KR)(""),i=(0,D.KR)(""),c=(0,D.KR)(""),d=(0,D.KR)(""),u=(0,D.KR)(!1),m=(0,D.KR)(!1),v=(0,D.KR)(!1),b=(0,D.KR)(null),p=(0,D.Kh)({id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}),h=(0,D.KR)(1);return{events:t,chapters:a,eventRsvps:s,loading:l,saving:n,viewMode:o,searchTerm:r,selectedChapter:i,selectedType:c,selectedTimeframe:d,showCreateModal:u,showEditModal:m,showDeleteModal:v,eventToDelete:b,eventForm:p,currentUserId:h,fetchEventRSVPs:e}},computed:{filteredEvents(){let e=this.events;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t)||e.chapter&&e.chapter.name.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapter&&e.chapter.id===parseInt(this.selectedChapter))),this.selectedType&&(e=e.filter(e=>e.type===this.selectedType)),this.selectedTimeframe){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=new Date(t.getTime()+6048e5),l=new Date(t.getFullYear(),t.getMonth()+1,t.getDate());e=e.filter(e=>{const n=new Date(e.eventDateTime);switch(this.selectedTimeframe){case"upcoming":return n>=t;case"past":return n<t;case"today":return n>=a&&n<new Date(a.getTime()+864e5);case"this-week":return n>=t&&n<=s;case"this-month":return n>=t&&n<=l;default:return!0}})}return e.sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}},data(){return{eventRsvps:{},viewMode:"cards",currentUserId:1}},async mounted(){await this.loadData()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([Ji.getAllEvents(),Ll.getAllChapters()]);this.events=e,this.chapters=t,await this.loadAllRSVPs()}catch(e){console.error("Error loading events:",e)}finally{this.loading=!1}},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>50?e.substring(0,50)+"...":e},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"},editEvent(e){const t=new Date(e.eventDateTime),a=t.toISOString().slice(0,16);this.eventForm={id:e.id,title:e.title,description:e.description||"",eventDateTime:a,type:e.type,chapterId:e.chapter?e.chapter.id:"",location:e.location||""},this.showEditModal=!0},confirmDelete(e){this.eventToDelete=e,this.showDeleteModal=!0},async saveEvent(){try{this.saving=!0;const e={...this.eventForm,chapter:this.eventForm.chapterId?{id:this.eventForm.chapterId}:null};delete e.chapterId,this.showEditModal?await Ji.updateEvent(this.eventForm.id,e):await Ji.createEvent(e),await this.loadData(),this.closeModal()}catch(e){console.error("Error saving event:",e),alert("Error saving event. Please try again.")}finally{this.saving=!1}},async deleteEvent(){try{await Ji.deleteEvent(this.eventToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.eventToDelete=null}catch(e){console.error("Error deleting event:",e),alert("Error deleting event. Please try again.")}},async loadEventRSVPs(e){try{const t=await this.fetchEventRSVPs(e);this.eventRsvps[e]=t.data||[]}catch(t){console.error(`Error loading RSVPs for event ${e}:`,t)}},async loadAllRSVPs(){const e=this.events.map(e=>this.loadEventRSVPs(e.id));await Promise.all(e)},handleRSVPUpdate(e){this.loadEventRSVPs(e.eventId)},getRSVPCount(e,t){const a=this.eventRsvps[e]||[];return a.filter(e=>e.status===t).length},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.eventForm={id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}}}};const ld=(0,P.A)(sd,[["render",Gi],["__scopeId","data-v-6af8159a"]]);var nd=ld;const od={class:"chapter-detail"},rd={class:"container"},id={key:0,class:"text-center py-4"},cd={key:1,class:"text-center py-4"},dd={class:"alert alert-danger"},ud={key:2},md={class:"row mb-4"},vd={class:"col"},bd={"aria-label":"breadcrumb"},pd={class:"breadcrumb"},hd={class:"breadcrumb-item"},gd={class:"breadcrumb-item"},kd={class:"breadcrumb-item active","aria-current":"page"},yd={class:"d-flex justify-content-between align-items-start"},Ld={class:"display-4 mb-2"},fd={class:"lead text-muted"},wd={class:"row mb-4"},Cd={class:"col-lg-8"},Ed={class:"card"},Sd={class:"card-body"},xd={class:"row"},Td={class:"col-md-6"},Ad={class:"col-md-6"},Rd={key:0,class:"mt-3"},Id={class:"mt-2"},Md={class:"col-lg-4"},Dd={class:"card bg-primary text-white mb-3"},Fd={class:"card-body text-center"},Nd={class:"card bg-success text-white mb-3"},_d={class:"card-body text-center"},Ud={class:"row mb-4"},Pd={class:"col"},Wd={class:"card"},Xd={class:"card-header bg-light d-flex justify-content-between align-items-center"},Bd={class:"card-body"},Kd={key:0,class:"text-center text-muted py-4"},Vd={key:1,class:"row"},$d={class:"card border-0 bg-light"},Od={class:"card-body"},Qd={class:"card-title text-primary"},jd={class:"card-text mb-1"},Gd={class:"card-text"},Jd={class:"text-muted"},qd={class:"row mb-4"},Hd={class:"col"},Yd={class:"card"},zd={class:"card-header bg-light d-flex justify-content-between align-items-center"},Zd={class:"card-title mb-0"},eu={class:"card-body p-0"},tu={key:0,class:"text-center text-muted py-4"},au={key:1,class:"table-responsive"},su={class:"table table-hover mb-0"},lu={class:"row"},nu={class:"col"},ou={class:"card"},ru={class:"card-header bg-light d-flex justify-content-between align-items-center"},iu={class:"card-body p-0"},cu={key:0,class:"text-center text-muted py-4"},du={key:1,class:"table-responsive"},uu={class:"table table-hover mb-0"},mu={key:0,class:"text-muted"},vu={key:0,class:"text-center p-3 border-top"};function bu(e,t,a,s,o,r){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",od,[(0,l.Lk)("div",rd,[o.loading?((0,l.uX)(),(0,l.CE)("div",id,[...t[2]||(t[2]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):o.chapter?((0,l.uX)(),(0,l.CE)("div",ud,[(0,l.Lk)("div",md,[(0,l.Lk)("div",vd,[(0,l.Lk)("nav",bd,[(0,l.Lk)("ol",pd,[(0,l.Lk)("li",hd,[(0,l.bF)(i,{to:"/"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.eW)("Home",-1)])]),_:1})]),(0,l.Lk)("li",gd,[(0,l.bF)(i,{to:"/chapters"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("Chapters",-1)])]),_:1})]),(0,l.Lk)("li",kd,(0,n.v_)(o.chapter.name),1)])]),(0,l.Lk)("div",yd,[(0,l.Lk)("div",null,[(0,l.Lk)("h1",Ld,[t[8]||(t[8]=(0,l.Lk)("i",{class:"bi bi-building text-primary me-3"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.name),1)]),(0,l.Lk)("p",fd,(0,n.v_)(o.chapter.universityName),1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-outline-secondary me-2",onClick:t[0]||(t[0]=(...e)=>r.editChapter&&r.editChapter(...e))},[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)(" Edit Chapter ",-1)])]),(0,l.bF)(i,{to:"/chapters",class:"btn btn-secondary"},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])])])]),(0,l.Lk)("div",wd,[(0,l.Lk)("div",Cd,[(0,l.Lk)("div",Ed,[t[18]||(t[18]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-info-circle text-primary me-2"}),(0,l.eW)(" Chapter Information ")])],-1)),(0,l.Lk)("div",Sd,[(0,l.Lk)("div",xd,[(0,l.Lk)("div",Td,[(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"University:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.universityName),1)]),(0,l.Lk)("p",null,[t[12]||(t[12]=(0,l.Lk)("strong",null,"Location:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.city)+", "+(0,n.v_)(o.chapter.state),1)]),(0,l.Lk)("p",null,[t[13]||(t[13]=(0,l.Lk)("strong",null,"Founded:",-1)),(0,l.eW)(" "+(0,n.v_)(r.formatDate(o.chapter.foundedDate)),1)])]),(0,l.Lk)("div",Ad,[(0,l.Lk)("p",null,[t[14]||(t[14]=(0,l.Lk)("strong",null,"Total Members:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapterMembers.length),1)]),(0,l.Lk)("p",null,[t[15]||(t[15]=(0,l.Lk)("strong",null,"Active Members:",-1)),(0,l.eW)(" "+(0,n.v_)(r.activeMembers.length),1)]),(0,l.Lk)("p",null,[t[16]||(t[16]=(0,l.Lk)("strong",null,"Upcoming Events:",-1)),(0,l.eW)(" "+(0,n.v_)(r.upcomingEvents.length),1)])])]),o.chapter.description?((0,l.uX)(),(0,l.CE)("div",Rd,[t[17]||(t[17]=(0,l.Lk)("strong",null,"Description:",-1)),(0,l.Lk)("p",Id,(0,n.v_)(o.chapter.description),1)])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Md,[(0,l.Lk)("div",Dd,[(0,l.Lk)("div",Fd,[t[19]||(t[19]=(0,l.Lk)("i",{class:"bi bi-people-fill display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(o.chapterMembers.length),1),t[20]||(t[20]=(0,l.Lk)("p",{class:"mb-0"},"Total Members",-1))])]),(0,l.Lk)("div",Nd,[(0,l.Lk)("div",_d,[t[21]||(t[21]=(0,l.Lk)("i",{class:"bi bi-calendar-event display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(r.upcomingEvents.length),1),t[22]||(t[22]=(0,l.Lk)("p",{class:"mb-0"},"Upcoming Events",-1))])])])]),(0,l.Lk)("div",Ud,[(0,l.Lk)("div",Pd,[(0,l.Lk)("div",Wd,[(0,l.Lk)("div",Xd,[t[24]||(t[24]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-award text-warning me-2"}),(0,l.eW)(" Chapter Leadership ")],-1)),(0,l.bF)(i,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])]),_:1})]),(0,l.Lk)("div",Bd,[0===r.leadership.length?((0,l.uX)(),(0,l.CE)("div",Kd,[...t[25]||(t[25]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No leadership positions assigned",-1)])])):((0,l.uX)(),(0,l.CE)("div",Vd,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.leadership,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 mb-3"},[(0,l.Lk)("div",$d,[(0,l.Lk)("div",Od,[(0,l.Lk)("h6",Qd,(0,n.v_)(r.formatRole(e.role)),1),(0,l.Lk)("p",jd,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("p",Gd,[(0,l.Lk)("small",Jd,[t[26]||(t[26]=(0,l.Lk)("i",{class:"bi bi-envelope me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.email),1)])])])])]))),128))]))])])])]),(0,l.Lk)("div",qd,[(0,l.Lk)("div",Hd,[(0,l.Lk)("div",Yd,[(0,l.Lk)("div",zd,[(0,l.Lk)("h5",Zd,[t[27]||(t[27]=(0,l.Lk)("i",{class:"bi bi-people text-success me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(o.chapterMembers.length)+") ",1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary me-2",onClick:t[1]||(t[1]=e=>o.showInactiveMembers=!o.showInactiveMembers)},(0,n.v_)(o.showInactiveMembers?"Hide":"Show")+" Inactive ",1),(0,l.bF)(i,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[28]||(t[28]=[(0,l.eW)(" View All Members ",-1)])]),_:1})])]),(0,l.Lk)("div",eu,[0===r.displayedMembers.length?((0,l.uX)(),(0,l.CE)("div",tu,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",au,[(0,l.Lk)("table",su,[t[30]||(t[30]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.displayedMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getRoleBadgeClass(e.role)])},(0,n.v_)(r.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,(0,n.v_)(r.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)])]))),128))])])]))])])])]),(0,l.Lk)("div",lu,[(0,l.Lk)("div",nu,[(0,l.Lk)("div",ou,[(0,l.Lk)("div",ru,[t[32]||(t[32]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event text-info me-2"}),(0,l.eW)(" Chapter Events ")],-1)),(0,l.bF)(i,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" Create Event ",-1)])]),_:1})]),(0,l.Lk)("div",iu,[0===o.chapterEvents.length?((0,l.uX)(),(0,l.CE)("div",cu,[...t[33]||(t[33]=[(0,l.Lk)("i",{class:"bi bi-calendar-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No events scheduled",-1)])])):((0,l.uX)(),(0,l.CE)("div",du,[(0,l.Lk)("table",uu,[t[35]||(t[35]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapterEvents.slice(0,10),e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[34]||(t[34]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",mu,(0,n.v_)(r.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getTypeBadgeClass(e.type)])},(0,n.v_)(r.formatType(e.type)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(r.getEventStatus(e.eventDateTime)),3)])]))),128))])]),o.chapterEvents.length>10?((0,l.uX)(),(0,l.CE)("div",vu,[(0,l.bF)(i,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[(0,l.eW)(" View All "+(0,n.v_)(o.chapterEvents.length)+" Events ",1)]),_:1})])):(0,l.Q3)("",!0)]))])])])])])):((0,l.uX)(),(0,l.CE)("div",cd,[(0,l.Lk)("div",dd,[t[4]||(t[4]=(0,l.Lk)("h4",null,"Chapter Not Found",-1)),t[5]||(t[5]=(0,l.Lk)("p",null,"The chapter you're looking for doesn't exist.",-1)),(0,l.bF)(i,{to:"/chapters",class:"btn btn-primary"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])]))])])}var pu={name:"ChapterDetail",data(){return{loading:!0,chapter:null,chapterMembers:[],chapterEvents:[],showInactiveMembers:!1}},computed:{activeMembers(){return this.chapterMembers.filter(e=>e.active)},leadership(){return this.chapterMembers.filter(e=>["PRESIDENT","VICE_PRESIDENT","SECRETARY","TREASURER"].includes(e.role)).sort((e,t)=>{const a={PRESIDENT:1,VICE_PRESIDENT:2,SECRETARY:3,TREASURER:4};return a[e.role]-a[t.role]})},displayedMembers(){return this.showInactiveMembers?this.chapterMembers:this.activeMembers},upcomingEvents(){const e=new Date;return this.chapterEvents.filter(t=>new Date(t.eventDateTime)>=e)}},async mounted(){await this.loadChapterData()},methods:{async loadChapterData(){try{this.loading=!0;const e=parseInt(this.$route.params.id),[t,a,s]=await Promise.all([Ll.getChapterById(e),Cl.getAllMembers(),Ji.getAllEvents()]);this.chapter=t,this.chapterMembers=a.filter(t=>t.chapterId===e),this.chapterEvents=s.filter(t=>t.chapter&&t.chapter.id===e).sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}catch(e){console.error("Error loading chapter data:",e),this.chapter=null}finally{this.loading=!1}},editChapter(){this.$router.push("/chapters")},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>100?e.substring(0,100)+"...":e},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"}},watch:{$route(){this.loadChapterData()}}};const hu=(0,P.A)(pu,[["render",bu]]);var gu=hu;const ku={class:"login-container"},yu={class:"card"},Lu={class:"card-body"},fu={key:0,class:"alert alert-danger",role:"alert"},wu={key:1,class:"alert alert-success",role:"alert"},Cu={class:"mb-3"},Eu={class:"mb-3"},Su=["disabled"],xu={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Tu={key:2,class:"mt-4"},Au={class:"card"},Ru={class:"card-body"},Iu={class:"mt-4"},Mu=["disabled"],Du={key:0,class:"mt-2"};function Fu(e,t,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",ku,[(0,l.Lk)("div",yu,[t[14]||(t[14]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",null,"Login")],-1)),(0,l.Lk)("div",Lu,[r.error?((0,l.uX)(),(0,l.CE)("div",fu,(0,n.v_)(r.error),1)):(0,l.Q3)("",!0),r.success?((0,l.uX)(),(0,l.CE)("div",wu,(0,n.v_)(r.success),1)):(0,l.Q3)("",!0),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)((...e)=>i.login&&i.login(...e),["prevent"]))},[(0,l.Lk)("div",Cu,[t[5]||(t[5]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.credentials.username=e),required:""},null,512),[[s.Jo,r.credentials.username]]),t[6]||(t[6]=(0,l.Lk)("div",{class:"form-text"},"Use: testuser",-1))]),(0,l.Lk)("div",Eu,[t[7]||(t[7]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.credentials.password=e),required:""},null,512),[[s.Jo,r.credentials.password]]),t[8]||(t[8]=(0,l.Lk)("div",{class:"form-text"},"Use: password123",-1))]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.loading},[r.loading?((0,l.uX)(),(0,l.CE)("span",xu)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(r.loading?"Logging in...":"Login"),1)],8,Su)],32),r.user?((0,l.uX)(),(0,l.CE)("div",Tu,[t[12]||(t[12]=(0,l.Lk)("h5",null,"Current User",-1)),(0,l.Lk)("div",Au,[(0,l.Lk)("div",Ru,[(0,l.Lk)("p",null,[t[9]||(t[9]=(0,l.Lk)("strong",null,"Name:",-1)),(0,l.eW)(" "+(0,n.v_)(r.user.firstName)+" "+(0,n.v_)(r.user.lastName),1)]),(0,l.Lk)("p",null,[t[10]||(t[10]=(0,l.Lk)("strong",null,"Email:",-1)),(0,l.eW)(" "+(0,n.v_)(r.user.email),1)]),(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"Role:",-1)),(0,l.eW)(" "+(0,n.v_)(r.user.role),1)]),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.logout&&i.logout(...e)),class:"btn btn-secondary"},"Logout")])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Iu,[t[13]||(t[13]=(0,l.Lk)("h5",null,"Test Secured Endpoint",-1)),(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.testSecuredEndpoint&&i.testSecuredEndpoint(...e)),class:"btn btn-info",disabled:!r.user}," Test Chapter Access with Authentication ",8,Mu),r.securedTestResult?((0,l.uX)(),(0,l.CE)("div",Du,[(0,l.Lk)("div",{class:(0,n.C4)(["alert",r.securedTestResult.success?"alert-success":"alert-danger"])},(0,n.v_)(r.securedTestResult.message),3)])):(0,l.Q3)("",!0)])])])])}var Nu={name:"Login",data(){return{credentials:{username:"testuser",password:"password123"},user:null,loading:!1,error:null,success:null,securedTestResult:null}},methods:{async login(){this.loading=!0,this.error=null,this.success=null;try{const e={...this.credentials,action:"login"},t=await ha.A.post("/auth/register",e);if(t.data.success){const e={username:t.data.username,action:t.data.action,loginTime:(new Date).toISOString()};this.user=e,this.success="Login successful! Redirecting to dashboard...",localStorage.setItem("user",JSON.stringify(e)),setTimeout(()=>{this.$router.push("/")},1500)}else this.error=t.data.message||"Login failed"}catch(e){console.error("Login error:",e),this.error=e.response?.data?.message||"Login failed. Please try again."}finally{this.loading=!1}},async logout(){try{await ha.A.post("/auth/logout"),this.user=null,this.success="Logout successful!",this.securedTestResult=null,localStorage.removeItem("user")}catch(e){console.error("Logout error:",e),this.user=null,localStorage.removeItem("user")}},async testSecuredEndpoint(){this.securedTestResult=null;try{const e=await ha.A.get("/auth/me");e.data.success?this.securedTestResult={success:!0,message:`✅ Authenticated access successful! Current user: ${e.data.user.firstName} ${e.data.user.lastName}`}:this.securedTestResult={success:!1,message:`❌ Authentication failed: ${e.data.message}`}}catch(e){console.error("Secured endpoint test error:",e),this.securedTestResult={success:!1,message:`❌ Error testing secured endpoint: ${e.response?.data?.message||e.message}`}}}},mounted(){const e=localStorage.getItem("user");if(e)try{this.user=JSON.parse(e)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user")}}};const _u=(0,P.A)(Nu,[["render",Fu],["__scopeId","data-v-2c41526c"]]);var Uu=_u;function Pu(e,t,a,s,n,o){const r=(0,l.g2)("Registration",!0);return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(r)])}const Wu={class:"container mt-5"},Xu={class:"row justify-content-center"},Bu={class:"col-md-8"},Ku={class:"card"},Vu={class:"card-body"},$u={key:0,class:"alert alert-success"},Ou={key:1,class:"alert alert-danger"},Qu={class:"row"},ju={class:"col-md-6"},Gu={class:"mb-3"},Ju={key:0,class:"invalid-feedback"},qu={class:"col-md-6"},Hu={class:"mb-3"},Yu={key:0,class:"invalid-feedback"},zu={class:"row"},Zu={class:"col-md-6"},em={class:"mb-3"},tm={key:0,class:"invalid-feedback"},am={class:"col-md-6"},sm={class:"mb-3"},lm={key:0,class:"invalid-feedback"},nm={class:"mb-3"},om={key:0,class:"invalid-feedback"},rm={class:"mb-3"},im=["value"],cm={key:0,class:"invalid-feedback"},dm={class:"row"},um={class:"col-md-6"},mm={class:"mb-3"},vm={class:"col-md-6"},bm={class:"mb-3"},pm={class:"mb-3"},hm={class:"d-grid"},gm=["disabled"],km={key:0,class:"spinner-border spinner-border-sm me-2"},ym={class:"text-center mt-3"};function Lm(e,t,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Wu,[(0,l.Lk)("div",Xu,[(0,l.Lk)("div",Bu,[(0,l.Lk)("div",Ku,[t[23]||(t[23]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",{class:"text-center"},"Join a Chapter"),(0,l.Lk)("p",{class:"text-center text-muted"},"Create your account to get started")],-1)),(0,l.Lk)("div",Vu,[(0,l.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)((...e)=>i.handleSubmit&&i.handleSubmit(...e),["prevent"]))},[r.successMessage?((0,l.uX)(),(0,l.CE)("div",$u,(0,n.v_)(r.successMessage),1)):(0,l.Q3)("",!0),r.errorMessage?((0,l.uX)(),(0,l.CE)("div",Ou,(0,n.v_)(r.errorMessage),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Qu,[(0,l.Lk)("div",ju,[(0,l.Lk)("div",Gu,[t[10]||(t[10]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":r.errors.firstName}]),id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.firstName=e),required:""},null,2),[[s.Jo,r.form.firstName]]),r.errors.firstName?((0,l.uX)(),(0,l.CE)("div",Ju,(0,n.v_)(r.errors.firstName),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",qu,[(0,l.Lk)("div",Hu,[t[11]||(t[11]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":r.errors.lastName}]),id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>r.form.lastName=e),required:""},null,2),[[s.Jo,r.form.lastName]]),r.errors.lastName?((0,l.uX)(),(0,l.CE)("div",Yu,(0,n.v_)(r.errors.lastName),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",zu,[(0,l.Lk)("div",Zu,[(0,l.Lk)("div",em,[t[12]||(t[12]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:(0,n.C4)(["form-control",{"is-invalid":r.errors.email}]),id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.form.email=e),required:""},null,2),[[s.Jo,r.form.email]]),r.errors.email?((0,l.uX)(),(0,l.CE)("div",tm,(0,n.v_)(r.errors.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",am,[(0,l.Lk)("div",sm,[t[13]||(t[13]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":r.errors.username}]),id:"username","onUpdate:modelValue":t[3]||(t[3]=e=>r.form.username=e),placeholder:"At least 3 characters",required:""},null,2),[[s.Jo,r.form.username]]),r.errors.username?((0,l.uX)(),(0,l.CE)("div",lm,(0,n.v_)(r.errors.username),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",nm,[t[14]||(t[14]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:(0,n.C4)(["form-control",{"is-invalid":r.errors.password}]),id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>r.form.password=e),placeholder:"At least 8 characters",required:""},null,2),[[s.Jo,r.form.password]]),r.errors.password?((0,l.uX)(),(0,l.CE)("div",om,(0,n.v_)(r.errors.password),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",rm,[t[16]||(t[16]=(0,l.Lk)("label",{for:"stateOfResidence",class:"form-label"},"State of Residence *",-1)),(0,l.bo)((0,l.Lk)("select",{class:(0,n.C4)(["form-select",{"is-invalid":r.errors.stateOfResidence}]),id:"stateOfResidence","onUpdate:modelValue":t[5]||(t[5]=e=>r.form.stateOfResidence=e),required:""},[t[15]||(t[15]=(0,l.Lk)("option",{value:""},"Choose your state...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.code,value:e.code},(0,n.v_)(e.name),9,im))),128))],2),[[s.u1,r.form.stateOfResidence]]),r.errors.stateOfResidence?((0,l.uX)(),(0,l.CE)("div",cm,(0,n.v_)(r.errors.stateOfResidence),1)):(0,l.Q3)("",!0),t[17]||(t[17]=(0,l.Lk)("small",{class:"form-text text-muted"}," We'll help you find chapters in your area after registration ",-1))]),(0,l.Lk)("div",dm,[(0,l.Lk)("div",um,[(0,l.Lk)("div",mm,[t[18]||(t[18]=(0,l.Lk)("label",{for:"major",class:"form-label"},"Major",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"major","onUpdate:modelValue":t[6]||(t[6]=e=>r.form.major=e),placeholder:"Your field of study"},null,512),[[s.Jo,r.form.major]])])]),(0,l.Lk)("div",vm,[(0,l.Lk)("div",bm,[t[19]||(t[19]=(0,l.Lk)("label",{for:"graduationYear",class:"form-label"},"Graduation Year",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"graduationYear","onUpdate:modelValue":t[7]||(t[7]=e=>r.form.graduationYear=e),placeholder:"e.g., 2025"},null,512),[[s.Jo,r.form.graduationYear]])])])]),(0,l.Lk)("div",pm,[t[20]||(t[20]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[8]||(t[8]=e=>r.form.phoneNumber=e),placeholder:"(optional)"},null,512),[[s.Jo,r.form.phoneNumber]])]),(0,l.Lk)("div",hm,[(0,l.Lk)("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:r.isSubmitting},[r.isSubmitting?((0,l.uX)(),(0,l.CE)("span",km)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(r.isSubmitting?"Creating Account...":"Create Account"),1)],8,gm)])],32),(0,l.Lk)("div",ym,[(0,l.Lk)("p",null,[t[22]||(t[22]=(0,l.eW)("Already have an account? ",-1)),(0,l.bF)(c,{to:"/login"},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.eW)("Login here",-1)])]),_:1})])])])])])])])}var fm={name:"Registration",data(){return{form:{firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},states:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"},{code:"DC",name:"District of Columbia"}],errors:{},successMessage:"",errorMessage:"",isSubmitting:!1}},methods:{validateForm(){this.errors={};let e=!0;return this.form.firstName.trim()?this.form.firstName.length>50&&(this.errors.firstName="First name must be 50 characters or less",e=!1):(this.errors.firstName="First name is required",e=!1),this.form.lastName.trim()?this.form.lastName.length>50&&(this.errors.lastName="Last name must be 50 characters or less",e=!1):(this.errors.lastName="Last name is required",e=!1),this.form.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email)||(this.errors.email="Please enter a valid email address",e=!1):(this.errors.email="Email is required",e=!1),this.form.username.trim()?this.form.username.length<3?(this.errors.username="Username must be at least 3 characters",e=!1):this.form.username.length>50&&(this.errors.username="Username must be 50 characters or less",e=!1):(this.errors.username="Username is required",e=!1),this.form.password?this.form.password.length<8&&(this.errors.password="Password must be at least 8 characters",e=!1):(this.errors.password="Password is required",e=!1),this.form.stateOfResidence||(this.errors.stateOfResidence="Please select your state of residence",e=!1),e},async handleSubmit(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{const{getApiBaseUrl:e}=await Promise.resolve().then(a.bind(a,889)),t=e(),s=await fetch(`${t}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),l=await s.json();s.ok?(this.successMessage=`Registration successful! Welcome ${l.username}!`,this.resetForm(),setTimeout(()=>{this.$router.push("/login")},2e3)):l.message?this.errorMessage=l.message:l.errors?this.errors=l.errors:this.errorMessage="Registration failed. Please try again."}catch(e){console.error("Registration error:",e),this.errorMessage="Network error. Please check your connection and try again."}finally{this.isSubmitting=!1}}},resetForm(){this.form={firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},this.errors={}}}};const wm=(0,P.A)(fm,[["render",Lm],["__scopeId","data-v-6da26cc1"]]);var Cm=wm,Em={name:"RegistrationView",components:{Registration:Cm}};const Sm=(0,P.A)(Em,[["render",Pu]]);var xm=Sm;const Tm={class:"container-fluid py-4"},Am={key:0,class:"mb-4"},Rm={class:"card bg-gradient-primary text-white"},Im={class:"card-body text-center py-4"},Mm={class:"row mb-4"},Dm={class:"col-md-8"},Fm={class:"input-group"},Nm=["disabled"],_m={class:"col-md-4"},Um={class:"btn-group w-100",role:"group"},Pm={key:1,class:"text-center py-5"},Wm={key:2,class:"alert alert-danger"},Xm={key:3,class:"text-center py-5"},Bm={class:"text-muted"},Km={key:0},Vm={key:1},$m={key:0,class:"mt-4"},Om={key:1,class:"mt-4"},Qm={class:"card bg-primary text-white mx-auto",style:{"max-width":"500px"}},jm={class:"card-body text-center py-4"},Gm={key:4,class:"row"},Jm={key:5,class:"row mt-5"},qm={class:"col-12"},Hm={"aria-label":"Blog pagination"},Ym={class:"pagination justify-content-center"},zm=["disabled"],Zm=["onClick"],ev=["disabled"],tv={class:"row mt-5"},av={class:"col-12"},sv={class:"card bg-light"},lv={class:"card-body text-center"},nv={class:"row"},ov={class:"col-md-4"},rv={class:"text-primary"},iv={class:"col-md-4"},cv={class:"text-primary"},dv={class:"col-md-4"},uv={class:"text-primary"};function mv(e,t,a,o,r,i){const c=(0,l.g2)("router-link"),d=(0,l.g2)("BlogCard");return(0,l.uX)(),(0,l.CE)("div",Tm,[t[28]||(t[28]=(0,l.Fv)('<div class="row mb-4" data-v-a9f417c0><div class="col-12" data-v-a9f417c0><div class="d-flex justify-content-between align-items-center" data-v-a9f417c0><div data-v-a9f417c0><h1 class="display-4 fw-bold text-primary" data-v-a9f417c0><i class="bi bi-journal-text me-3" data-v-a9f417c0></i>Campus Blog </h1><p class="lead text-muted" data-v-a9f417c0>Share your thoughts and connect with fellow students</p></div></div></div></div>',1)),o.currentUser?((0,l.uX)(),(0,l.CE)("div",Am,[(0,l.Lk)("div",Rm,[(0,l.Lk)("div",Im,[t[9]||(t[9]=(0,l.Lk)("h4",{class:"card-title mb-3"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)("Share Your Story ")],-1)),t[10]||(t[10]=(0,l.Lk)("p",{class:"card-text mb-3"}," Connect with fellow students by sharing your experiences, thoughts, and insights. ",-1)),(0,l.bF)(c,{to:"/blog/create",class:"btn btn-light btn-lg"},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"},null,-1),(0,l.eW)("Create New Post ",-1)])]),_:1})])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Mm,[(0,l.Lk)("div",Dm,[(0,l.Lk)("div",Fm,[t[11]||(t[11]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search blog posts...","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),onKeyup:t[1]||(t[1]=(0,s.jR)((...e)=>o.searchBlogs&&o.searchBlogs(...e),["enter"]))},null,544),[[s.Jo,o.searchQuery]]),(0,l.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[2]||(t[2]=(...e)=>o.searchBlogs&&o.searchBlogs(...e)),disabled:!o.searchQuery.trim()}," Search ",8,Nm),o.isSearchActive?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[3]||(t[3]=(...e)=>o.clearSearch&&o.clearSearch(...e))}," Clear ")):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",_m,[(0,l.Lk)("div",Um,[(0,l.Lk)("button",{type:"button",class:(0,n.C4)(["btn btn-outline-primary",{active:"recent"===o.viewMode}]),onClick:t[4]||(t[4]=e=>o.setViewMode("recent"))},[...t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-clock me-1"},null,-1),(0,l.eW)("Recent ",-1)])],2),(0,l.Lk)("button",{type:"button",class:(0,n.C4)(["btn btn-outline-primary",{active:"popular"===o.viewMode}]),onClick:t[5]||(t[5]=e=>o.setViewMode("popular"))},[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"bi bi-fire me-1"},null,-1),(0,l.eW)("Popular ",-1)])],2)])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",Pm,[...t[14]||(t[14]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,l.Lk)("p",{class:"mt-2"},"Loading blog posts...",-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",Wm,[t[15]||(t[15]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error),1)])):0!==o.blogs.length||o.loading?((0,l.uX)(),(0,l.CE)("div",Gm,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.blogs,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-lg-6 col-xl-4 mb-4"},[(0,l.bF)(d,{blog:e,onBlogUpdated:o.handleBlogUpdated,onBlogDeleted:o.handleBlogDeleted},null,8,["blog","onBlogUpdated","onBlogDeleted"])]))),128))])):((0,l.uX)(),(0,l.CE)("div",Xm,[t[20]||(t[20]=(0,l.Lk)("i",{class:"bi bi-journal-x display-1 text-muted"},null,-1)),t[21]||(t[21]=(0,l.Lk)("h3",{class:"mt-3 text-muted"},"No blog posts found",-1)),(0,l.Lk)("p",Bm,[o.isSearchActive?((0,l.uX)(),(0,l.CE)("span",Km,"Try adjusting your search terms.")):((0,l.uX)(),(0,l.CE)("span",Vm,"Be the first to share your story!"))]),o.currentUser?((0,l.uX)(),(0,l.CE)("div",$m,[(0,l.bF)(c,{to:"/blog/create",class:"btn btn-primary btn-lg"},{default:(0,l.k6)(()=>[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("Write the First Post ",-1)])]),_:1})])):(0,l.Q3)("",!0),o.currentUser?((0,l.uX)(),(0,l.CE)("div",Om,[(0,l.Lk)("div",Qm,[(0,l.Lk)("div",jm,[t[18]||(t[18]=(0,l.Lk)("h5",{class:"card-title mb-3"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)("Share Your Story ")],-1)),t[19]||(t[19]=(0,l.Lk)("p",{class:"card-text mb-3"}," Connect with fellow students by sharing your experiences, thoughts, and insights. ",-1)),(0,l.bF)(c,{to:"/blog/create",class:"btn btn-light btn-lg"},{default:(0,l.k6)(()=>[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"},null,-1),(0,l.eW)("Create New Post ",-1)])]),_:1})])])])):(0,l.Q3)("",!0)])),o.totalPages>1?((0,l.uX)(),(0,l.CE)("div",Jm,[(0,l.Lk)("div",qm,[(0,l.Lk)("nav",Hm,[(0,l.Lk)("ul",Ym,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:0===o.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[6]||(t[6]=e=>o.changePage(o.currentPage-1)),disabled:0===o.currentPage},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1),(0,l.eW)(" Previous ",-1)])],8,zm)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t=>o.changePage(e)},(0,n.v_)(e+1),9,Zm)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage>=o.totalPages-1}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[7]||(t[7]=e=>o.changePage(o.currentPage+1)),disabled:o.currentPage>=o.totalPages-1},[...t[23]||(t[23]=[(0,l.eW)(" Next ",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)])],8,ev)],2)])])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",tv,[(0,l.Lk)("div",av,[(0,l.Lk)("div",sv,[(0,l.Lk)("div",lv,[(0,l.Lk)("div",nv,[(0,l.Lk)("div",ov,[(0,l.Lk)("h4",rv,(0,n.v_)(o.totalBlogs.toLocaleString()),1),t[24]||(t[24]=(0,l.Lk)("p",{class:"text-muted mb-0"},"Total Posts",-1))]),(0,l.Lk)("div",iv,[(0,l.Lk)("h4",cv,(0,n.v_)(o.recentBlogs.length),1),t[25]||(t[25]=(0,l.Lk)("p",{class:"text-muted mb-0"},"This Week",-1))]),(0,l.Lk)("div",dv,[(0,l.Lk)("h4",uv,(0,n.v_)(o.activeAuthors),1),t[26]||(t[26]=(0,l.Lk)("p",{class:"text-muted mb-0"},"Active Authors",-1))])])])])])]),o.currentUser?((0,l.uX)(),(0,l.Wv)(c,{key:6,to:"/blog/create",class:"btn btn-primary btn-lg position-fixed d-md-none floating-action-btn",style:{bottom:"20px",right:"20px","z-index":"1000","border-radius":"50%",width:"60px",height:"60px",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 4px 12px rgba(13, 110, 253, 0.3)"},title:"Write a new post"},{default:(0,l.k6)(()=>[...t[27]||(t[27]=[(0,l.Lk)("i",{class:"bi bi-plus-lg fs-4"},null,-1)])]),_:1})):(0,l.Q3)("",!0)])}const vv={async getAllBlogs(e=0,t=10){try{const a=await ha.A.get(`/blogs?page=${e}&size=${t}`);return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to fetch blogs"}}},async getAllBlogsList(){try{const e=await ha.A.get("/blogs/list");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||"Failed to fetch blogs"}}},async getBlogById(e){try{const t=await ha.A.get(`/blogs/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch blog"}}},async createBlog(e){try{const t=await ha.A.post("/blogs",e);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to create blog"}}},async updateBlog(e,t){try{const a=await ha.A.put(`/blogs/${e}`,t);return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to update blog"}}},async deleteBlog(e){try{const t=await ha.A.delete(`/blogs/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to delete blog"}}},async publishBlog(e){try{const t=await ha.A.put(`/blogs/${e}/publish`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to publish blog"}}},async unpublishBlog(e){try{const t=await ha.A.put(`/blogs/${e}/unpublish`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to unpublish blog"}}},async getBlogsByAuthor(e,t=0,a=10,s=!1){try{const l=await ha.A.get(`/blogs/author/${e}?page=${t}&size=${a}&includeUnpublished=${s}`);return{success:!0,data:l.data}}catch(l){return{success:!1,error:l.response?.data?.message||"Failed to fetch author blogs"}}},async searchBlogs(e){try{const t=await ha.A.get(`/blogs/search?keyword=${encodeURIComponent(e)}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to search blogs"}}},async getRecentBlogs(e=7){try{const t=await ha.A.get(`/blogs/recent?days=${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch recent blogs"}}},async getPopularBlogs(e=10){try{const t=await ha.A.get(`/blogs/popular?limit=${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch popular blogs"}}},async getBlogStats(){try{const e=await ha.A.get("/blogs/stats");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||"Failed to fetch blog stats"}}},async getCommentsByBlog(e,t=0,a=20){try{const s=await ha.A.get(`/comments/blog/${e}?page=${t}&size=${a}`);return{success:!0,data:s.data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to fetch comments"}}},async getCommentsByBlogList(e){try{const t=await ha.A.get(`/comments/blog/${e}/list`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch comments"}}},async getCommentsByAuthor(e){try{const t=await ha.A.get(`/comments/author/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch author comments"}}},async createComment(e){try{const t=await ha.A.post("/comments",e);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to create comment"}}},async createCommentForBlog(e,t,a){try{const s=await ha.A.post(`/comments/blog/${e}`,{content:t,authorId:a});return{success:!0,data:s.data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to create comment"}}},async updateComment(e,t){try{const a=await ha.A.put(`/comments/${e}`,{content:t});return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to update comment"}}},async deleteComment(e){try{const t=await ha.A.delete(`/comments/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to delete comment"}}},async getCommentCount(e){try{const t=await ha.A.get(`/comments/blog/${e}/count`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch comment count"}}}},bv={class:"card h-100 blog-card"},pv={class:"card-header border-0 bg-transparent"},hv={class:"d-flex justify-content-between align-items-start"},gv={class:"d-flex align-items-center"},kv={class:"mb-0 fw-semibold"},yv={class:"text-muted"},Lv={key:0,class:"dropdown"},fv={class:"dropdown-menu dropdown-menu-end"},wv={class:"card-body"},Cv={class:"card-title"},Ev={class:"card-text text-muted"},Sv={key:0},xv={class:"blog-meta d-flex justify-content-between align-items-center text-muted"},Tv={class:"d-flex align-items-center"},Av={class:"me-3"},Rv={key:0},Iv={class:"card-footer border-0 bg-transparent"},Mv={class:"d-flex justify-content-between align-items-center"},Dv={class:"blog-status"},Fv={key:0,class:"badge bg-warning text-dark"},Nv={key:1,class:"badge bg-success"},_v=["id"],Uv={class:"modal-dialog"},Pv={class:"modal-content"},Wv={class:"modal-body"},Xv={class:"modal-footer"},Bv=["disabled"],Kv={key:0,class:"spinner-border spinner-border-sm me-2"};function Vv(e,t,a,s,o,r){const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",bv,[(0,l.Lk)("div",pv,[(0,l.Lk)("div",hv,[(0,l.Lk)("div",gv,[t[5]||(t[5]=(0,l.Lk)("div",{class:"author-avatar me-2"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-4 text-secondary"})],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("h6",kv,(0,n.v_)(a.blog.author?.firstName)+" "+(0,n.v_)(a.blog.author?.lastName),1),(0,l.Lk)("small",yv,"@"+(0,n.v_)(a.blog.author?.username),1)])]),s.canEditBlog?((0,l.uX)(),(0,l.CE)("div",Lv,[t[11]||(t[11]=(0,l.Lk)("button",{class:"btn btn-link btn-sm text-muted",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",fv,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>s.editBlog&&s.editBlog(...e))},[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit ",-1)])])]),(0,l.Lk)("li",null,[a.blog.published?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"dropdown-item",onClick:t[1]||(t[1]=(...e)=>s.togglePublishStatus&&s.togglePublishStatus(...e))},[...t[7]||(t[7]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-2"},null,-1),(0,l.eW)("Unpublish ",-1)])])):((0,l.uX)(),(0,l.CE)("button",{key:1,class:"dropdown-item",onClick:t[2]||(t[2]=(...e)=>s.togglePublishStatus&&s.togglePublishStatus(...e))},[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-eye me-2"},null,-1),(0,l.eW)("Publish ",-1)])]))]),t[10]||(t[10]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t[3]||(t[3]=(...e)=>s.deleteBlog&&s.deleteBlog(...e))},[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete ",-1)])])])])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",wv,[(0,l.Lk)("h5",Cv,[(0,l.bF)(i,{to:`/blog/${a.blog.id}`,class:"text-decoration-none text-dark"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(a.blog.title),1)]),_:1},8,["to"])]),(0,l.Lk)("p",Ev,[(0,l.eW)((0,n.v_)(s.truncatedContent)+" ",1),s.isContentTruncated?((0,l.uX)(),(0,l.CE)("span",Sv,"...")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",xv,[(0,l.Lk)("small",null,[t[12]||(t[12]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.formatDate(a.blog.createdAt)),1)]),(0,l.Lk)("div",Tv,[(0,l.Lk)("small",Av,[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-chat me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.commentCount)+" "+(0,n.v_)(1===s.commentCount?"comment":"comments"),1)]),a.blog.updatedAt&&a.blog.updatedAt!==a.blog.createdAt?((0,l.uX)(),(0,l.CE)("small",Rv,[...t[14]||(t[14]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-1"},null,-1),(0,l.eW)(" Updated ",-1)])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Iv,[(0,l.Lk)("div",Mv,[(0,l.bF)(i,{to:`/blog/${a.blog.id}`,class:"btn btn-outline-primary btn-sm"},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-1"},null,-1),(0,l.eW)("Read More ",-1)])]),_:1},8,["to"]),(0,l.Lk)("div",Dv,[a.blog.published?((0,l.uX)(),(0,l.CE)("span",Nv,[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",Fv,[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])])]),(0,l.Lk)("div",{class:"modal fade",id:`deleteModal-${a.blog.id}`,tabindex:"-1"},[(0,l.Lk)("div",Uv,[(0,l.Lk)("div",Pv,[t[22]||(t[22]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Delete Blog Post"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",Wv,[(0,l.Lk)("p",null,[t[18]||(t[18]=(0,l.eW)('Are you sure you want to delete "',-1)),(0,l.Lk)("strong",null,(0,n.v_)(a.blog.title),1),t[19]||(t[19]=(0,l.eW)('"?',-1))]),t[20]||(t[20]=(0,l.Lk)("p",{class:"text-muted"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",Xv,[t[21]||(t[21]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDelete&&s.confirmDelete(...e)),disabled:s.deleting},[s.deleting?((0,l.uX)(),(0,l.CE)("span",Kv)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(s.deleting?"Deleting...":"Delete"),1)],8,Bv)])])])],8,_v)])}var $v={name:"BlogCard",props:{blog:{type:Object,required:!0}},emits:["blog-updated","blog-deleted"],setup(e,{emit:t}){const a=(0,Be.rd)(),s=(0,D.KR)(null),n=(0,D.KR)(0),o=(0,D.KR)(!1),r=(0,D.KR)(!1),i=(0,l.EW)(()=>s.value&&s.value.id===e.blog.author?.id),c=(0,l.EW)(()=>{if(!e.blog.content)return"";const t=150;return e.blog.content.length>t?e.blog.content.substring(0,t):e.blog.content}),d=(0,l.EW)(()=>e.blog.content&&e.blog.content.length>150),u=()=>{try{const e=localStorage.getItem("user");s.value=e?JSON.parse(e):null}catch(e){console.error("Error parsing stored user:",e),s.value=null}},m=async()=>{try{const t=await vv.getCommentCount(e.blog.id);t.success&&(n.value=t.data.count||0)}catch(t){console.error("Error loading comment count:",t),n.value=0}},v=e=>{if(!e)return"";try{const t=new Date(e),a=new Date,s=(a-t)/36e5;return s<24?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):s<168?t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return console.error("Error formatting date:",t),"Invalid date"}},b=()=>{a.push(`/blog/create?edit=${e.blog.id}`)},p=async()=>{r.value=!0;try{let a;a=e.blog.published?await vv.unpublishBlog(e.blog.id):await vv.publishBlog(e.blog.id),a.success?t("blog-updated",a.data.blog):alert(a.error||"Failed to update blog status")}catch(a){console.error("Error toggling publish status:",a),alert("Failed to update blog status")}finally{r.value=!1}},h=()=>{const t=document.getElementById(`deleteModal-${e.blog.id}`);if(t){const e=new bootstrap.Modal(t);e.show()}},g=async()=>{o.value=!0;try{const a=await vv.deleteBlog(e.blog.id);if(a.success){const a=document.getElementById(`deleteModal-${e.blog.id}`);if(a){const e=bootstrap.Modal.getInstance(a);e&&e.hide()}t("blog-deleted",e.blog.id)}else alert(a.error||"Failed to delete blog")}catch(a){console.error("Error deleting blog:",a),alert("Failed to delete blog")}finally{o.value=!1}};return(0,l.sV)(()=>{u(),m()}),{currentUser:s,commentCount:n,deleting:o,publishing:r,canEditBlog:i,truncatedContent:c,isContentTruncated:d,formatDate:v,editBlog:b,togglePublishStatus:p,deleteBlog:h,confirmDelete:g}}};const Ov=(0,P.A)($v,[["render",Vv],["__scopeId","data-v-0e76ad19"]]);var Qv=Ov,jv={name:"Blog",components:{BlogCard:Qv},setup(){const e=(0,D.KR)([]),t=(0,D.KR)([]),a=(0,D.KR)(!0),s=(0,D.KR)(""),n=(0,D.KR)(""),o=(0,D.KR)(!1),r=(0,D.KR)("recent"),i=(0,D.KR)(0),c=(0,D.KR)(0),d=(0,D.KR)(0),u=6,m=(0,D.KR)(0),v=(0,D.KR)(0),b=(0,D.KR)(null),p=(0,l.EW)(()=>{const e=[],t=Math.max(0,i.value-2),a=Math.min(c.value-1,i.value+2);for(let s=t;s<=a;s++)e.push(s);return e}),h=()=>{try{const e=localStorage.getItem("user");b.value=e?JSON.parse(e):null}catch(s){console.error("Error parsing stored user:",s),b.value=null}},g=async(t=0)=>{a.value=!0,s.value="";try{const a=await vv.getAllBlogs(t,u);a.success?(e.value=a.data.blogs||[],i.value=a.data.currentPage||0,c.value=a.data.totalPages||0,d.value=a.data.totalElements||0):(s.value=a.error,e.value=[])}catch(l){s.value="Failed to load blogs",console.error("Error loading blogs:",l)}finally{a.value=!1}},k=async()=>{try{const e=await vv.getRecentBlogs(7);e.success&&(t.value=e.data)}catch(e){console.error("Error loading recent blogs:",e)}},y=async(t=0)=>{a.value=!0,s.value="";try{const t=await vv.getPopularBlogs(u);t.success?(e.value=t.data,i.value=0,c.value=1,d.value=t.data.length):(s.value=t.error,e.value=[])}catch(l){s.value="Failed to load popular blogs",console.error("Error loading popular blogs:",l)}finally{a.value=!1}},L=async()=>{try{const e=await vv.getBlogStats();e.success&&(m.value=e.data.totalPublishedBlogs||0)}catch(e){console.error("Error loading blog stats:",e)}},f=async()=>{if(n.value.trim()){a.value=!0,s.value="",o.value=!0;try{const t=await vv.searchBlogs(n.value.trim());t.success?(e.value=t.data,i.value=0,c.value=1,d.value=t.data.length):(s.value=t.error,e.value=[])}catch(t){s.value="Failed to search blogs",console.error("Error searching blogs:",t)}finally{a.value=!1}}},w=()=>{n.value="",o.value=!1,C("recent")},C=e=>{r.value=e,i.value=0,"recent"===e?g(0):"popular"===e&&y(0)},E=e=>{e>=0&&e<c.value&&!o.value&&(i.value=e,"recent"===r.value?g(e):"popular"===r.value&&y(e))},S=t=>{const a=e.value.findIndex(e=>e.id===t.id);-1!==a&&(e.value[a]=t)},x=t=>{e.value=e.value.filter(e=>e.id!==t),m.value=Math.max(0,m.value-1)};return(0,l.wB)(()=>b.value,()=>{g(i.value)}),(0,l.sV)(()=>{h(),g(),k(),L(),setTimeout(()=>{const t=new Set(e.value.map(e=>e.author?.id).filter(e=>e));v.value=t.size},1e3)}),{blogs:e,recentBlogs:t,loading:a,error:s,searchQuery:n,isSearchActive:o,viewMode:r,currentPage:i,totalPages:c,totalElements:d,totalBlogs:m,activeAuthors:v,currentUser:b,visiblePages:p,loadBlogs:g,searchBlogs:f,clearSearch:w,setViewMode:C,changePage:E,handleBlogUpdated:S,handleBlogDeleted:x}}};const Gv=(0,P.A)(jv,[["render",mv],["__scopeId","data-v-a9f417c0"]]);var Jv=Gv;const qv={class:"container-fluid py-4"},Hv={key:0,class:"text-center py-5"},Yv={key:1,class:"alert alert-danger"},zv={class:"mt-2"},Zv={key:2,class:"row"},eb={class:"col-lg-8"},tb={class:"card shadow-sm mb-4"},ab={class:"card-header border-0 bg-white"},sb={class:"d-flex justify-content-between align-items-start"},lb={key:0,class:"dropdown"},nb={class:"dropdown-menu dropdown-menu-end"},ob={class:"card-body"},rb={class:"display-5 fw-bold mb-4"},ib={class:"d-flex align-items-center mb-4 pb-3 border-bottom"},cb={class:"flex-grow-1"},db={class:"mb-1 fw-semibold"},ub={class:"text-muted small"},mb={class:"me-3"},vb={class:"me-3"},bb={key:0,class:"me-3"},pb={class:"blog-status"},hb={key:0,class:"badge bg-warning text-dark"},gb={key:1,class:"badge bg-success"},kb={class:"blog-content",style:{"white-space":"pre-wrap","line-height":"1.7","font-size":"1.1rem"}},yb={class:"card shadow-sm"},Lb={class:"card-header"},fb={class:"mb-0 fw-semibold"},wb={key:0,class:"card-body border-bottom"},Cb={class:"mb-3"},Eb={class:"form-text"},Sb={class:"d-flex justify-content-between align-items-center"},xb={class:"text-muted"},Tb=["disabled"],Ab={key:0,class:"spinner-border spinner-border-sm me-2"},Rb={key:1,class:"bi bi-send me-2"},Ib={key:1,class:"card-body border-bottom bg-light"},Mb={class:"text-center"},Db={class:"card-body p-0"},Fb={key:0,class:"text-center py-4 text-muted"},Nb={key:1,class:"comments-list"},_b={class:"d-flex align-items-start"},Ub={class:"flex-grow-1"},Pb={class:"d-flex justify-content-between align-items-start mb-2"},Wb={class:"mb-0 fw-semibold"},Xb={class:"text-muted"},Bb={key:0},Kb={key:0,class:"dropdown"},Vb={class:"dropdown-menu dropdown-menu-end"},$b={key:0},Ob=["onClick"],Qb=["onClick"],jb={key:0,class:"comment-content",style:{"white-space":"pre-wrap"}},Gb={key:1,class:"edit-comment-form"},Jb={class:"d-flex justify-content-end gap-2"},qb=["disabled"],Hb={key:0,class:"spinner-border spinner-border-sm me-1"},Yb={class:"col-lg-4"},zb={class:"card shadow-sm mb-4"},Zb={class:"card-body text-center"},ep={class:"fw-semibold"},tp={class:"text-muted mb-2"},ap={class:"text-muted"},sp={class:"row text-center"},lp={class:"col"},np={class:"text-primary"},op={class:"col"},rp={class:"text-primary"},ip={key:0,class:"card shadow-sm"},cp={class:"card-header"},dp={class:"mb-0 fw-semibold"},up={class:"card-body p-0"},mp={class:"mb-1 fw-semibold text-dark"},vp={class:"text-muted"},bp={class:"modal fade",id:"deleteBlogModal",tabindex:"-1"},pp={class:"modal-dialog"},hp={class:"modal-content"},gp={class:"modal-body"},kp={class:"modal-footer"},yp=["disabled"],Lp={key:0,class:"spinner-border spinner-border-sm me-2"};function fp(e,t,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",qv,[o.loading?((0,l.uX)(),(0,l.CE)("div",Hv,[...t[8]||(t[8]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading post...")],-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",Yv,[t[10]||(t[10]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error)+" ",1),(0,l.Lk)("div",zv,[(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1})])])):o.blog?((0,l.uX)(),(0,l.CE)("div",Zv,[(0,l.Lk)("div",eb,[(0,l.Lk)("div",tb,[(0,l.Lk)("div",ab,[(0,l.Lk)("div",sb,[(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-secondary btn-sm"},{default:(0,l.k6)(()=>[...t[11]||(t[11]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1}),o.canEditBlog?((0,l.uX)(),(0,l.CE)("div",lb,[t[15]||(t[15]=(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",nb,[(0,l.Lk)("li",null,[(0,l.bF)(c,{to:`/blog/create?edit=${o.blog.id}`,class:"dropdown-item"},{default:(0,l.k6)(()=>[...t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit Post ",-1)])]),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>o.togglePublishStatus&&o.togglePublishStatus(...e))},[(0,l.Lk)("i",{class:(0,n.C4)([o.blog.published?"bi bi-eye-slash":"bi bi-eye","me-2"])},null,2),(0,l.eW)(" "+(0,n.v_)(o.blog.published?"Unpublish":"Publish"),1)])]),t[14]||(t[14]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t[1]||(t[1]=(...e)=>o.deleteBlog&&o.deleteBlog(...e))},[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete Post ",-1)])])])])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",ob,[(0,l.Lk)("h1",rb,(0,n.v_)(o.blog.title),1),(0,l.Lk)("div",ib,[t[21]||(t[21]=(0,l.Lk)("div",{class:"author-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-3 text-secondary"})],-1)),(0,l.Lk)("div",cb,[(0,l.Lk)("h6",db,(0,n.v_)(o.blog.author?.firstName)+" "+(0,n.v_)(o.blog.author?.lastName),1),(0,l.Lk)("div",ub,[(0,l.Lk)("span",mb,"@"+(0,n.v_)(o.blog.author?.username),1),(0,l.Lk)("span",vb,[t[16]||(t[16]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.formatDate(o.blog.createdAt)),1)]),o.blog.updatedAt&&o.blog.updatedAt!==o.blog.createdAt?((0,l.uX)(),(0,l.CE)("span",bb,[t[17]||(t[17]=(0,l.Lk)("i",{class:"bi bi-pencil-square me-1"},null,-1)),(0,l.eW)(" Updated "+(0,n.v_)(o.formatDate(o.blog.updatedAt)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("span",null,[t[18]||(t[18]=(0,l.Lk)("i",{class:"bi bi-chat me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.comments.length)+" "+(0,n.v_)(1===o.comments.length?"comment":"comments"),1)])])]),(0,l.Lk)("div",pb,[o.blog.published?((0,l.uX)(),(0,l.CE)("span",gb,[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",hb,[...t[19]||(t[19]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])]),(0,l.Lk)("div",kb,(0,n.v_)(o.blog.content),1)])]),(0,l.Lk)("div",yb,[(0,l.Lk)("div",Lb,[(0,l.Lk)("h5",fb,[t[22]||(t[22]=(0,l.Lk)("i",{class:"bi bi-chat-dots me-2"},null,-1)),(0,l.eW)(" Comments ("+(0,n.v_)(o.comments.length)+") ",1)])]),o.currentUser&&o.blog.published?((0,l.uX)(),(0,l.CE)("div",wb,[(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>o.addComment&&o.addComment(...e),["prevent"]))},[(0,l.Lk)("div",Cb,[t[23]||(t[23]=(0,l.Lk)("label",{for:"newComment",class:"form-label fw-semibold"},"Add a comment",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"newComment",class:"form-control",rows:"3","onUpdate:modelValue":t[2]||(t[2]=e=>o.newComment=e),placeholder:"Share your thoughts...",maxlength:"1000",required:""},null,512),[[s.Jo,o.newComment]]),(0,l.Lk)("div",Eb,(0,n.v_)(o.newComment.length)+"/1000 characters ",1)]),(0,l.Lk)("div",Sb,[(0,l.Lk)("small",xb," Posting as "+(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:!o.newComment.trim()||o.addingComment},[o.addingComment?((0,l.uX)(),(0,l.CE)("span",Ab)):((0,l.uX)(),(0,l.CE)("i",Rb)),(0,l.eW)(" "+(0,n.v_)(o.addingComment?"Posting...":"Post Comment"),1)],8,Tb)])],32)])):!o.currentUser&&o.blog.published?((0,l.uX)(),(0,l.CE)("div",Ib,[(0,l.Lk)("div",Mb,[t[25]||(t[25]=(0,l.Lk)("p",{class:"mb-2 text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" Please log in to join the conversation ")],-1)),(0,l.bF)(c,{to:"/login",class:"btn btn-outline-primary btn-sm"},{default:(0,l.k6)(()=>[...t[24]||(t[24]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1),(0,l.eW)("Log In ",-1)])]),_:1})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Db,[0===o.comments.length?((0,l.uX)(),(0,l.CE)("div",Fb,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-chat display-4 opacity-25"},null,-1),(0,l.Lk)("p",{class:"mt-2"},"No comments yet. Be the first to share your thoughts!",-1)])])):((0,l.uX)(),(0,l.CE)("div",Nb,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.comments,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["comment-item p-4",{"border-bottom":a<o.comments.length-1}])},[(0,l.Lk)("div",_b,[t[30]||(t[30]=(0,l.Lk)("div",{class:"author-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-5 text-secondary"})],-1)),(0,l.Lk)("div",Ub,[(0,l.Lk)("div",Pb,[(0,l.Lk)("div",null,[(0,l.Lk)("h6",Wb,(0,n.v_)(e.author?.firstName)+" "+(0,n.v_)(e.author?.lastName),1),(0,l.Lk)("small",Xb,[(0,l.eW)(" @"+(0,n.v_)(e.author?.username)+" • "+(0,n.v_)(o.formatDate(e.createdAt))+" ",1),e.updatedAt&&e.updatedAt!==e.createdAt?((0,l.uX)(),(0,l.CE)("span",Bb," • edited ")):(0,l.Q3)("",!0)])]),o.canEditComment(e)?((0,l.uX)(),(0,l.CE)("div",Kb,[t[29]||(t[29]=(0,l.Lk)("button",{class:"btn btn-link btn-sm text-muted p-0",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",Vb,[e.author?.id===o.currentUser?.id?((0,l.uX)(),(0,l.CE)("li",$b,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t=>o.editComment(e)},[...t[27]||(t[27]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit ",-1)])],8,Ob)])):(0,l.Q3)("",!0),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t=>o.deleteComment(e)},[...t[28]||(t[28]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete ",-1)])],8,Qb)])])])):(0,l.Q3)("",!0)]),o.editingComment?.id!==e.id?((0,l.uX)(),(0,l.CE)("div",jb,(0,n.v_)(e.content),1)):((0,l.uX)(),(0,l.CE)("div",Gb,[(0,l.bo)((0,l.Lk)("textarea",{class:"form-control mb-2",rows:"3","onUpdate:modelValue":t[4]||(t[4]=e=>o.editCommentContent=e),maxlength:"1000"},null,512),[[s.Jo,o.editCommentContent]]),(0,l.Lk)("div",Jb,[(0,l.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:t[5]||(t[5]=(...e)=>o.cancelEditComment&&o.cancelEditComment(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-sm btn-primary",onClick:t[6]||(t[6]=(...e)=>o.saveEditComment&&o.saveEditComment(...e)),disabled:!o.editCommentContent.trim()||o.updatingComment},[o.updatingComment?((0,l.uX)(),(0,l.CE)("span",Hb)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.updatingComment?"Saving...":"Save"),1)],8,qb)])]))])])],2))),128))]))])])]),(0,l.Lk)("div",Yb,[(0,l.Lk)("div",zb,[t[35]||(t[35]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h6",{class:"mb-0 fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-person me-2"}),(0,l.eW)("About the Author ")])],-1)),(0,l.Lk)("div",Zb,[t[33]||(t[33]=(0,l.Lk)("div",{class:"author-avatar mb-3 mx-auto"},[(0,l.Lk)("i",{class:"bi bi-person-circle display-4 text-secondary"})],-1)),(0,l.Lk)("h6",ep,(0,n.v_)(o.blog.author?.firstName)+" "+(0,n.v_)(o.blog.author?.lastName),1),(0,l.Lk)("p",tp,"@"+(0,n.v_)(o.blog.author?.username),1),(0,l.Lk)("small",ap,(0,n.v_)(o.blog.author?.role),1),t[34]||(t[34]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",sp,[(0,l.Lk)("div",lp,[(0,l.Lk)("h6",np,(0,n.v_)(o.authorStats.totalPosts),1),t[31]||(t[31]=(0,l.Lk)("small",{class:"text-muted"},"Posts",-1))]),(0,l.Lk)("div",op,[(0,l.Lk)("h6",rp,(0,n.v_)(o.authorStats.totalComments),1),t[32]||(t[32]=(0,l.Lk)("small",{class:"text-muted"},"Comments",-1))])])])]),o.recentPosts.length>0?((0,l.uX)(),(0,l.CE)("div",ip,[(0,l.Lk)("div",cp,[(0,l.Lk)("h6",dp,[t[36]||(t[36]=(0,l.Lk)("i",{class:"bi bi-journal-text me-2"},null,-1)),(0,l.eW)("More from "+(0,n.v_)(o.blog.author?.firstName),1)])]),(0,l.Lk)("div",up,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.recentPosts,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"p-3 border-bottom"},[(0,l.bF)(c,{to:`/blog/${e.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.Lk)("h6",mp,(0,n.v_)(e.title),1),(0,l.Lk)("small",vp,[t[37]||(t[37]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.formatDate(e.createdAt)),1)])]),_:2},1032,["to"])]))),128))])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",bp,[(0,l.Lk)("div",pp,[(0,l.Lk)("div",hp,[t[42]||(t[42]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Delete Blog Post"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",gp,[(0,l.Lk)("p",null,[t[38]||(t[38]=(0,l.eW)('Are you sure you want to delete "',-1)),(0,l.Lk)("strong",null,(0,n.v_)(o.blog?.title),1),t[39]||(t[39]=(0,l.eW)('"?',-1))]),t[40]||(t[40]=(0,l.Lk)("p",{class:"text-muted"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",kp,[t[41]||(t[41]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[7]||(t[7]=(...e)=>o.confirmDeleteBlog&&o.confirmDeleteBlog(...e)),disabled:o.deletingBlog},[o.deletingBlog?((0,l.uX)(),(0,l.CE)("span",Lp)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.deletingBlog?"Deleting...":"Delete"),1)],8,yp)])])])])])}var wp={name:"BlogDetail",setup(){const e=(0,Be.rd)(),t=(0,Be.lq)(),a=(0,D.KR)(null),s=(0,D.KR)([]),n=(0,D.KR)([]),o=(0,D.KR)(null),r=(0,D.KR)(!0),i=(0,D.KR)(""),c=(0,D.KR)(""),d=(0,D.KR)(!1),u=(0,D.KR)(null),m=(0,D.KR)(""),v=(0,D.KR)(!1),b=(0,D.KR)(!1),p=(0,D.KR)({totalPosts:0,totalComments:0}),h=(0,l.EW)(()=>o.value&&a.value&&o.value.id===a.value.author?.id),g=e=>o.value&&(o.value.id===e.author?.id||o.value.id===a.value?.author?.id),k=()=>{try{const e=localStorage.getItem("user");o.value=e?JSON.parse(e):null}catch(i){console.error("Error parsing stored user:",i),o.value=null}},y=async()=>{r.value=!0,i.value="";try{const e=t.params.id,s=await vv.getBlogById(e);s.success?(a.value=s.data,await L(),await f(),await w()):i.value=s.error}catch(e){i.value="Failed to load blog post",console.error("Error loading blog:",e)}finally{r.value=!1}},L=async()=>{if(a.value)try{const e=await vv.getCommentsByBlogList(a.value.id);e.success&&(s.value=e.data)}catch(i){console.error("Error loading comments:",i)}},f=async()=>{if(a.value?.author)try{const[e,t]=await Promise.all([vv.getBlogsByAuthor(a.value.author.id),vv.getCommentsByAuthor(a.value.author.id)]);p.value={totalPosts:e.success&&e.data.blogs?.length||0,totalComments:t.success&&t.data?.length||0}}catch(i){console.error("Error loading author stats:",i)}},w=async()=>{if(a.value?.author)try{const e=await vv.getBlogsByAuthor(a.value.author.id,0,5);e.success&&(n.value=(e.data.blogs||[]).filter(e=>e.id!==a.value.id).slice(0,3))}catch(i){console.error("Error loading recent posts:",i)}},C=async()=>{if(c.value.trim()&&o.value&&a.value){d.value=!0;try{const e=await vv.createCommentForBlog(a.value.id,c.value.trim(),o.value.id);e.success?(c.value="",await L()):alert(e.error||"Failed to add comment")}catch(i){console.error("Error adding comment:",i),alert("Failed to add comment")}finally{d.value=!1}}},E=e=>{u.value=e,m.value=e.content},S=()=>{u.value=null,m.value=""},x=async()=>{if(m.value.trim()&&u.value){v.value=!0;try{const e=await vv.updateComment(u.value.id,m.value.trim());e.success?(await L(),S()):alert(e.error||"Failed to update comment")}catch(i){console.error("Error updating comment:",i),alert("Failed to update comment")}finally{v.value=!1}}},T=async e=>{if(confirm("Are you sure you want to delete this comment?"))try{const t=await vv.deleteComment(e.id);t.success?await L():alert(t.error||"Failed to delete comment")}catch(i){console.error("Error deleting comment:",i),alert("Failed to delete comment")}},A=async()=>{if(a.value)try{let e;e=a.value.published?await vv.unpublishBlog(a.value.id):await vv.publishBlog(a.value.id),e.success?a.value=e.data.blog:alert(e.error||"Failed to update blog status")}catch(i){console.error("Error toggling publish status:",i),alert("Failed to update blog status")}},R=()=>{const e=new bootstrap.Modal(document.getElementById("deleteBlogModal"));e.show()},I=async()=>{if(a.value){b.value=!0;try{const t=await vv.deleteBlog(a.value.id);if(t.success){const t=bootstrap.Modal.getInstance(document.getElementById("deleteBlogModal"));t&&t.hide(),e.push("/blog")}else alert(t.error||"Failed to delete blog")}catch(i){console.error("Error deleting blog:",i),alert("Failed to delete blog")}finally{b.value=!1}}},M=e=>{if(!e)return"";try{const t=new Date(e),a=new Date,s=(a-t)/36e5;if(s<1){const e=Math.floor(60*s);return`${e} minute${1!==e?"s":""} ago`}if(s<24){const e=Math.floor(s);return`${e} hour${1!==e?"s":""} ago`}if(s<168){const e=Math.floor(s/24);return`${e} day${1!==e?"s":""} ago`}return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(i){return console.error("Error formatting date:",i),"Invalid date"}};return(0,l.wB)(()=>t.params.id,e=>{e&&y()}),(0,l.sV)(()=>{k(),y()}),{blog:a,comments:s,recentPosts:n,currentUser:o,loading:r,error:i,newComment:c,addingComment:d,editingComment:u,editCommentContent:m,updatingComment:v,deletingBlog:b,authorStats:p,canEditBlog:h,canEditComment:g,addComment:C,editComment:E,cancelEditComment:S,saveEditComment:x,deleteComment:T,togglePublishStatus:A,deleteBlog:R,confirmDeleteBlog:I,formatDate:M}}};const Cp=(0,P.A)(wp,[["render",fp],["__scopeId","data-v-21ebadf0"]]);var Ep=Cp;const Sp={class:"container-fluid py-4"},xp={class:"row mb-4"},Tp={class:"col-12"},Ap={class:"d-flex justify-content-between align-items-center"},Rp={class:"display-5 fw-bold text-primary"},Ip={key:0,class:"text-center py-5"},Mp={key:1,class:"alert alert-danger"},Dp={key:2,class:"row"},Fp={class:"col-lg-8"},Np={class:"card shadow-sm"},_p={class:"card-body"},Up={class:"mb-4"},Pp={class:"form-text"},Wp={key:0,class:"invalid-feedback"},Xp={class:"mb-4"},Bp={class:"position-relative"},Kp=["onClick"],Vp={class:"fw-semibold"},$p={class:"text-muted"},Op={class:"form-text d-flex justify-content-between"},Qp={key:0,class:"invalid-feedback"},jp={class:"mb-4"},Gp={class:"form-check form-switch"},Jp={class:"form-text"},qp={class:"d-flex justify-content-between align-items-center"},Hp=["disabled"],Yp={key:0,class:"spinner-border spinner-border-sm me-2"},zp={key:1,class:"bi bi-check-circle me-2"},Zp={class:"col-lg-4"},eh={key:0,class:"card shadow-sm"},th={class:"card-body text-center"},ah={class:"fw-semibold"},sh={class:"text-muted mb-2"},lh={class:"text-muted"},nh={class:"modal fade",id:"previewModal",tabindex:"-1"},oh={class:"modal-dialog modal-xl"},rh={class:"modal-content"},ih={class:"modal-body"},ch={class:"blog-preview"},dh={class:"mb-3"},uh={class:"d-flex align-items-center mb-2"},mh={key:0,class:"mb-0"},vh={key:1,class:"text-muted"},bh={class:"mb-3"},ph={class:"blog-content",style:{"white-space":"pre-wrap"}},hh={class:"mt-4 pt-3 border-top"},gh={class:"text-muted"},kh={key:0,class:"badge bg-success ms-2"},yh={key:1,class:"badge bg-warning text-dark ms-2"},Lh={class:"modal-footer"},fh=["disabled"],wh={key:0,class:"spinner-border spinner-border-sm me-2"};function Ch(e,t,a,o,r,i){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Sp,[(0,l.Lk)("div",xp,[(0,l.Lk)("div",Tp,[(0,l.Lk)("div",Ap,[(0,l.Lk)("div",null,[(0,l.Lk)("h1",Rp,[t[9]||(t[9]=(0,l.Lk)("i",{class:"bi bi-pencil-square me-3"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.isEditing?"Edit Post":"Write New Post"),1)]),t[10]||(t[10]=(0,l.Lk)("p",{class:"lead text-muted"},"Share your thoughts with the community",-1))]),(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-secondary"},{default:(0,l.k6)(()=>[...t[11]||(t[11]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1})])])]),o.loading&&o.isEditing?((0,l.uX)(),(0,l.CE)("div",Ip,[...t[12]||(t[12]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading post...")],-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",Mp,[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error),1)])):((0,l.uX)(),(0,l.CE)("div",Dp,[(0,l.Lk)("div",Fp,[(0,l.Lk)("div",Np,[(0,l.Lk)("div",_p,[(0,l.Lk)("form",{onSubmit:t[7]||(t[7]=(0,s.D$)((...e)=>o.saveBlog&&o.saveBlog(...e),["prevent"]))},[(0,l.Lk)("div",Up,[t[14]||(t[14]=(0,l.Lk)("label",{for:"title",class:"form-label fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-type me-2"}),(0,l.eW)("Title * ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control form-control-lg",{"is-invalid":o.titleError}]),id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.blog.title=e),placeholder:"Enter an engaging title for your post...",required:"",maxlength:"255"},null,2),[[s.Jo,o.blog.title]]),(0,l.Lk)("div",Pp,(0,n.v_)(o.blog.title.length)+"/255 characters ",1),o.titleError?((0,l.uX)(),(0,l.CE)("div",Wp,(0,n.v_)(o.titleError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Xp,[t[17]||(t[17]=(0,l.Lk)("label",{for:"content",class:"form-label fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-text-paragraph me-2"}),(0,l.eW)("Content * ")],-1)),(0,l.Lk)("div",Bp,[(0,l.bo)((0,l.Lk)("textarea",{ref:"contentTextarea",class:(0,n.C4)(["form-control",{"is-invalid":o.contentError}]),id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>o.blog.content=e),rows:"15",placeholder:"Write your blog content here... Use @username to mention other users",required:"",onInput:t[2]||(t[2]=(...e)=>o.handleContentInput&&o.handleContentInput(...e)),onKeydown:t[3]||(t[3]=(...e)=>o.handleContentKeydown&&o.handleContentKeydown(...e))},null,34),[[s.Jo,o.blog.content]]),o.showMentionSuggestions?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"position-absolute bg-white border rounded shadow-sm",style:(0,n.Tr)([o.mentionDropdownStyle,{"z-index":"1000","max-height":"200px","overflow-y":"auto"}])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredMembers,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["px-3 py-2 cursor-pointer hover-bg-light d-flex align-items-center",{"bg-primary text-white":a===o.selectedMentionIndex}]),onClick:t=>o.insertMention(e)},[t[15]||(t[15]=(0,l.Lk)("i",{class:"bi bi-person-circle me-2"},null,-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",Vp,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1),(0,l.Lk)("small",$p,"@"+(0,n.v_)(e.username||`${e.firstName.toLowerCase()}${e.lastName.toLowerCase()}`),1)])],10,Kp))),128))],4)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Op,[(0,l.Lk)("span",null,(0,n.v_)(o.blog.content.length.toLocaleString())+" characters • Type @ to mention users",1),t[16]||(t[16]=(0,l.Lk)("span",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,l.Lk)("small",null,"Mentioned users will be notified")],-1))]),o.contentError?((0,l.uX)(),(0,l.CE)("div",Qp,(0,n.v_)(o.contentError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",jp,[(0,l.Lk)("div",Gp,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"published","onUpdate:modelValue":t[4]||(t[4]=e=>o.blog.published=e)},null,512),[[s.lH,o.blog.published]]),t[18]||(t[18]=(0,l.Lk)("label",{class:"form-check-label fw-semibold",for:"published"},[(0,l.Lk)("i",{class:"bi bi-eye me-2"}),(0,l.eW)("Publish immediately ")],-1)),(0,l.Lk)("div",Jp,(0,n.v_)(o.blog.published?"This post will be visible to all users immediately.":"Save as draft - you can publish later."),1)])]),(0,l.Lk)("div",qp,[(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"button",class:"btn btn-outline-secondary me-2",onClick:t[5]||(t[5]=(...e)=>o.previewBlog&&o.previewBlog(...e))},[...t[19]||(t[19]=[(0,l.Lk)("i",{class:"bi bi-eye me-2"},null,-1),(0,l.eW)("Preview ",-1)])]),o.isEditing?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>o.resetForm&&o.resetForm(...e))},[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,l.eW)("Reset ",-1)])]))]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:o.saving||!o.isFormValid},[o.saving?((0,l.uX)(),(0,l.CE)("span",Yp)):((0,l.uX)(),(0,l.CE)("i",zp)),(0,l.eW)(" "+(0,n.v_)(o.saving?"Saving...":o.isEditing?"Update Post":"Save Post"),1)],8,Hp)])])],32)])])]),(0,l.Lk)("div",Zp,[t[23]||(t[23]=(0,l.Fv)('<div class="card shadow-sm mb-4" data-v-3ab5494f><div class="card-header bg-light" data-v-3ab5494f><h6 class="mb-0 fw-semibold" data-v-3ab5494f><i class="bi bi-lightbulb me-2" data-v-3ab5494f></i>Writing Tips </h6></div><div class="card-body" data-v-3ab5494f><ul class="list-unstyled mb-0" data-v-3ab5494f><li class="mb-2" data-v-3ab5494f><i class="bi bi-check2 text-success me-2" data-v-3ab5494f></i> Keep your title clear and engaging </li><li class="mb-2" data-v-3ab5494f><i class="bi bi-check2 text-success me-2" data-v-3ab5494f></i> Break up long paragraphs for easier reading </li><li class="mb-2" data-v-3ab5494f><i class="bi bi-check2 text-success me-2" data-v-3ab5494f></i> Use examples to illustrate your points </li><li class="mb-2" data-v-3ab5494f><i class="bi bi-check2 text-success me-2" data-v-3ab5494f></i> Proofread before publishing </li><li data-v-3ab5494f><i class="bi bi-check2 text-success me-2" data-v-3ab5494f></i> Engage with commenters after posting </li></ul></div></div>',1)),o.currentUser?((0,l.uX)(),(0,l.CE)("div",eh,[t[22]||(t[22]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h6",{class:"mb-0 fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-person me-2"}),(0,l.eW)("Author ")])],-1)),(0,l.Lk)("div",th,[t[21]||(t[21]=(0,l.Lk)("div",{class:"author-avatar mb-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle display-4 text-secondary"})],-1)),(0,l.Lk)("h6",ah,(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1),(0,l.Lk)("p",sh,"@"+(0,n.v_)(o.currentUser.username),1),(0,l.Lk)("small",lh,(0,n.v_)(o.currentUser.role),1)])])):(0,l.Q3)("",!0)])])),(0,l.Lk)("div",nh,[(0,l.Lk)("div",oh,[(0,l.Lk)("div",rh,[t[29]||(t[29]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-eye me-2"}),(0,l.eW)("Preview ")]),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",ih,[(0,l.Lk)("div",ch,[(0,l.Lk)("div",dh,[(0,l.Lk)("div",uh,[t[24]||(t[24]=(0,l.Lk)("i",{class:"bi bi-person-circle fs-4 text-secondary me-2"},null,-1)),(0,l.Lk)("div",null,[o.currentUser?((0,l.uX)(),(0,l.CE)("h6",mh,(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1)):(0,l.Q3)("",!0),o.currentUser?((0,l.uX)(),(0,l.CE)("small",vh," @"+(0,n.v_)(o.currentUser.username),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("h1",bh,(0,n.v_)(o.blog.title||"Untitled Post"),1),(0,l.Lk)("div",ph,(0,n.v_)(o.blog.content||"No content yet..."),1),(0,l.Lk)("div",hh,[(0,l.Lk)("small",gh,[t[27]||(t[27]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)((new Date).toLocaleDateString())+" • ",1),o.blog.published?((0,l.uX)(),(0,l.CE)("span",kh,[...t[25]||(t[25]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",yh,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])])])]),(0,l.Lk)("div",Lh,[t[28]||(t[28]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close Preview ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>o.saveBlog&&o.saveBlog(...e)),disabled:o.saving||!o.isFormValid},[o.saving?((0,l.uX)(),(0,l.CE)("span",wh)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.saving?"Saving...":o.isEditing?"Update Post":"Save Post"),1)],8,fh)])])])])])}var Eh={name:"BlogCreate",setup(){const e=(0,Be.rd)(),t=(0,Be.lq)(),a=(0,D.KR)({title:"",content:"",published:!1,author:null}),s=(0,D.KR)(null),n=(0,D.KR)(!1),o=(0,D.KR)(!1),r=(0,D.KR)(""),i=(0,D.KR)(!1),c=(0,D.KR)(null),d=(0,D.KR)(""),u=(0,D.KR)(""),m=(0,D.KR)(!1),v=(0,D.KR)(""),b=(0,D.KR)(0),p=(0,D.KR)(0),h=(0,D.KR)([]),g=(0,D.KR)(null),k=(0,D.KR)({}),y=(0,l.EW)(()=>a.value.title.trim().length>0&&a.value.content.trim().length>0&&!d.value&&!u.value),L=(0,l.EW)(()=>v.value?h.value.filter(e=>{const t=`${e.firstName} ${e.lastName} ${e.username}`.toLowerCase();return t.includes(v.value.toLowerCase())}).slice(0,10):h.value.slice(0,10)),f=async()=>{try{const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);s.value=e,await w(e.username)}else s.value=null,e.push("/login")}catch(r){console.error("Error parsing stored user:",r),s.value=null,e.push("/login")}},w=async e=>{try{console.log("🔍 Fetching member details for username:",e);const t=await fetch(`/api/members/username/${e}`);if(console.log("📡 Member API response status:",t.status),t.ok){const e=await t.json();console.log("✅ Member details fetched:",e),s.value={...s.value,id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,role:e.role},a.value.author={id:e.id},console.log("🎯 Author set for blog:",a.value.author)}else console.error("❌ Failed to fetch member details. Status:",t.status,"Text:",t.statusText),r.value=`Failed to load user details (Status: ${t.status})`}catch(t){console.error("💥 Error fetching member details:",t),r.value="Failed to load user details - network error"}},C=()=>(d.value="",u.value="",a.value.title.trim()?a.value.title.length>255&&(d.value="Title cannot exceed 255 characters"):d.value="Title is required",a.value.content.trim()?a.value.content.length<10&&(u.value="Content should be at least 10 characters long"):u.value="Content is required",!d.value&&!u.value),E=async e=>{n.value=!0,r.value="";try{const t=await vv.getBlogById(e);if(t.success){const l=t.data;if(l.author?.id!==s.value?.id)return void(r.value="You do not have permission to edit this blog");a.value={title:l.title,content:l.content,published:l.published,author:l.author},i.value=!0,c.value=e}else r.value=t.error}catch(t){r.value="Failed to load blog for editing",console.error("Error loading blog:",t)}finally{n.value=!1}},S=async()=>{if(C()){o.value=!0;try{let t;if(i.value)t=await vv.updateBlog(c.value,{title:a.value.title.trim(),content:a.value.content.trim(),published:a.value.published});else{const e={title:a.value.title.trim(),content:a.value.content.trim(),published:a.value.published,author:a.value.author};console.log("📝 Creating blog with data:",e),console.log("👤 Current user state:",s.value),t=await vv.createBlog(e),console.log("📤 Blog creation result:",t)}if(t.success){const a=document.getElementById("previewModal");if(a){const e=bootstrap.Modal.getInstance(a);e&&e.hide()}t.data.blog&&t.data.blog.id?e.push(`/blog/${t.data.blog.id}`):e.push("/blog")}else r.value=t.error}catch(t){r.value="Failed to save blog",console.error("Error saving blog:",t)}finally{o.value=!1}}},x=()=>{if(!C())return;const e=new bootstrap.Modal(document.getElementById("previewModal"));e.show()},T=()=>{confirm("Are you sure you want to reset the form? All changes will be lost.")&&(a.value={title:"",content:"",published:!1,author:s.value?.id?{id:s.value.id}:null},d.value="",u.value="")},A=async()=>{try{const e=await fetch("/api/members");e.ok&&(h.value=await e.json())}catch(r){console.error("Error loading members:",r)}},R=e=>{const t=e.target,s=t.selectionStart,l=a.value.content.substring(0,s),n=l.lastIndexOf("@");if(n>=0){const e=l.substring(n+1);if(!e.includes(" ")&&e.length<=20){v.value=e,p.value=n,m.value=!0,b.value=0;const l=t.getBoundingClientRect(),o=(parseInt(getComputedStyle(t).lineHeight),t.scrollTop);k.value={left:"10px",top:`${Math.min(l.height-100,s/a.value.content.length*l.height-o+25)}px`}}else m.value=!1}else m.value=!1},I=e=>{m.value&&("ArrowDown"===e.key?(e.preventDefault(),b.value=Math.min(b.value+1,L.value.length-1)):"ArrowUp"===e.key?(e.preventDefault(),b.value=Math.max(b.value-1,0)):"Enter"===e.key||"Tab"===e.key?L.value[b.value]&&(e.preventDefault(),M(L.value[b.value])):"Escape"===e.key&&(m.value=!1))},M=e=>{const t=e.username||`${e.firstName.toLowerCase()}${e.lastName.toLowerCase()}`,s=`@${t}`,l=a.value.content.substring(0,p.value),n=a.value.content.substring(p.value+v.value.length+1);a.value.content=l+s+" "+n,m.value=!1,setTimeout(()=>{if(g.value){const e=p.value+s.length+1;g.value.focus(),g.value.setSelectionRange(e,e)}},0)};return(0,l.wB)(()=>a.value.title,e=>{d.value&&e.trim()&&(d.value="")}),(0,l.wB)(()=>a.value.content,e=>{u.value&&e.trim()&&(u.value="")}),(0,l.sV)(async()=>{await f(),A();const e=t.query.edit;e&&E(parseInt(e))}),{blog:a,currentUser:s,loading:n,saving:o,error:r,isEditing:i,titleError:d,contentError:u,isFormValid:y,saveBlog:S,previewBlog:x,resetForm:T,validateForm:C,fetchMemberDetails:w,showMentionSuggestions:m,filteredMembers:L,selectedMentionIndex:b,mentionDropdownStyle:k,contentTextarea:g,handleContentInput:R,handleContentKeydown:I,insertMention:M}}};const Sh=(0,P.A)(Eh,[["render",Ch],["__scopeId","data-v-3ab5494f"]]);var xh=Sh;const Th=[{path:"/",name:"Dashboard",component:Pa},{path:"/chapters",name:"Chapters",component:kn},{path:"/chapters/:id",name:"ChapterDetail",component:gu,props:!0},{path:"/members",name:"Members",component:Er},{path:"/events",name:"Events",component:nd},{path:"/login",name:"Login",component:Uu},{path:"/register",name:"Registration",component:xm},{path:"/blog",name:"Blog",component:Jv},{path:"/blog/create",name:"BlogCreate",component:xh},{path:"/blog/:id",name:"BlogDetail",component:Ep,props:!0}],Ah=(0,Be.aE)({history:(0,Be.LA)(),routes:Th});var Rh=Ah;a(736);const Ih=(0,s.Ef)(je);Ih.use(Rh),Ih.mount("#app")},889:function(e,t,a){a.d(t,{getApiBaseUrl:function(){return l}});var s=a(335);const l=()=>"https://startachapter.duckdns.org",n=l();console.log("API Configuration:",{baseUrl:n,environment:"unknown",hostname:"undefined"!==typeof window?window.location.hostname:"server"});const o=s.A.create({baseURL:`${n}/api`,headers:{"Content-Type":"application/json"},timeout:3e4});o.interceptors.request.use(e=>(console.log(`Making ${e.method?.toUpperCase()} request to ${e.url}`),e),e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>(e.response?.status>=400&&e.response?.status<500?console.info("API Client Error:",e.response?.data||e.message):console.error("API Error:",e.response?.data||e.message),Promise.reject(e))),t.A=o}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var r=!0,i=0;i<s.length;i++)(!1&n||o>=n)&&Object.keys(a.O).every(function(e){return a.O[e](s[i])})?s.splice(i--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,o=s[0],r=s[1],i=s[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(i)var d=i(a)}for(t&&t(s);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkchapter_organizer_frontend"]=self["webpackChunkchapter_organizer_frontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[272,504],function(){return a(238)});s=a.O(s)})();
//# sourceMappingURL=app.1deef8cf.js.map