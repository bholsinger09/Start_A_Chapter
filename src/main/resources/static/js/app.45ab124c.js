(function(){"use strict";var e={889:function(e,t,a){a.d(t,{getApiBaseUrl:function(){return l}});var s=a(335);const l=()=>"https://startachapter.duckdns.org",n=l();console.log("API Configuration:",{baseUrl:n,environment:"unknown",hostname:"undefined"!==typeof window?window.location.hostname:"server"});const o=s.A.create({baseURL:`${n}/api`,headers:{"Content-Type":"application/json"},timeout:3e4});o.interceptors.request.use(e=>(console.log(`Making ${e.method?.toUpperCase()} request to ${e.url}`),e),e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>(e.response?.status>=400&&e.response?.status<500?console.info("API Client Error:",e.response?.data||e.message):console.error("API Error:",e.response?.data||e.message),Promise.reject(e))),t.A=o},954:function(e,t,a){var s=a(751),l=a(641),n=a(33);const o={id:"app"},i={class:"navbar navbar-expand-lg navbar-dark bg-primary"},r={class:"container"},c={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav ms-auto"},u={class:"nav-item"},m={class:"nav-item"},v={class:"nav-item"},b={class:"nav-item"},p={key:0,class:"nav-item"},h={class:"nav-item"},g={key:1,class:"nav-item"},k={key:2,class:"nav-item"},y={key:3,class:"nav-item dropdown"},L={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown"},f={class:"dropdown-menu"},w={class:"dropdown-header"},C={class:"nav-item ms-2"},E={class:"nav-item ms-2"},S={class:"nav-item ms-2"},x={class:"container-fluid py-4"};function T(e,t,a,s,T,A){const R=(0,l.g2)("PWAInstaller"),I=(0,l.g2)("router-link"),M=(0,l.g2)("ThemeToggle"),D=(0,l.g2)("SimpleThemeToggle"),F=(0,l.g2)("MobileNavigation"),N=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(R),(0,l.Lk)("nav",i,[(0,l.Lk)("div",r,[(0,l.bF)(I,{class:"navbar-brand",to:"/"},{default:(0,l.k6)(()=>[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill me-2"},null,-1),(0,l.eW)(" Campus Chapter Organizer ",-1)])]),_:1}),t[14]||(t[14]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",c,[(0,l.Lk)("ul",d,[(0,l.Lk)("li",u,[(0,l.bF)(I,{class:"nav-link",to:"/","exact-active-class":"active"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-speedometer2 me-1"},null,-1),(0,l.eW)("Dashboard ",-1)])]),_:1})]),(0,l.Lk)("li",m,[(0,l.bF)(I,{class:"nav-link",to:"/chapters","active-class":"active"},{default:(0,l.k6)(()=>[...t[4]||(t[4]=[(0,l.Lk)("i",{class:"bi bi-building me-1"},null,-1),(0,l.eW)("Chapters ",-1)])]),_:1})]),(0,l.Lk)("li",v,[(0,l.bF)(I,{class:"nav-link",to:"/members","active-class":"active"},{default:(0,l.k6)(()=>[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-people-fill me-1"},null,-1),(0,l.eW)("Members ",-1)])]),_:1})]),(0,l.Lk)("li",b,[(0,l.bF)(I,{class:"nav-link",to:"/events","active-class":"active"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-calendar-event me-1"},null,-1),(0,l.eW)("Events ",-1)])]),_:1})]),T.currentUser?((0,l.uX)(),(0,l.CE)("li",p,[(0,l.bF)(I,{class:"nav-link",to:"/blog","active-class":"active"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.Lk)("i",{class:"bi bi-journal-text me-1"},null,-1),(0,l.eW)("Blog ",-1)])]),_:1})])):(0,l.Q3)("",!0),(0,l.Lk)("li",h,[(0,l.bF)(I,{class:"nav-link",to:"/about","active-class":"active"},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"},null,-1),(0,l.eW)("About ",-1)])]),_:1})]),T.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",g,[(0,l.bF)(I,{class:"nav-link",to:"/login","active-class":"active"},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right me-1"},null,-1),(0,l.eW)("Login ",-1)])]),_:1})])),T.currentUser?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",k,[(0,l.bF)(I,{class:"nav-link",to:"/register","active-class":"active"},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)("Register ",-1)])]),_:1})])),T.currentUser?((0,l.uX)(),(0,l.CE)("li",y,[(0,l.Lk)("a",L,[t[11]||(t[11]=(0,l.Lk)("i",{class:"bi bi-person-circle me-1"},null,-1)),(0,l.eW)((0,n.v_)(T.currentUser.username),1)]),(0,l.Lk)("ul",f,[(0,l.Lk)("li",null,[(0,l.Lk)("h6",w,"Welcome, "+(0,n.v_)(T.currentUser.username)+"!",1)]),t[13]||(t[13]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=(...e)=>A.logout&&A.logout(...e))},[...t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-1"},null,-1),(0,l.eW)("Logout ",-1)])])])])])):(0,l.Q3)("",!0),(0,l.Lk)("li",C,[(0,l.bF)(M)]),(0,l.Lk)("li",E,[(0,l.bF)(D)]),(0,l.Lk)("li",S,[(0,l.Lk)("button",{class:"btn btn-outline-light btn-sm",onClick:t[1]||(t[1]=(...e)=>s.debugToggleTheme&&s.debugToggleTheme(...e)),style:{"font-size":"0.8rem"}}," Debug Theme ")])])])])]),(0,l.bF)(F,{"current-user":T.currentUser,onLogout:A.logout},null,8,["current-user","onLogout"]),(0,l.Lk)("main",x,[(0,l.bF)(N)]),t[15]||(t[15]=(0,l.Fv)('<footer class="bg-light py-4 mt-5"><div class="container"><div class="row"><div class="col-md-6"><p class="text-muted mb-0"> © 2025 Campus Chapter Organizer. Built with Vue.js &amp; Spring Boot. </p></div><div class="col-md-6 text-end"><p class="text-muted mb-0"><i class="bi bi-code-slash me-1"></i> Frontend: Vue.js | Backend: Spring Boot </p></div></div></div></footer>',1))])}const A={class:"dropdown"},R=["title"],I={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"themeDropdown"},M={class:"text-muted ms-2"};function D(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",A,[(0,l.Lk)("button",{class:"btn btn-outline-light theme-toggle dropdown-toggle",type:"button",id:"themeDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",title:`Current theme: ${s.currentTheme}`},[(0,l.Lk)("i",{class:(0,n.C4)(s.getCurrentIcon())},null,2)],8,R),(0,l.Lk)("ul",I,[t[7]||(t[7]=(0,l.Lk)("li",null,[(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-palette me-2"}),(0,l.eW)(" Choose Theme ")])],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:s.isSystemTheme}]),onClick:t[0]||(t[0]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e))},[t[3]||(t[3]=(0,l.Lk)("i",{class:"bi bi-circle-half me-2"},null,-1)),t[4]||(t[4]=(0,l.Lk)("span",{class:"flex-grow-1"},"System",-1)),(0,l.Lk)("small",M,(0,n.v_)(s.systemPrefersDark?"Dark":"Light"),1)],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"light"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("light"))},[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-sun me-2"},null,-1),(0,l.eW)(" Light ",-1)])],2)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:!s.isSystemTheme&&"dark"===s.currentTheme}]),onClick:t[2]||(t[2]=e=>s.setTheme("dark"))},[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-moon-stars me-2"},null,-1),(0,l.eW)(" Dark ",-1)])],2)]),t[8]||(t[8]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),t[9]||(t[9]=(0,l.Lk)("li",null,[(0,l.Lk)("div",{class:"px-3 py-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,l.eW)(" System theme follows your OS preference ")])])],-1))])])}var F=a(953);const N=(0,F.KR)(!1),_=(0,F.KR)(!0);function P(){const e=(0,l.EW)(()=>"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches),t=(0,l.EW)(()=>_.value?e.value?"dark":"light":N.value?"dark":"light"),a=()=>{const e=localStorage.getItem("theme-preference"),t=localStorage.getItem("theme-is-system");e&&null!==t?(_.value="true"===t,_.value||(N.value="dark"===e)):_.value=!0,s()},s=()=>{const e=document.documentElement,a=document.body,s=t.value;console.log("🌙 useTheme: Applying theme:",s),console.log("🌙 useTheme: HTML element:",e),console.log("🌙 useTheme: Body element:",a),e.setAttribute("data-theme",s),a.setAttribute("data-theme",s),console.log("🌙 useTheme: Set data-theme attribute on html and body"),"dark"===s?(e.setAttribute("data-bs-theme","dark"),a.setAttribute("data-bs-theme","dark"),e.classList.add("dark-theme"),a.classList.add("dark-theme"),console.log("🌙 useTheme: Added dark theme classes and attributes")):(e.removeAttribute("data-bs-theme"),a.removeAttribute("data-bs-theme"),e.classList.remove("dark-theme"),a.classList.remove("dark-theme"),console.log("🌙 useTheme: Removed dark theme classes and attributes")),a.style.backgroundColor="dark"===s?"#1a1d23":"#ffffff",a.style.color="dark"===s?"#f7fafc":"#212529",console.log("🌙 useTheme: Applied inline styles - backgroundColor:",a.style.backgroundColor,"color:",a.style.color),localStorage.setItem("theme-preference",s),localStorage.setItem("theme-is-system",_.value.toString()),console.log("🌙 useTheme: Theme applied. HTML data-theme:",e.getAttribute("data-theme")),console.log("🌙 useTheme: Body data-theme:",a.getAttribute("data-theme")),console.log("🌙 useTheme: HTML classes:",e.className),console.log("🌙 useTheme: Body classes:",a.className)},n=()=>{_.value?(_.value=!1,N.value=!e.value):N.value=!N.value},o=()=>{_.value=!0},i=e=>{_.value=!1,N.value="dark"===e},r=()=>{if("undefined"!==typeof window){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{_.value&&s()};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}};(0,l.wB)([t],()=>{s()});const c=[{value:"system",label:"System",icon:"bi-circle-half"},{value:"light",label:"Light",icon:"bi-sun"},{value:"dark",label:"Dark",icon:"bi-moon-stars"}];return{isDark:(0,l.EW)(()=>"dark"===t.value),currentTheme:t,isSystemTheme:_,systemPrefersDark:e,themeOptions:c,initializeTheme:a,toggleTheme:n,useSystemTheme:o,setTheme:i,watchSystemTheme:r}}var U={name:"ThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:o,watchSystemTheme:i}=P();let r;(0,l.sV)(()=>{o(),r=i()}),(0,l.hi)(()=>{r&&r()});const c=()=>t.value?"bi bi-circle-half":"dark"===e.value?"bi bi-moon-stars":"bi bi-sun",d=t=>{console.log("🎨 ThemeToggle: Setting theme to:",t),console.log("🎨 ThemeToggle: Current theme before:",e.value),n(t),console.log("🎨 ThemeToggle: Current theme after:",e.value)},u=()=>{console.log("🎨 ThemeToggle: Setting to system theme"),console.log("🎨 ThemeToggle: System prefers dark:",a.value),s(),console.log("🎨 ThemeToggle: Current theme after system:",e.value)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:u,setTheme:d,getCurrentIcon:c}}},W=a(262);const X=(0,W.A)(U,[["render",D],["__scopeId","data-v-5d2cc150"]]);var B=X;const K={class:"simple-theme-toggle d-flex gap-1"};function V(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",K,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"light"===s.currentTheme}]),onClick:t[0]||(t[0]=e=>s.setTheme("light")),title:"Light Mode"}," ☀️ ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:"dark"===s.currentTheme}]),onClick:t[1]||(t[1]=e=>s.setTheme("dark")),title:"Dark Mode"}," 🌙 ",2),(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-light btn-sm",{active:s.isSystemTheme}]),onClick:t[2]||(t[2]=(...e)=>s.useSystemTheme&&s.useSystemTheme(...e)),title:"System Theme"}," 🔄 ",2)])}var $={name:"SimpleThemeToggle",setup(){const{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:s,setTheme:n,initializeTheme:o,watchSystemTheme:i}=P();let r;(0,l.sV)(()=>{console.log("🎯 SimpleThemeToggle: Component mounted"),o(),r=i(),console.log("🎯 SimpleThemeToggle: Initial theme:",e.value)}),(0,l.hi)(()=>{r&&r()});const c=t=>{console.log("🎯 SimpleThemeToggle: Setting theme to:",t),n(t),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after set:",e.value)},50)},d=()=>{console.log("🎯 SimpleThemeToggle: Using system theme"),s(),setTimeout(()=>{console.log("🎯 SimpleThemeToggle: Theme after system:",e.value)},50)};return{currentTheme:e,isSystemTheme:t,systemPrefersDark:a,useSystemTheme:d,setTheme:c}}};const O=(0,W.A)($,[["render",V],["__scopeId","data-v-439d4286"]]);var Q=O;const j={key:0,class:"pwa-install-banner"},G={class:"container-fluid"},J={class:"alert alert-info alert-dismissible fade show mb-0",role:"alert"},q={class:"d-flex align-items-center"},H={class:"btn-group ms-3"};function Y(e,t,a,s,n,o){return s.showInstallPrompt?((0,l.uX)(),(0,l.CE)("div",j,[(0,l.Lk)("div",G,[(0,l.Lk)("div",J,[(0,l.Lk)("div",q,[t[4]||(t[4]=(0,l.Lk)("i",{class:"bi bi-download me-3 fs-4"},null,-1)),t[5]||(t[5]=(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("strong",null,"Install App"),(0,l.Lk)("p",{class:"mb-0 small"},"Get the full experience with offline access and faster loading")],-1)),(0,l.Lk)("div",H,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.installPWA&&s.installPWA(...e))},[...t[2]||(t[2]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-1"},null,-1),(0,l.eW)(" Install ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[1]||(t[1]=(...e)=>s.dismissPrompt&&s.dismissPrompt(...e))},[...t[3]||(t[3]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])])])])])])):(0,l.Q3)("",!0)}var z={name:"PWAInstaller",setup(){const e=(0,F.KR)(!1),t=(0,F.KR)(null),a=a=>{a.preventDefault(),t.value=a,e.value=!0},s=async()=>{if(!t.value)return;t.value.prompt();const{outcome:a}=await t.value.userChoice;console.log(`PWA install outcome: ${a}`),t.value=null,e.value=!1},n=()=>{e.value=!1,sessionStorage.setItem("pwa-prompt-dismissed","true")},o=()=>{console.log("PWA was installed"),e.value=!1,t.value=null};return(0,l.sV)(()=>{if(!sessionStorage.getItem("pwa-prompt-dismissed"))return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",o)}}),{showInstallPrompt:e,installPWA:s,dismissPrompt:n}}};const Z=(0,W.A)(z,[["render",Y],["__scopeId","data-v-1efada21"]]);var ee=Z;const te={class:"mobile-navigation"},ae={class:"mobile-header d-md-none"},se={class:"container-fluid"},le={class:"d-flex justify-content-between align-items-center py-3"},ne={class:"d-flex align-items-center"},oe={class:"position-relative me-3"},ie={key:0,class:"notification-badge"},re={key:0,class:"user-profile-section"},ce={class:"d-flex align-items-center mb-3"},de={class:"fw-semibold"},ue={class:"text-muted small"},me={class:"quick-actions mb-4"},ve={class:"row g-2"},be={class:"col-6"},pe={class:"col-6"},he={class:"mobile-nav"},ge={key:0,class:"badge bg-danger ms-auto"},ke={class:"settings-section mt-4"},ye={class:"setting-item"},Le={class:"d-flex justify-content-between align-items-center"},fe={class:"form-check form-switch"},we=["checked"],Ce={class:"setting-item"},Ee={class:"d-flex justify-content-between align-items-center"},Se={class:"form-check form-switch"},xe={class:"bottom-navigation d-md-none"},Te={class:"container-fluid p-0"},Ae={class:"row g-0"},Re={class:"nav-label"},Ie={key:0,class:"nav-badge"},Me={class:"notification-content"},De={class:"notification-header"},Fe={class:"notification-list"},Ne={class:"notification-icon"},_e={class:"notification-content"},Pe={class:"notification-title"},Ue={class:"notification-text"},We={class:"notification-time"},Xe={key:0,class:"text-center py-4 text-muted"};function Be(e,t,a,o,i,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",te,[(0,l.Lk)("div",ae,[(0,l.Lk)("div",se,[(0,l.Lk)("div",le,[t[14]||(t[14]=(0,l.Lk)("div",{class:"mobile-logo"},[(0,l.Lk)("i",{class:"bi bi-mortarboard-fill text-primary me-2"}),(0,l.Lk)("span",{class:"fw-bold"},"Chapter")],-1)),(0,l.Lk)("div",ne,[(0,l.Lk)("div",oe,[(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[0]||(t[0]=e=>o.showNotifications=!o.showNotifications)},[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-bell fs-5"},null,-1)),o.notificationCount?((0,l.uX)(),(0,l.CE)("span",ie,(0,n.v_)(o.notificationCount),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("button",{class:"btn btn-link p-1 text-muted",onClick:t[1]||(t[1]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.showMobileMenu?"bi-x-lg":"bi-list"]),style:{"font-size":"1.5rem"}},null,2)])])])])]),o.showMobileMenu?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"mobile-menu-overlay d-md-none",onClick:t[2]||(t[2]=e=>o.showMobileMenu=!1)})):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:(0,n.C4)(["mobile-menu d-md-none",{show:o.showMobileMenu}])},[o.currentUser?((0,l.uX)(),(0,l.CE)("div",re,[(0,l.Lk)("div",ce,[t[15]||(t[15]=(0,l.Lk)("div",{class:"user-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle text-primary",style:{"font-size":"3rem"}})],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",de,(0,n.v_)(o.currentUser.username),1),(0,l.Lk)("div",ue,(0,n.v_)(o.currentUser.role),1)])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",me,[(0,l.Lk)("div",ve,[(0,l.Lk)("div",be,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm w-100",onClick:t[3]||(t[3]=e=>o.navigateTo("/members/create"))},[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])])]),(0,l.Lk)("div",pe,[(0,l.Lk)("button",{class:"btn btn-success btn-sm w-100",onClick:t[4]||(t[4]=e=>o.navigateTo("/events/create"))},[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" New Event ",-1)])])])])]),(0,l.Lk)("nav",he,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.navigationItems,a=>((0,l.uX)(),(0,l.Wv)(c,{key:a.path,to:a.path,class:(0,n.C4)(["mobile-nav-item",{active:e.$route.path===a.path}]),onClick:t[5]||(t[5]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",a.icon])},null,2),(0,l.Lk)("span",null,(0,n.v_)(a.label),1),a.badge?((0,l.uX)(),(0,l.CE)("span",ge,(0,n.v_)(a.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"]))),128))]),(0,l.Lk)("div",ke,[t[23]||(t[23]=(0,l.Lk)("div",{class:"section-divider"},null,-1)),(0,l.Lk)("div",ye,[(0,l.Lk)("div",Le,[t[18]||(t[18]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-palette me-3"}),(0,l.Lk)("span",null,"Dark Mode")],-1)),(0,l.Lk)("div",fe,[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",checked:o.isDarkMode,onChange:t[6]||(t[6]=(...e)=>o.toggleTheme&&o.toggleTheme(...e))},null,40,we)])])]),(0,l.Lk)("div",Ce,[(0,l.Lk)("div",Ee,[t[19]||(t[19]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"bi bi-bell me-3"}),(0,l.Lk)("span",null,"Notifications")],-1)),(0,l.Lk)("div",Se,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>o.notificationsEnabled=e)},null,512),[[s.lH,o.notificationsEnabled]])])])]),(0,l.bF)(c,{to:"/settings",class:"setting-item",onClick:t[8]||(t[8]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-gear me-3"},null,-1),(0,l.Lk)("span",null,"Settings",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),(0,l.bF)(c,{to:"/help",class:"setting-item",onClick:t[9]||(t[9]=e=>o.showMobileMenu=!1)},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.Lk)("i",{class:"bi bi-question-circle me-3"},null,-1),(0,l.Lk)("span",null,"Help & Support",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right ms-auto"},null,-1)])]),_:1}),o.currentUser?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"setting-item logout-item",onClick:t[10]||(t[10]=(...e)=>o.handleLogout&&o.handleLogout(...e))},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right me-3 text-danger"},null,-1),(0,l.Lk)("span",{class:"text-danger"},"Logout",-1)])])):(0,l.Q3)("",!0)])],2),(0,l.Lk)("div",xe,[(0,l.Lk)("div",Te,[(0,l.Lk)("div",Ae,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.bottomNavItems,t=>((0,l.uX)(),(0,l.CE)("div",{key:t.path,class:"col"},[(0,l.bF)(c,{to:t.path,class:(0,n.C4)(["bottom-nav-item",{active:e.$route.path===t.path}])},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,n.C4)(["bi",t.icon])},null,2),(0,l.Lk)("span",Re,(0,n.v_)(t.label),1),t.badge?((0,l.uX)(),(0,l.CE)("span",Ie,(0,n.v_)(t.badge),1)):(0,l.Q3)("",!0)]),_:2},1032,["to","class"])]))),128))])])]),o.showNotifications?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"notification-panel d-md-none",onClick:t[12]||(t[12]=(0,s.D$)(e=>o.showNotifications=!1,["self"]))},[(0,l.Lk)("div",Me,[(0,l.Lk)("div",De,[t[25]||(t[25]=(0,l.Lk)("h6",{class:"mb-0"},"Notifications",-1)),(0,l.Lk)("button",{class:"btn btn-link p-0 text-muted",onClick:t[11]||(t[11]=e=>o.showNotifications=!1)},[...t[24]||(t[24]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,l.Lk)("div",Fe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.notifications,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["notification-item",{unread:!e.read}])},[(0,l.Lk)("div",Ne,[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2)]),(0,l.Lk)("div",_e,[(0,l.Lk)("div",Pe,(0,n.v_)(e.title),1),(0,l.Lk)("div",Ue,(0,n.v_)(e.message),1),(0,l.Lk)("div",We,(0,n.v_)(o.formatTime(e.time)),1)])],2))),128)),0===o.notifications.length?((0,l.uX)(),(0,l.CE)("div",Xe,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-bell-slash display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No notifications",-1)])])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])}var Ke=a(43),Ve={name:"MobileNavigation",setup(){const e=(0,Ke.rd)(),{currentTheme:t,setTheme:a}=((0,Ke.lq)(),P()),s=(0,F.KR)(!1),n=(0,F.KR)(!1),o=(0,F.KR)(!0),i=(0,F.KR)({username:"John Doe",role:"Chapter President"}),r=(0,F.KR)([{path:"/",label:"Dashboard",icon:"bi-speedometer2"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill",badge:5},{path:"/events",label:"Events",icon:"bi-calendar-event"},{path:"/analytics",label:"Analytics",icon:"bi-graph-up"},{path:"/reports",label:"Reports",icon:"bi-file-earmark-bar-graph"}]),c=(0,F.KR)([{path:"/",label:"Home",icon:"bi-house-fill"},{path:"/chapters",label:"Chapters",icon:"bi-building"},{path:"/members",label:"Members",icon:"bi-people-fill"},{path:"/events",label:"Events",icon:"bi-calendar-event",badge:3}]),d=(0,F.KR)([{id:1,title:"New Member Request",message:"Sarah Johnson wants to join UC Berkeley chapter",icon:"bi-person-plus-fill",time:new Date(Date.now()-3e5),read:!1},{id:2,title:"Event Reminder",message:"Weekly meeting starts in 30 minutes",icon:"bi-calendar-event",time:new Date(Date.now()-18e5),read:!1},{id:3,title:"System Update",message:"New features have been added to the dashboard",icon:"bi-info-circle-fill",time:new Date(Date.now()-72e5),read:!0}]),u=(0,l.EW)(()=>d.value.filter(e=>!e.read).length),m=(0,l.EW)(()=>"dark"===t.value),v=()=>{s.value=!s.value,s.value&&(n.value=!1)},b=t=>{e.push(t),s.value=!1},p=()=>{const e="dark"===t.value?"light":"dark";a(e)},h=()=>{i.value=null,s.value=!1,e.push("/login")},g=e=>{const t=new Date,a=t-e,s=Math.floor(a/6e4),l=Math.floor(s/60),n=Math.floor(l/24);return s<1?"Just now":s<60?`${s}m ago`:l<24?`${l}h ago`:`${n}d ago`};return e.afterEach(()=>{s.value=!1,n.value=!1}),{showMobileMenu:s,showNotifications:n,notificationsEnabled:o,currentUser:i,navigationItems:r,bottomNavItems:c,notifications:d,notificationCount:u,isDarkMode:m,toggleMobileMenu:v,navigateTo:b,toggleTheme:p,handleLogout:h,formatTime:g}}};const $e=(0,W.A)(Ve,[["render",Be],["__scopeId","data-v-6dee0850"]]);var Oe=$e,Qe={name:"App",components:{ThemeToggle:B,SimpleThemeToggle:Q,PWAInstaller:ee,MobileNavigation:Oe},setup(){const{initializeTheme:e,setTheme:t,currentTheme:a}=P();(0,l.sV)(()=>{e(),document.body.classList.add("preload"),setTimeout(()=>{document.body.classList.remove("preload")},100)});const s=()=>{console.log("🔥 DEBUG: Current theme before toggle:",a.value);const e="dark"===a.value?"light":"dark";console.log("🔥 DEBUG: Setting theme to:",e),t(e),setTimeout(()=>{const e=document.documentElement,t=document.body;console.log("🔥 DEBUG: HTML data-theme:",e.getAttribute("data-theme")),console.log("🔥 DEBUG: Body data-theme:",t.getAttribute("data-theme")),console.log("🔥 DEBUG: HTML classes:",e.className),console.log("🔥 DEBUG: Body classes:",t.className),console.log("🔥 DEBUG: Body background color:",t.style.backgroundColor),console.log("🔥 DEBUG: Body color:",t.style.color)},100)};return{debugToggleTheme:s}},data(){return{currentUser:null}},mounted(){this.checkAuthState(),window.addEventListener("storage",this.checkAuthState)},beforeUnmount(){window.removeEventListener("storage",this.checkAuthState)},methods:{checkAuthState(){const e=localStorage.getItem("user");if(console.log("🔍 DEBUG - Checking auth state:",{storedUser:e,currentUser:this.currentUser}),e)try{this.currentUser=JSON.parse(e),console.log("✅ DEBUG - User authenticated:",this.currentUser)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user"),this.currentUser=null}else this.currentUser=null,console.log("❌ DEBUG - No user in localStorage")},logout(){localStorage.removeItem("user"),this.currentUser=null,this.$router.push("/login")}},watch:{$route(){this.checkAuthState()}}};const je=(0,W.A)(Qe,[["render",T]]);var Ge=je;const Je={class:"dashboard"},qe={class:"container-fluid"},He={class:"dashboard-header mb-4"},Ye={class:"row align-items-center"},ze={class:"col"},Ze={class:"text-muted mb-0"},et={key:0},tt={class:"col-auto"},at=["disabled"],st={key:0,class:"alert alert-warning alert-dismissible fade show mb-4",role:"alert"},lt={class:"row g-4 mb-4 mt-4"},nt={class:"col-md-3"},ot={class:"card border-0 shadow-sm metric-card"},it={class:"card-body"},rt={key:1,class:"d-flex align-items-center"},ct={class:"flex-grow-1 ms-3"},dt={class:"mb-0 text-primary"},ut={class:"col-md-3"},mt={class:"card border-0 shadow-sm metric-card"},vt={class:"card-body"},bt={key:1,class:"d-flex align-items-center"},pt={class:"flex-grow-1 ms-3"},ht={class:"mb-0 text-success"},gt={class:"col-md-3"},kt={class:"card border-0 shadow-sm metric-card"},yt={class:"card-body"},Lt={key:1,class:"d-flex align-items-center"},ft={class:"flex-grow-1 ms-3"},wt={class:"mb-0 text-info"},Ct={class:"col-md-3"},Et={class:"card border-0 shadow-sm metric-card"},St={class:"card-body"},xt={key:1,class:"d-flex align-items-center"},Tt={class:"flex-grow-1 ms-3"},At={class:"mb-0 text-warning"},Rt={class:"row g-4"},It={class:"col-md-8"},Mt={class:"card border-0 shadow-sm"},Dt={class:"card-body"},Ft={class:"row g-3"},Nt={class:"col-md-4"},_t={class:"col-md-4"},Pt={class:"col-md-4"};function Ut(e,t,a,s,o,i){const r=(0,l.g2)("AnalyticsDashboard"),c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Je,[(0,l.Lk)("div",qe,[(0,l.Lk)("div",He,[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",ze,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"h2 mb-0"},[(0,l.Lk)("i",{class:"fas fa-tachometer-alt text-primary me-3"}),(0,l.eW)(" System Dashboard ")],-1)),(0,l.Lk)("p",Ze,[s.currentUser?((0,l.uX)(),(0,l.CE)("span",et,"Welcome back, "+(0,n.v_)(s.currentUser.username)+"! | ",1)):(0,l.Q3)("",!0),t[2]||(t[2]=(0,l.eW)(" Campus Chapter Organizer Management ",-1))])]),(0,l.Lk)("div",tt,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t[0]||(t[0]=(...e)=>s.fetchPublicStats&&s.fetchPublicStats(...e)),disabled:s.loading},[(0,l.Lk)("i",{class:(0,n.C4)(["fas fa-sync-alt me-2",{"fa-spin":s.loading}])},null,2),(0,l.eW)(" "+(0,n.v_)(s.loading?"Loading...":"Refresh"),1)],8,at)])])]),s.error?((0,l.uX)(),(0,l.CE)("div",st,[t[4]||(t[4]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.error)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>s.error=null)})])):(0,l.Q3)("",!0),(0,l.bF)(r),(0,l.Lk)("div",lt,[(0,l.Lk)("div",nt,[(0,l.Lk)("div",ot,[(0,l.Lk)("div",it,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",rt,[t[6]||(t[6]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-primary bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-users text-white fa-lg"})])],-1)),(0,l.Lk)("div",ct,[t[5]||(t[5]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Members",-1)),(0,l.Lk)("h4",dt,(0,n.v_)(s.totalMembers),1)])]))])])]),(0,l.Lk)("div",ut,[(0,l.Lk)("div",mt,[(0,l.Lk)("div",vt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",bt,[t[8]||(t[8]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-success bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-calendar-check text-white fa-lg"})])],-1)),(0,l.Lk)("div",pt,[t[7]||(t[7]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Active Events",-1)),(0,l.Lk)("h4",ht,(0,n.v_)(s.activeEvents),1)])]))])])]),(0,l.Lk)("div",gt,[(0,l.Lk)("div",kt,[(0,l.Lk)("div",yt,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",Lt,[t[10]||(t[10]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-info bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-university text-white fa-lg"})])],-1)),(0,l.Lk)("div",ft,[t[9]||(t[9]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total Chapters",-1)),(0,l.Lk)("h4",wt,(0,n.v_)(s.totalChapters),1)])]))])])]),(0,l.Lk)("div",Ct,[(0,l.Lk)("div",Et,[(0,l.Lk)("div",St,[s.loading?((0,l.uX)(),(0,l.Wv)(c,{key:0,type:"card"})):((0,l.uX)(),(0,l.CE)("div",xt,[t[12]||(t[12]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"bg-warning bg-gradient rounded-3 p-3"},[(0,l.Lk)("i",{class:"fas fa-check-circle text-white fa-lg"})])],-1)),(0,l.Lk)("div",Tt,[t[11]||(t[11]=(0,l.Lk)("h6",{class:"card-title mb-1"},"Total RSVPs",-1)),(0,l.Lk)("h4",At,(0,n.v_)(s.totalRsvps),1)])]))])])])]),(0,l.Lk)("div",Rt,[(0,l.Lk)("div",It,[(0,l.Lk)("div",Mt,[t[16]||(t[16]=(0,l.Lk)("div",{class:"card-header bg-white border-0"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"fas fa-bolt text-primary me-2"}),(0,l.eW)(" Quick Actions ")])],-1)),(0,l.Lk)("div",Dt,[(0,l.Lk)("div",Ft,[(0,l.Lk)("div",Nt,[(0,l.bF)(d,{to:"/members",class:"btn btn-outline-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"fas fa-user-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Add Member",-1)])]),_:1})]),(0,l.Lk)("div",_t,[(0,l.bF)(d,{to:"/events",class:"btn btn-outline-success w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[14]||(t[14]=[(0,l.Lk)("i",{class:"fas fa-calendar-plus fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Create Event",-1)])]),_:1})]),(0,l.Lk)("div",Pt,[(0,l.bF)(d,{to:"/chapters",class:"btn btn-outline-info w-100 h-100 d-flex flex-column align-items-center justify-content-center py-3"},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.Lk)("i",{class:"fas fa-university fa-2x mb-2"},null,-1),(0,l.Lk)("span",null,"Manage Chapters",-1)])]),_:1})])])])])]),t[17]||(t[17]=(0,l.Fv)('<div class="col-md-4" data-v-1ffa6712><div class="card border-0 shadow-sm" data-v-1ffa6712><div class="card-header bg-white border-0" data-v-1ffa6712><h5 class="card-title mb-0" data-v-1ffa6712><i class="fas fa-cog text-secondary me-2" data-v-1ffa6712></i> System Status </h5></div><div class="card-body" data-v-1ffa6712><div class="d-flex align-items-center mb-3" data-v-1ffa6712><div class="flex-shrink-0" data-v-1ffa6712><div class="bg-success rounded-circle p-2" data-v-1ffa6712><i class="fas fa-check text-white" data-v-1ffa6712></i></div></div><div class="flex-grow-1 ms-3" data-v-1ffa6712><h6 class="mb-0" data-v-1ffa6712>System Operational</h6><small class="text-muted" data-v-1ffa6712>All services running normally</small></div></div><div class="progress mb-2" style="height:6px;" data-v-1ffa6712><div class="progress-bar bg-success" style="width:95%;" data-v-1ffa6712></div></div><small class="text-muted" data-v-1ffa6712>95% System Health</small></div></div></div>',1))])])])}const Wt={class:"analytics-dashboard"},Xt={key:0,class:"alert alert-warning alert-dismissible fade show mb-4",role:"alert"},Bt={class:"row g-4"},Kt={class:"col-lg-8"},Vt={class:"card h-100"},$t={class:"card-body"},Ot={key:0,class:"text-center py-5"},Qt={key:1,ref:"membershipChart",style:{"max-height":"300px"}},jt={class:"col-lg-4"},Gt={class:"card h-100"},Jt={class:"card-body"},qt={key:0,class:"text-center py-4"},Ht={key:1,ref:"attendanceChart",style:{"max-height":"250px"}},Yt={class:"col-lg-6"},zt={class:"card h-100"},Zt={class:"card-body"},ea={key:0,class:"text-center py-5"},ta={key:1,ref:"performanceChart",style:{"max-height":"300px"}},aa={class:"col-lg-6"},sa={class:"card h-100"},la={class:"card-header d-flex justify-content-between align-items-center"},na={class:"d-flex align-items-center gap-2"},oa=["disabled"],ia={class:"card-body"},ra={class:"row g-3"},ca={class:"col-6"},da={class:"metric-item"},ua={class:"metric-value"},ma={class:"col-6"},va={class:"metric-item"},ba={class:"metric-value"},pa={class:"col-6"},ha={class:"metric-item"},ga={class:"metric-value"},ka={class:"col-6"},ya={class:"metric-item"},La={class:"metric-value"};function fa(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",Wt,[s.error?((0,l.uX)(),(0,l.CE)("div",Xt,[t[2]||(t[2]=(0,l.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.error)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=e=>s.error=null)})])):(0,l.Q3)("",!0),(0,l.Lk)("div",Bt,[(0,l.Lk)("div",Kt,[(0,l.Lk)("div",Vt,[t[4]||(t[4]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-graph-up text-success me-2"}),(0,l.eW)(" Membership Growth ")])],-1)),(0,l.Lk)("div",$t,[s.loading?((0,l.uX)(),(0,l.CE)("div",Ot,[...t[3]||(t[3]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):((0,l.uX)(),(0,l.CE)("canvas",Qt,null,512))])])]),(0,l.Lk)("div",jt,[(0,l.Lk)("div",Gt,[t[6]||(t[6]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-pie-chart text-info me-2"}),(0,l.eW)(" Event Attendance ")])],-1)),(0,l.Lk)("div",Jt,[s.loading?((0,l.uX)(),(0,l.CE)("div",qt,[...t[5]||(t[5]=[(0,l.Lk)("div",{class:"spinner-border text-info",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):((0,l.uX)(),(0,l.CE)("canvas",Ht,null,512))])])]),(0,l.Lk)("div",Yt,[(0,l.Lk)("div",zt,[t[8]||(t[8]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-radar text-warning me-2"}),(0,l.eW)(" Chapter Performance ")])],-1)),(0,l.Lk)("div",Zt,[s.loading?((0,l.uX)(),(0,l.CE)("div",ea,[...t[7]||(t[7]=[(0,l.Lk)("div",{class:"spinner-border text-warning",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):((0,l.uX)(),(0,l.CE)("canvas",ta,null,512))])])]),(0,l.Lk)("div",aa,[(0,l.Lk)("div",sa,[(0,l.Lk)("div",la,[t[10]||(t[10]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-activity text-danger me-2"}),(0,l.eW)(" Real-time Metrics ")],-1)),(0,l.Lk)("div",na,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t[1]||(t[1]=(...e)=>s.fetchAnalyticsData&&s.fetchAnalyticsData(...e)),disabled:s.loading},[(0,l.Lk)("i",{class:(0,n.C4)(["fas fa-sync-alt",{"fa-spin":s.loading}])},null,2)],8,oa),t[9]||(t[9]=(0,l.Lk)("div",{class:"badge bg-success pulse-dot"},"Live",-1))])]),(0,l.Lk)("div",ia,[(0,l.Lk)("div",ra,[(0,l.Lk)("div",ca,[(0,l.Lk)("div",da,[(0,l.Lk)("div",ua,(0,n.v_)(s.realTimeData.activeUsers),1),t[11]||(t[11]=(0,l.Lk)("div",{class:"metric-label"},"Active Users",-1))])]),(0,l.Lk)("div",ma,[(0,l.Lk)("div",va,[(0,l.Lk)("div",ba,(0,n.v_)(s.realTimeData.ongoingEvents),1),t[12]||(t[12]=(0,l.Lk)("div",{class:"metric-label"},"Ongoing Events",-1))])]),(0,l.Lk)("div",pa,[(0,l.Lk)("div",ha,[(0,l.Lk)("div",ga,(0,n.v_)(s.realTimeData.newSignups),1),t[13]||(t[13]=(0,l.Lk)("div",{class:"metric-label"},"Today's Signups",-1))])]),(0,l.Lk)("div",ka,[(0,l.Lk)("div",ya,[(0,l.Lk)("div",La,(0,n.v_)(s.realTimeData.systemHealth)+"%",1),t[14]||(t[14]=(0,l.Lk)("div",{class:"metric-label"},"System Health",-1))])])])])])])])])}var wa=a(934),Ca=a(335),Ea=a(889);const Sa=(0,Ea.getApiBaseUrl)(),xa=Ca.A.create({baseURL:`${Sa}/api`,headers:{"Content-Type":"application/json"},timeout:1e4});function Ta(){const e=(0,F.KR)(!1),t=(0,F.KR)(null),a=async a=>{try{e.value=!0,t.value=null;const s=await a();return s}catch(s){throw t.value=s.response?.data?.message||s.message||"An error occurred",s}finally{e.value=!1}},s=async(e,t={})=>a(()=>xa.get(`/events/${e}/rsvps`,{params:t})),l=async(e,t)=>a(()=>xa.post(`/events/${e}/rsvps`,t)),n=async(e,t,s)=>a(()=>xa.put(`/events/${e}/rsvps/${t}`,s)),o=async(e,t)=>a(()=>xa.delete(`/events/${e}/rsvps/${t}`)),i=async(e,t)=>a(()=>xa.get(`/events/${e}/rsvps/${t}`)),r=async(e={})=>a(()=>xa.get("/events",{params:e})),c=async e=>a(()=>xa.get(`/events/${e}`)),d=async e=>a(()=>xa.post("/events",e)),u=async(e,t)=>a(()=>xa.put(`/events/${e}`,t)),m=async e=>a(()=>xa.delete(`/events/${e}`)),v=async(e={})=>a(()=>xa.get("/events/recurring",{params:e})),b=async e=>a(()=>xa.post("/events/recurring",e)),p=async(e,t)=>a(()=>xa.put(`/events/recurring/${e}`,t)),h=async e=>a(()=>xa.delete(`/events/recurring/${e}`)),g=async(e,t={})=>{const s={q:e,...t};return a(()=>xa.get("/events/search",{params:s}))},k=async e=>a(()=>xa.get(`/events/${e}/analytics`)),y=async(e={})=>a(()=>xa.get("/events/analytics",{params:e})),L=async(e={})=>a(()=>xa.get("/members",{params:e})),f=async e=>a(()=>xa.get(`/members/${e}`)),w=async(e={})=>a(()=>xa.get("/chapters",{params:e})),C=async e=>a(()=>xa.get(`/chapters/${e}`)),E=async()=>a(()=>xa.get("/monitoring/health")),S=async(e={})=>a(()=>xa.get("/monitoring/metrics",{params:e})),x=async(e={})=>a(()=>xa.get("/monitoring/operational",{params:e})),T=async(e={})=>a(()=>xa.get("/monitoring/audit",{params:e})),A=async(e,t="general")=>{const s=new FormData;return s.append("file",e),s.append("type",t),a(()=>xa.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}}))},R=async(e,t={})=>a(()=>xa.get(`/reports/${e}`,{params:t,responseType:"blob"})),I=async e=>a(()=>xa.post("/notifications",e)),M=async e=>a(()=>xa.put(`/notifications/${e}/read`));return{isLoading:e,error:t,fetchEventRSVPs:s,createRSVP:l,updateRSVP:n,deleteRSVP:o,getRSVPStatus:i,fetchEvents:r,fetchEvent:c,createEvent:d,updateEvent:u,deleteEvent:m,searchEvents:g,getEventAnalytics:k,getEventsAnalytics:y,fetchRecurringEvents:v,createRecurringEvent:b,updateRecurringEvent:p,deleteRecurringEvent:h,fetchMembers:L,fetchMember:f,fetchChapters:w,fetchChapter:C,getSystemHealth:E,getMetrics:S,getOperationalMetrics:x,getAuditLogs:T,uploadFile:A,downloadReport:R,sendNotification:I,markNotificationRead:M,apiClient:xa}}function Aa(e={}){const{autoRefresh:t=!0,refreshInterval:a=3e4,enableRealTime:s=!1}=e,{getSystemHealth:n,getMetrics:o,getOperationalMetrics:i,getAuditLogs:r}=Ta(),c=(0,F.KR)(!1),d=(0,F.KR)(null),u=(0,F.KR)(new Date),m=(0,F.KR)({status:"UNKNOWN",uptime:0,database:null,memory:null,disk:null,api:null,services:{}}),v=(0,F.Kh)({system:{activeEvents:0,totalMembers:0,totalChapters:0,totalRsvps:0,systemLoad:0},events:{todayEvents:0,weeklyEvents:0,monthlyEvents:0,averageAttendance:0},rsvps:{todayRsvps:0,pendingRsvps:0,confirmedRsvps:0,waitlistCount:0},performance:{avgResponseTime:0,requestsPerMinute:0,errorRate:0,uptime:100}}),b=(0,F.KR)({rsvpTrends:[],eventCapacityData:[],userActivityData:[],systemPerformanceData:[]}),p=(0,F.KR)([]);let h=null,g=null;const k=(0,l.EW)(()=>{const e=m.value.status?.toUpperCase();switch(e){case"UP":case"HEALTHY":return{status:"healthy",text:"All systems operational",color:"success"};case"DOWN":case"UNHEALTHY":return{status:"unhealthy",text:"System issues detected",color:"danger"};case"DEGRADED":case"WARNING":return{status:"degraded",text:"Performance issues",color:"warning"};default:return{status:"unknown",text:"Status unknown",color:"secondary"}}}),y=(0,l.EW)(()=>[{title:"Active Events",value:v.system.activeEvents,icon:"bi bi-calendar-event",color:"primary",trend:M("activeEvents"),format:"number"},{title:"Total RSVPs",value:v.system.totalRsvps,icon:"bi bi-people-fill",color:"success",trend:M("totalRsvps"),format:"number"},{title:"System Load",value:v.system.systemLoad,icon:"bi bi-speedometer2",color:v.system.systemLoad>80?"danger":"info",trend:M("systemLoad"),format:"percentage",showProgress:!0,maxValue:100},{title:"Error Rate",value:v.performance.errorRate,icon:"bi bi-exclamation-triangle",color:v.performance.errorRate>5?"danger":"success",trend:M("errorRate"),format:"percentage"}]),L=(0,l.EW)(()=>b.value.rsvpTrends.map(e=>({label:D(e.date),value:e.count}))),f=(0,l.EW)(()=>b.value.eventCapacityData.map(e=>({label:e.eventName,value:e.capacityUsage}))),w=(0,l.EW)(()=>p.value.slice(0,10)),C=async()=>{try{const e=await n();m.value={status:e.data.status||"UNKNOWN",uptime:e.data.uptime||0,database:e.data.components?.database||null,memory:e.data.components?.memory||null,disk:e.data.components?.disk||null,api:e.data.components?.api||null,services:e.data.components?.services||{}}}catch(e){throw console.error("Failed to load system health:",e),m.value.status="UNKNOWN",e}},E=async()=>{try{const e=await o(),t=e.data;v.system={activeEvents:t.activeEvents||0,totalMembers:t.totalMembers||0,totalChapters:t.totalChapters||0,totalRsvps:t.totalRsvps||0,systemLoad:t.systemLoad||0},v.events={todayEvents:t.todayEvents||0,weeklyEvents:t.weeklyEvents||0,monthlyEvents:t.monthlyEvents||0,averageAttendance:t.averageAttendance||0},v.rsvps={todayRsvps:t.todayRsvps||0,pendingRsvps:t.pendingRsvps||0,confirmedRsvps:t.confirmedRsvps||0,waitlistCount:t.waitlistCount||0},v.performance={avgResponseTime:t.avgResponseTime||0,requestsPerMinute:t.requestsPerMinute||0,errorRate:t.errorRate||0,uptime:t.uptime||100}}catch(e){throw console.error("Failed to load metrics:",e),e}},S=async(e="24h")=>{try{const t=await i({timeRange:e}),a=t.data;b.value={rsvpTrends:a.rsvpTrends||[],eventCapacityData:a.eventCapacityData||[],userActivityData:a.userActivityData||[],systemPerformanceData:a.systemPerformanceData||[]}}catch(t){throw console.error("Failed to load operational metrics:",t),t}},x=async(e={})=>{try{const t={limit:50,sortBy:"timestamp",sortOrder:"desc",...e},a=await r(t);p.value=a.data||[]}catch(t){throw console.error("Failed to load audit logs:",t),t}},T=async()=>{try{c.value=!0,d.value=null,await Promise.all([C(),E(),S(),x()]),u.value=new Date}catch(e){throw d.value=e.message||"Failed to load monitoring data",e}finally{c.value=!1}},A=async()=>{await T()},R=async()=>{try{await Promise.all([E(),S()]),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh metrics"}},I=async()=>{try{await C(),u.value=new Date}catch(e){d.value=e.message||"Failed to refresh health data"}},M=e=>{const t={activeEvents:"+12%",totalRsvps:"+24%",systemLoad:"-5%",errorRate:"-15%"};return t[e]||null},D=e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},N=e=>v[e]||{},_=e=>m.value[e]||null,P=()=>{s&&(h&&clearInterval(h),h=setInterval(R,1e4))},U=()=>{h&&(clearInterval(h),h=null),g&&(g.close(),g=null)},W=()=>{T(),t&&(h=setInterval(A,a)),s&&P()},X=()=>{U()};return(0,l.sV)(()=>{W()}),(0,l.hi)(()=>{X()}),{isLoading:c,error:d,lastUpdated:u,healthData:m,metricsData:v,operationalData:b,auditLogs:p,systemHealthStatus:k,criticalMetrics:y,rsvpTrendsChartData:L,eventCapacityChartData:f,recentAuditLogs:w,loadAllData:T,refreshData:A,refreshMetrics:R,refreshHealth:I,loadSystemHealth:C,loadMetrics:E,loadOperationalMetrics:S,loadAuditLogs:x,getMetricsByCategory:N,getHealthComponentStatus:_,startMonitoring:W,stopMonitoring:X}}xa.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),xa.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)));var Ra={name:"AnalyticsDashboard",setup(){const e=(0,F.KR)(null),t=(0,F.KR)(null),a=(0,F.KR)(null),{healthData:s,metricsData:n,operationalData:o,loadAllData:i,refreshData:r}=Aa({autoRefresh:!0}),c=(0,F.KR)({statistics:{},growth:{},activity:[],upcomingEvents:[]}),d=(0,F.KR)({activeUsers:0,ongoingEvents:0,newSignups:0,systemHealth:100}),u=(0,F.KR)(!1),m=(0,F.KR)(null);let v=null,b=null,p=null,h=null;const g=async()=>{u.value=!0,m.value=null;try{const[e,t,a,s]=await Promise.all([Ea.A.get("/dashboard/statistics"),Ea.A.get("/dashboard/growth"),Ea.A.get("/dashboard/activity",{params:{limit:10}}),Ea.A.get("/dashboard/upcoming-events",{params:{limit:5}})]);c.value={statistics:e.data,growth:t.data,activity:a.data,upcomingEvents:s.data},d.value={activeUsers:c.value.statistics.totalActiveMembers||0,ongoingEvents:c.value.statistics.totalEvents||0,newSignups:c.value.statistics.recentMembers||0,systemHealth:100},y()}catch(e){console.error("Failed to fetch analytics data:",e),m.value="Failed to load analytics data"}finally{u.value=!1}},k=()=>{const s=e.value.getContext("2d");v=new wa.Ay(s,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"New Members",data:[65,59,80,81,56,89],borderColor:"#28a745",backgroundColor:"rgba(40, 167, 69, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.1)"}},x:{grid:{display:!1}}}}});const l=t.value.getContext("2d");b=new wa.Ay(l,{type:"doughnut",data:{labels:["Present","Absent","Late"],datasets:[{data:[75,20,5],backgroundColor:["#28a745","#dc3545","#ffc107"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}});const n=a.value.getContext("2d");p=new wa.Ay(n,{type:"radar",data:{labels:["Events","Attendance","Engagement","Growth","Retention"],datasets:[{label:"Chapter Performance",data:[85,75,90,70,88],backgroundColor:"rgba(255, 193, 7, 0.2)",borderColor:"#ffc107",borderWidth:2,pointBackgroundColor:"#ffc107",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:20}}},plugins:{legend:{display:!1}}}})},y=()=>{if(v&&c.value.growth.memberGrowth){const e=c.value.growth.memberGrowth,t=e.map(e=>e.month),a=e.map(e=>e.count);v.data.labels=t,v.data.datasets[0].data=a,v.update()}if(b&&c.value.statistics.totalEvents){const e=c.value.statistics.totalEvents,t=c.value.statistics.recentEvents||0,a=c.value.upcomingEvents.length;b.data.datasets[0].data=[t,e-t-a,a],b.update()}if(p&&c.value.statistics){const e=c.value.statistics,t=[Math.min((e.totalEvents||0)/10*100,100),Math.min((e.totalActiveMembers||0)/50*100,100),Math.min((e.totalBlogs||0)/20*100,100),Math.min((e.recentMembers||0)/10*100,100),Math.min((e.totalActiveMembers||0)/(e.totalMembers||1)*100,100)];p.data.datasets[0].data=t,p.update()}},L=async()=>{try{await Promise.all([r(),g()])}catch(m){console.error("Failed to fetch real-time data:",m)}};return(0,l.sV)(async()=>{k(),i(),await g(),h=setInterval(L,3e4)}),(0,l.hi)(()=>{v&&v.destroy(),b&&b.destroy(),p&&p.destroy(),h&&clearInterval(h)}),{membershipChart:e,attendanceChart:t,performanceChart:a,realTimeData:d,analyticsData:c,loading:u,error:m,fetchAnalyticsData:g}}};const Ia=(0,W.A)(Ra,[["render",fa],["__scopeId","data-v-0a487f71"]]);var Ma=Ia;const Da={class:"skeleton-loader"},Fa={key:0,class:"card border-0 shadow-sm"},Na={key:1,class:"card"},_a={class:"card-body p-0"},Pa={class:"table-responsive"},Ua={class:"table mb-0"},Wa={key:2};function Xa(e,t,a,s,n,o){return(0,l.uX)(),(0,l.CE)("div",Da,["card"===a.type?((0,l.uX)(),(0,l.CE)("div",Fa,[...t[0]||(t[0]=[(0,l.Fv)('<div class="card-body" data-v-7cac7a32><div class="d-flex align-items-center" data-v-7cac7a32><div class="skeleton-circle me-3" data-v-7cac7a32></div><div class="flex-grow-1" data-v-7cac7a32><div class="skeleton-line mb-2" style="width:60%;" data-v-7cac7a32></div><div class="skeleton-line" style="width:40%;" data-v-7cac7a32></div></div></div></div>',1)])])):(0,l.Q3)("",!0),"table"===a.type?((0,l.uX)(),(0,l.CE)("div",Na,[(0,l.Lk)("div",_a,[(0,l.Lk)("div",Pa,[(0,l.Lk)("table",Ua,[t[2]||(t[2]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"80%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})]),(0,l.Lk)("th",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"50%"}})])])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[...t[1]||(t[1]=[(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"90%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"70%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"85%"}})],-1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:"skeleton-line",style:{width:"60%"}})],-1)])]))),128))])])])])])):(0,l.Q3)("",!0),"list"===a.type?((0,l.uX)(),(0,l.CE)("div",Wa,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.rows,e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"d-flex align-items-center mb-3"},[...t[3]||(t[3]=[(0,l.Lk)("div",{class:"skeleton-circle me-3"},null,-1),(0,l.Lk)("div",{class:"flex-grow-1"},[(0,l.Lk)("div",{class:"skeleton-line mb-1",style:{width:"75%"}}),(0,l.Lk)("div",{class:"skeleton-line",style:{width:"45%"}})],-1)])]))),128))])):(0,l.Q3)("",!0)])}var Ba={name:"SkeletonLoader",props:{type:{type:String,default:"card",validator:e=>["card","table","list"].includes(e)},rows:{type:Number,default:3}}};const Ka=(0,W.A)(Ba,[["render",Xa],["__scopeId","data-v-7cac7a32"]]);var Va=Ka,$a={name:"Dashboard",components:{AnalyticsDashboard:Ma,SkeletonLoader:Va},setup(){const e=(0,F.KR)(0),t=(0,F.KR)(0),s=(0,F.KR)(0),n=(0,F.KR)(0),o=(0,F.KR)(!0),i=(0,F.KR)(null),r=(0,F.KR)(null),c=()=>{const e=localStorage.getItem("user");if(e)try{r.value=JSON.parse(e)}catch(i){console.error("Error parsing stored user:",i),r.value=null}};(0,l.sV)(()=>{c()});const d=async()=>{try{o.value=!0;const{getApiBaseUrl:l}=await Promise.resolve().then(a.bind(a,889)),r=l(),c=await fetch(`${r}/api/stats/public/overview`);if(!c.ok)throw new Error("Failed to fetch statistics");const d=await c.json();e.value=d.totalMembers||0,t.value=d.totalEvents||0,s.value=d.totalChapters||0,n.value=d.totalRsvps||0,i.value=null}catch(l){console.error("Error fetching public stats:",l),i.value="Unable to load statistics",e.value=0,t.value=0,s.value=0,n.value=0}finally{o.value=!1}};return(0,l.sV)(()=>{d()}),{totalMembers:e,activeEvents:t,totalChapters:s,totalRsvps:n,loading:o,error:i,fetchPublicStats:d,currentUser:r}}};const Oa=(0,W.A)($a,[["render",Ut],["__scopeId","data-v-1ffa6712"]]);var Qa=Oa;const ja={class:"chapters"},Ga={class:"container"},Ja={class:"row mb-3"},qa={class:"col-md-6"},Ha={class:"d-flex align-items-center"},Ya={class:"col-md-6 text-end"},za={class:"chapter-stats"},Za={class:"badge bg-primary fs-6 me-2"},es={class:"badge bg-success fs-6 me-2"},ts={class:"badge bg-warning fs-6"},as={key:0,class:"text-center py-4"},ss={key:1,class:"alert alert-danger text-center"},ls={key:2,class:"table-responsive"},ns={class:"table table-hover"},os={class:"table-light"},is={class:"d-flex align-items-center"},rs={class:"chapter-avatar me-2"},cs={class:"badge bg-light text-dark"},ds={class:"d-flex align-items-center"},us={class:"health-bar"},ms={class:"btn-group btn-group-sm"},vs=["onClick"],bs=["onClick"],ps=["onClick"],hs={key:0,class:"d-flex justify-content-center mt-4"},gs={class:"pagination"},ks=["onClick"],ys={key:3,class:"row"},Ls={class:"card chapter-card h-100"},fs={class:"card-header d-flex justify-content-between align-items-center"},ws={class:"chapter-avatar-large"},Cs={class:"card-body"},Es={class:"card-title"},Ss={class:"card-text text-muted"},xs={class:"mb-2"},Ts={class:"text-muted"},As={class:"row text-center mb-3"},Rs={class:"col-6"},Is={class:"stat-item"},Ms={class:"stat-value"},Ds={class:"col-6"},Fs={class:"stat-item"},Ns={class:"stat-value"},_s={class:"health-bar"},Ps={class:"card-footer"},Us={class:"btn-group w-100"},Ws=["onClick"],Xs=["onClick"],Bs=["onClick"],Ks={key:0,class:"col-12 d-flex justify-content-center mt-4"},Vs={class:"pagination"},$s=["onClick"],Os={key:4,class:"text-center py-5"},Qs={class:"modal-dialog modal-lg"},js={class:"modal-content"},Gs={class:"modal-header"},Js={class:"modal-body"},qs={class:"row"},Hs={class:"col-12 mb-3"},Ys={class:"col-12 mb-3"},zs={class:"row"},Zs={class:"col-12 mb-3"},el={class:"form-check form-check-inline"},tl={class:"form-check form-check-inline"},al={key:0,class:"row mb-3"},sl={class:"col-12"},ll=["value"],nl={key:1,class:"row"},ol={class:"col-12 mb-3"},il={class:"form-check form-check-inline"},rl={class:"form-check form-check-inline"},cl={class:"col-md-6 mb-3"},dl={for:"institutionName",class:"form-label"},ul=["placeholder"],ml={class:"col-md-6 mb-3"},vl={class:"col-md-6 mb-3"},bl=["value"],pl={class:"col-md-6 mb-3"},hl={class:"col-12 mb-3"},gl={class:"col-md-6 mb-3"},kl={class:"col-md-6 mb-3"},yl={class:"col-md-6 mb-3"},Ll={class:"col-md-6 mb-3"},fl={class:"col-md-6 mb-3"},wl={class:"col-md-6 mb-3"},Cl={class:"modal-footer"},El=["disabled"],Sl={key:0,class:"spinner-border spinner-border-sm me-2"};function xl(e,t,a,o,i,r){const c=(0,l.g2)("EnhancedSearch");return(0,l.uX)(),(0,l.CE)("div",ja,[(0,l.Lk)("div",Ga,[t[93]||(t[93]=(0,l.Fv)('<div class="row mb-4" data-v-a5ecd2c8><div class="col" data-v-a5ecd2c8><h1 class="display-4 text-center mb-3" data-v-a5ecd2c8><i class="bi bi-building text-primary me-3" data-v-a5ecd2c8></i> Chapters </h1><p class="lead text-center text-muted" data-v-a5ecd2c8> Manage university chapters across the network </p></div></div>',1)),(0,l.bF)(c,{chapters:o.allChapters,"available-states":o.availableStates,onSearch:o.handleSearch,onSearchResults:o.handleSearchResults,onFilterChange:o.handleFilterChange},null,8,["chapters","available-states","onSearch","onSearchResults","onFilterChange"]),(0,l.Lk)("div",Ja,[(0,l.Lk)("div",qa,[(0,l.Lk)("div",Ha,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.openAddModal&&o.openAddModal(...e)),class:"btn btn-primary me-3"},[...t[42]||(t[42]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.toggleView&&o.toggleView(...e)),class:"btn btn-outline-secondary me-3"},[(0,l.Lk)("i",{class:(0,n.C4)(["table"===o.currentView?"bi bi-grid-3x3-gap":"bi bi-table","me-2"])},null,2),(0,l.eW)(" "+(0,n.v_)("table"===o.currentView?"Card View":"Table View"),1)]),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.exportToCSV&&o.exportToCSV(...e)),class:"btn btn-outline-success"},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)(" Export CSV ",-1)])])])]),(0,l.Lk)("div",Ya,[(0,l.Lk)("div",za,[(0,l.Lk)("span",Za," Total: "+(0,n.v_)(o.filteredChapters.length),1),(0,l.Lk)("span",es," Active: "+(0,n.v_)(o.activeChapters),1),(0,l.Lk)("span",ts," Avg Health: "+(0,n.v_)(o.averageHealth)+"% ",1)])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",as,[...t[44]||(t[44]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,l.Lk)("p",{class:"text-muted mt-2"},"Loading chapters...",-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",ss,[t[46]||(t[46]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.error)+" ",1),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.loadChapters&&o.loadChapters(...e)),class:"btn btn-outline-danger btn-sm ms-2"},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Retry ",-1)])])])):"table"===o.currentView?((0,l.uX)(),(0,l.CE)("div",ls,[(0,l.Lk)("table",ns,[(0,l.Lk)("thead",os,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{onClick:t[4]||(t[4]=e=>o.sortBy("name")),class:"sortable"},[t[47]||(t[47]=(0,l.eW)(" Name ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("name")])},null,2)]),(0,l.Lk)("th",{onClick:t[5]||(t[5]=e=>o.sortBy("university")),class:"sortable"},[t[48]||(t[48]=(0,l.eW)(" University ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("university")])},null,2)]),(0,l.Lk)("th",{onClick:t[6]||(t[6]=e=>o.sortBy("state")),class:"sortable"},[t[49]||(t[49]=(0,l.eW)(" State ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("state")])},null,2)]),(0,l.Lk)("th",{onClick:t[7]||(t[7]=e=>o.sortBy("memberCount")),class:"sortable"},[t[50]||(t[50]=(0,l.eW)(" Members ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("memberCount")])},null,2)]),(0,l.Lk)("th",{onClick:t[8]||(t[8]=e=>o.sortBy("healthScore")),class:"sortable"},[t[51]||(t[51]=(0,l.eW)(" Health ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("healthScore")])},null,2)]),(0,l.Lk)("th",{onClick:t[9]||(t[9]=e=>o.sortBy("status")),class:"sortable"},[t[52]||(t[52]=(0,l.eW)(" Status ",-1)),(0,l.Lk)("i",{class:(0,n.C4)(["bi",o.getSortIcon("status")])},null,2)]),t[53]||(t[53]=(0,l.Lk)("th",null,"Actions",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"chapter-row"},[(0,l.Lk)("td",null,[(0,l.Lk)("div",is,[(0,l.Lk)("div",rs,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("strong",null,(0,n.v_)(e.name),1)])]),(0,l.Lk)("td",null,(0,n.v_)(e.university),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",cs,(0,n.v_)(e.state),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ds,[t[54]||(t[54]=(0,l.Lk)("i",{class:"bi bi-people me-1 text-muted"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.memberCount||0),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",{class:(0,n.C4)(["health-score",o.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",us,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)]),(0,l.Lk)("small",null,(0,n.v_)(e.healthScore||0)+"%",1)],2)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ms,[(0,l.Lk)("button",{onClick:t=>o.viewChapter(e),class:"btn btn-outline-primary",title:"View Details"},[...t[55]||(t[55]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,vs),(0,l.Lk)("button",{onClick:t=>o.editChapter(e),class:"btn btn-outline-secondary",title:"Edit Chapter"},[...t[56]||(t[56]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,bs),(0,l.Lk)("button",{onClick:t=>o.deleteChapter(e),class:"btn btn-outline-danger",title:"Delete Chapter"},[...t[57]||(t[57]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,ps)])])]))),128))])]),o.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",hs,[(0,l.Lk)("ul",gs,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[10]||(t[10]=e=>o.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[11]||(t[11]=e=>o.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{onClick:t=>o.currentPage=e,class:"page-link"},(0,n.v_)(e),9,ks)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[12]||(t[12]=e=>o.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[13]||(t[13]=e=>o.currentPage=o.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",ys,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.paginatedChapters,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4 mb-4"},[(0,l.Lk)("div",Ls,[(0,l.Lk)("div",fs,[(0,l.Lk)("div",ws,(0,n.v_)(e.name.charAt(0)),1),(0,l.Lk)("span",{class:(0,n.C4)(["badge",{"bg-success":"Active"===e.status,"bg-warning":"Inactive"===e.status,"bg-danger":"Suspended"===e.status,"bg-secondary":!e.status||"Unknown"===e.status}])},(0,n.v_)(e.status||"Unknown"),3)]),(0,l.Lk)("div",Cs,[(0,l.Lk)("h5",Es,(0,n.v_)(e.name),1),(0,l.Lk)("p",Ss,(0,n.v_)(e.university),1),(0,l.Lk)("div",xs,[(0,l.Lk)("small",Ts,[t[58]||(t[58]=(0,l.Lk)("i",{class:"bi bi-geo-alt me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),1)])]),(0,l.Lk)("div",As,[(0,l.Lk)("div",Rs,[(0,l.Lk)("div",Is,[(0,l.Lk)("div",Ms,(0,n.v_)(e.memberCount||0),1),t[59]||(t[59]=(0,l.Lk)("div",{class:"stat-label"},"Members",-1))])]),(0,l.Lk)("div",Ds,[(0,l.Lk)("div",Fs,[(0,l.Lk)("div",Ns,(0,n.v_)(e.healthScore||0)+"%",1),t[60]||(t[60]=(0,l.Lk)("div",{class:"stat-label"},"Health",-1))])])]),(0,l.Lk)("div",{class:(0,n.C4)(["health-score mb-3",o.getHealthClass(e.healthScore)])},[(0,l.Lk)("div",_s,[(0,l.Lk)("div",{class:"health-fill",style:(0,n.Tr)({width:e.healthScore+"%"})},null,4)])],2)]),(0,l.Lk)("div",Ps,[(0,l.Lk)("div",Us,[(0,l.Lk)("button",{onClick:t=>o.viewChapter(e),class:"btn btn-outline-primary"},[...t[61]||(t[61]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)(" View ",-1)])],8,Ws),(0,l.Lk)("button",{onClick:t=>o.editChapter(e),class:"btn btn-outline-secondary"},[...t[62]||(t[62]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)(" Edit ",-1)])],8,Xs),(0,l.Lk)("button",{onClick:t=>o.deleteChapter(e),class:"btn btn-outline-danger"},[...t[63]||(t[63]=[(0,l.Lk)("i",{class:"bi bi-trash me-1"},null,-1),(0,l.eW)(" Delete ",-1)])],8,Bs)])])])]))),128)),o.totalPages>1?((0,l.uX)(),(0,l.CE)("nav",Ks,[(0,l.Lk)("ul",Vs,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[14]||(t[14]=e=>o.currentPage=1),class:"page-link"},"First")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:1===o.currentPage}])},[(0,l.Lk)("button",{onClick:t[15]||(t[15]=e=>o.currentPage--),class:"page-link"},"Previous")],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.getVisiblePages(),e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{onClick:t=>o.currentPage=e,class:"page-link"},(0,n.v_)(e),9,$s)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[16]||(t[16]=e=>o.currentPage++),class:"page-link"},"Next")],2),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage===o.totalPages}])},[(0,l.Lk)("button",{onClick:t[17]||(t[17]=e=>o.currentPage=o.totalPages),class:"page-link"},"Last")],2)])])):(0,l.Q3)("",!0)])),o.loading||o.error||0!==o.filteredChapters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Os,[t[65]||(t[65]=(0,l.Lk)("i",{class:"bi bi-building display-1 text-muted"},null,-1)),t[66]||(t[66]=(0,l.Lk)("h3",{class:"text-muted mt-3"},"No chapters found",-1)),t[67]||(t[67]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your search criteria or add a new chapter.",-1)),(0,l.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>o.openAddModal&&o.openAddModal(...e)),class:"btn btn-primary"},[...t[64]||(t[64]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Add Chapter ",-1)])])])),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showAddModal}]),style:(0,n.Tr)({display:o.showAddModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Qs,[(0,l.Lk)("div",js,[(0,l.Lk)("div",Gs,[t[68]||(t[68]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)(" Add New Chapter ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=(...e)=>o.closeModal&&o.closeModal(...e))})]),(0,l.Lk)("div",Js,[(0,l.Lk)("form",{onSubmit:t[38]||(t[38]=(0,s.D$)((...e)=>o.saveChapter&&o.saveChapter(...e),["prevent"]))},[(0,l.Lk)("div",qs,[t[71]||(t[71]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Chapter Information")],-1)),(0,l.Lk)("div",Hs,[t[69]||(t[69]=(0,l.Lk)("label",{for:"chapterName",class:"form-label"},"Chapter Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"chapterName","onUpdate:modelValue":t[20]||(t[20]=e=>o.chapterForm.name=e),required:"",placeholder:"e.g., Turning Point USA - University of Texas"},null,512),[[s.Jo,o.chapterForm.name]])]),(0,l.Lk)("div",Ys,[t[70]||(t[70]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[21]||(t[21]=e=>o.chapterForm.description=e),rows:"3",placeholder:"Brief description of the chapter..."},null,512),[[s.Jo,o.chapterForm.description]])])]),(0,l.Lk)("div",zs,[t[74]||(t[74]=(0,l.Lk)("div",{class:"col-12 mb-3"},[(0,l.Lk)("h6",{class:"text-primary mb-3"},"Institution Association")],-1)),(0,l.Lk)("div",Zs,[(0,l.Lk)("div",el,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"existingInstitution",value:"existing","onUpdate:modelValue":t[22]||(t[22]=e=>o.institutionOption=e)},null,512),[[s.XL,o.institutionOption]]),t[72]||(t[72]=(0,l.Lk)("label",{class:"form-check-label",for:"existingInstitution"}," Select Existing Institution ",-1))]),(0,l.Lk)("div",tl,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionOption",id:"newInstitution",value:"new","onUpdate:modelValue":t[23]||(t[23]=e=>o.institutionOption=e)},null,512),[[s.XL,o.institutionOption]]),t[73]||(t[73]=(0,l.Lk)("label",{class:"form-check-label",for:"newInstitution"}," Add New Institution ",-1))])])]),"existing"===o.institutionOption?((0,l.uX)(),(0,l.CE)("div",al,[(0,l.Lk)("div",sl,[t[76]||(t[76]=(0,l.Lk)("label",{for:"existingInstitutionSelect",class:"form-label"},"Choose Institution *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"existingInstitutionSelect","onUpdate:modelValue":t[24]||(t[24]=e=>o.chapterForm.institutionId=e),required:""},[t[75]||(t[75]=(0,l.Lk)("option",{value:""},"Select an institution...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.institutions,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name)+" - "+(0,n.v_)(e.city)+", "+(0,n.v_)(e.state),9,ll))),128))],512),[[s.u1,o.chapterForm.institutionId]])])])):(0,l.Q3)("",!0),"new"===o.institutionOption?((0,l.uX)(),(0,l.CE)("div",nl,[(0,l.Lk)("div",ol,[t[79]||(t[79]=(0,l.Lk)("label",{class:"form-label"},"Institution Type *",-1)),(0,l.Lk)("div",il,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"university",value:"UNIVERSITY","onUpdate:modelValue":t[25]||(t[25]=e=>o.newInstitution.institutionType=e)},null,512),[[s.XL,o.newInstitution.institutionType]]),t[77]||(t[77]=(0,l.Lk)("label",{class:"form-check-label",for:"university"}," University ",-1))]),(0,l.Lk)("div",rl,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio",name:"institutionType",id:"church",value:"CHURCH","onUpdate:modelValue":t[26]||(t[26]=e=>o.newInstitution.institutionType=e)},null,512),[[s.XL,o.newInstitution.institutionType]]),t[78]||(t[78]=(0,l.Lk)("label",{class:"form-check-label",for:"church"}," Church ",-1))])]),(0,l.Lk)("div",cl,[(0,l.Lk)("label",dl,(0,n.v_)("UNIVERSITY"===o.newInstitution.institutionType?"University":"Church")+" Name *",1),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionName","onUpdate:modelValue":t[27]||(t[27]=e=>o.newInstitution.name=e),required:"",placeholder:"UNIVERSITY"===o.newInstitution.institutionType?"e.g., University of Texas at Austin":"e.g., First Baptist Church"},null,8,ul),[[s.Jo,o.newInstitution.name]])]),(0,l.Lk)("div",ml,[t[80]||(t[80]=(0,l.Lk)("label",{for:"institutionCity",class:"form-label"},"City *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionCity","onUpdate:modelValue":t[28]||(t[28]=e=>o.newInstitution.city=e),required:"",placeholder:"e.g., Austin"},null,512),[[s.Jo,o.newInstitution.city]])]),(0,l.Lk)("div",vl,[t[82]||(t[82]=(0,l.Lk)("label",{for:"institutionState",class:"form-label"},"State *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"institutionState","onUpdate:modelValue":t[29]||(t[29]=e=>o.newInstitution.state=e),required:""},[t[81]||(t[81]=(0,l.Lk)("option",{value:""},"Select State",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.usStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,bl))),128))],512),[[s.u1,o.newInstitution.state]])]),(0,l.Lk)("div",pl,[t[83]||(t[83]=(0,l.Lk)("label",{for:"institutionZipCode",class:"form-label"},"ZIP Code",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionZipCode","onUpdate:modelValue":t[30]||(t[30]=e=>o.newInstitution.zipCode=e),placeholder:"e.g., 78712"},null,512),[[s.Jo,o.newInstitution.zipCode]])]),(0,l.Lk)("div",hl,[t[84]||(t[84]=(0,l.Lk)("label",{for:"institutionAddress",class:"form-label"},"Address",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"institutionAddress","onUpdate:modelValue":t[31]||(t[31]=e=>o.newInstitution.address=e),placeholder:"e.g., 110 Inner Campus Drive"},null,512),[[s.Jo,o.newInstitution.address]])]),"UNIVERSITY"===o.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",gl,[t[86]||(t[86]=(0,l.Lk)("label",{for:"universityType",class:"form-label"},"University Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"universityType","onUpdate:modelValue":t[32]||(t[32]=e=>o.newInstitution.universityType=e)},[...t[85]||(t[85]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Type</option><option value="Public" data-v-a5ecd2c8>Public</option><option value="Private" data-v-a5ecd2c8>Private</option><option value="Community College" data-v-a5ecd2c8>Community College</option><option value="Technical" data-v-a5ecd2c8>Technical</option>',5)])],512),[[s.u1,o.newInstitution.universityType]])]),(0,l.Lk)("div",kl,[t[87]||(t[87]=(0,l.Lk)("label",{for:"studentPopulation",class:"form-label"},"Student Population",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"studentPopulation","onUpdate:modelValue":t[33]||(t[33]=e=>o.newInstitution.studentPopulation=e),placeholder:"e.g., 40000"},null,512),[[s.Jo,o.newInstitution.studentPopulation]])])],64)):(0,l.Q3)("",!0),"CHURCH"===o.newInstitution.institutionType?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("div",yl,[t[89]||(t[89]=(0,l.Lk)("label",{for:"denomination",class:"form-label"},"Denomination",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"denomination","onUpdate:modelValue":t[34]||(t[34]=e=>o.newInstitution.denomination=e)},[...t[88]||(t[88]=[(0,l.Fv)('<option value="" data-v-a5ecd2c8>Select Denomination</option><option value="Baptist" data-v-a5ecd2c8>Baptist</option><option value="Methodist" data-v-a5ecd2c8>Methodist</option><option value="Presbyterian" data-v-a5ecd2c8>Presbyterian</option><option value="Catholic" data-v-a5ecd2c8>Catholic</option><option value="Lutheran" data-v-a5ecd2c8>Lutheran</option><option value="Episcopal" data-v-a5ecd2c8>Episcopal</option><option value="Pentecostal" data-v-a5ecd2c8>Pentecostal</option><option value="Non-denominational" data-v-a5ecd2c8>Non-denominational</option><option value="Other" data-v-a5ecd2c8>Other</option>',10)])],512),[[s.u1,o.newInstitution.denomination]])]),(0,l.Lk)("div",Ll,[t[90]||(t[90]=(0,l.Lk)("label",{for:"pastorName",class:"form-label"},"Pastor Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"pastorName","onUpdate:modelValue":t[35]||(t[35]=e=>o.newInstitution.pastorName=e),placeholder:"e.g., Pastor John Smith"},null,512),[[s.Jo,o.newInstitution.pastorName]])]),(0,l.Lk)("div",fl,[t[91]||(t[91]=(0,l.Lk)("label",{for:"membershipSize",class:"form-label"},"Membership Size",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"membershipSize","onUpdate:modelValue":t[36]||(t[36]=e=>o.newInstitution.membershipSize=e),placeholder:"e.g., 500"},null,512),[[s.Jo,o.newInstitution.membershipSize]])]),(0,l.Lk)("div",wl,[t[92]||(t[92]=(0,l.Lk)("label",{for:"website",class:"form-label"},"Website",-1)),(0,l.bo)((0,l.Lk)("input",{type:"url",class:"form-control",id:"website","onUpdate:modelValue":t[37]||(t[37]=e=>o.newInstitution.website=e),placeholder:"e.g., https://church.org"},null,512),[[s.Jo,o.newInstitution.website]])])],64)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],32)]),(0,l.Lk)("div",Cl,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[39]||(t[39]=(...e)=>o.closeModal&&o.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[40]||(t[40]=(...e)=>o.saveChapter&&o.saveChapter(...e)),disabled:o.saving},[o.saving?((0,l.uX)(),(0,l.CE)("span",Sl)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.saving?"Creating...":"Create Chapter"),1)],8,El)])])])],6),o.showAddModal?((0,l.uX)(),(0,l.CE)("div",{key:5,class:"modal-backdrop fade show",onClick:t[41]||(t[41]=(...e)=>o.closeModal&&o.closeModal(...e))})):(0,l.Q3)("",!0)])])}const Tl=[{id:1,name:"University of California - Berkeley",university:"UC Berkeley",state:"California",city:"Berkeley",active:!0,foundedDate:"2020-09-01",memberCount:45,healthScore:85,lastActivity:"2024-10-15",description:"Leading innovation in the Bay Area with a focus on technology and entrepreneurship."},{id:2,name:"Harvard University",university:"Harvard University",state:"Massachusetts",city:"Cambridge",active:!0,foundedDate:"2019-08-15",memberCount:67,healthScore:92,lastActivity:"2024-10-16",description:"Prestigious chapter focusing on leadership development and academic excellence."},{id:3,name:"University of Texas - Austin",university:"UT Austin",state:"Texas",city:"Austin",active:!0,foundedDate:"2021-01-20",memberCount:38,healthScore:78,lastActivity:"2024-10-14",description:"Dynamic chapter promoting innovation and community engagement in the heart of Texas."},{id:4,name:"Stanford University",university:"Stanford University",state:"California",city:"Stanford",active:!0,foundedDate:"2020-02-10",memberCount:52,healthScore:88,lastActivity:"2024-10-17",description:"Silicon Valley chapter at the forefront of technology and entrepreneurship."},{id:5,name:"University of Florida",university:"University of Florida",state:"Florida",city:"Gainesville",active:!1,foundedDate:"2021-03-05",memberCount:23,healthScore:45,lastActivity:"2024-09-20",description:"Growing chapter with focus on community service and leadership development."}],Al={async getAllChapters(){console.log("🔍 SERVICE DEBUG: getAllChapters() called");try{const t=await Ea.A.get("/chapters");console.log("🔍 SERVICE DEBUG: API response:",t);let a=t.data;if("string"===typeof a)try{a=JSON.parse(a),console.log("🔍 SERVICE DEBUG: Parsed JSON string data:",a)}catch(e){return console.error("🔍 SERVICE DEBUG: Failed to parse JSON string:",e),console.warn("🔍 SERVICE DEBUG: Using mock data due to parse error"),Tl}return a&&Array.isArray(a)?(console.log("🔍 SERVICE DEBUG: Returning API data:",a.length,"chapters"),a):Array.isArray(t)?(console.log("🔍 SERVICE DEBUG: Returning direct response:",t.length,"chapters"),t):(console.warn("🔍 SERVICE DEBUG: Unexpected API response format, using mock data"),console.warn("🔍 SERVICE DEBUG: Expected array, got:",typeof a,a),Tl)}catch(t){return console.warn("Backend not available, using mock data:",t.message),console.log("🔍 SERVICE DEBUG: Returning mock chapters:",Tl.length,"items"),Tl}},async getChapterById(e){try{const t=await Ea.A.get(`/chapters/${e}`);return t.data}catch(t){throw t}},async createChapter(e){try{const t=await Ea.A.post("/chapters",e);return t.data}catch(t){throw t}},async updateChapter(e,t){try{const a=await Ea.A.put(`/chapters/${e}`,t);return a.data}catch(a){throw a}},async deleteChapter(e){try{return await Ea.A.delete(`/chapters/${e}`),!0}catch(t){throw t}},async searchChapters(e){try{const t=await Ea.A.get("/chapters/search",{params:e});return t.data}catch(t){throw t}},async getChaptersByState(e){try{const t=await Ea.A.get(`/chapters/state/${e}`);return t.data}catch(t){throw t}},async createChapterWithInstitution(e){try{const t=await Ea.A.post("/chapters/with-institution",e);return t.data}catch(t){throw t}},async getAllInstitutions(){try{const e=await Ea.A.get("/chapters/institutions");return e.data}catch(e){throw e}},async getAllUniversities(){try{const e=await Ea.A.get("/chapters/institutions/universities");return e.data}catch(e){throw e}},async getAllChurches(){try{const e=await Ea.A.get("/chapters/institutions/churches");return e.data}catch(e){throw e}},async searchInstitutions(e){try{const t=await Ea.A.get("/chapters/institutions/search",{params:{query:e}});return t.data}catch(t){throw t}}};var Rl=Al;const Il=[{id:1,firstName:"Alice",lastName:"Johnson",email:"alice.johnson@berkeley.edu",username:"alicej",chapterId:1,role:"PRESIDENT",active:!0,graduationYear:2025,major:"Computer Science",phoneNumber:"(555) 123-4567"},{id:2,firstName:"Bob",lastName:"Smith",email:"bob.smith@harvard.edu",username:"bobsmith",chapterId:2,role:"VICE_PRESIDENT",active:!0,graduationYear:2024,major:"Business Administration",phoneNumber:"(555) 234-5678"},{id:3,firstName:"Carol",lastName:"Davis",email:"carol.davis@utexas.edu",username:"carold",chapterId:3,role:"MEMBER",active:!0,graduationYear:2026,major:"Engineering",phoneNumber:"(555) 345-6789"}],Ml={async getAllMembers(){try{const e=await Ea.A.get("/members");return e.data}catch(e){return console.warn("Backend not available, using mock member data:",e.message),Il}},async getMemberById(e){try{const t=await Ea.A.get(`/members/${e}`);return t.data}catch(t){throw t}},async getMembersByChapter(e){try{const t=await Ea.A.get(`/members/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveMembersByChapter(e){try{const t=await Ea.A.get(`/members/chapter/${e}/active`);return t.data}catch(t){throw t}},async getMembersByRole(e,t){try{const a=await Ea.A.get(`/members/chapter/${e}/role/${t}`);return a.data}catch(a){throw a}},async getChapterOfficers(e){try{const t=await Ea.A.get(`/members/chapter/${e}/officers`);return t.data}catch(t){throw t}},async getChapterPresident(e){try{const t=await Ea.A.get(`/members/chapter/${e}/president`);return t.data}catch(t){throw t}},async createMember(e){try{const t=await Ea.A.post("/members",e);return t.data}catch(t){throw t}},async updateMember(e,t){const a={firstName:t.firstName,lastName:t.lastName,email:t.email,phoneNumber:t.phoneNumber||null,major:t.major||null,graduationYear:t.graduationYear||null,role:t.role,active:void 0===t.active||t.active,chapterId:t.chapter?t.chapter.id:null};console.log("🔍 Updating member with flexible request:",a);try{const t=await Ea.A.put(`/members/${e}/flexible`,a);return t.data}catch(s){console.error("❌ Flexible member update failed, trying original endpoint:",s);try{const t=await Ea.A.put(`/members/${e}`,a);return t.data}catch(l){throw console.error("❌ Both endpoints failed:",l),l}}},async updateMemberRole(e,t){try{const a=await Ea.A.put(`/members/${e}/role`,{role:t});return a.data}catch(a){throw a}},async deleteMember(e){try{return await Ea.A.delete(`/members/${e}`),!0}catch(t){throw t}},async activateMember(e){try{const t=await Ea.A.put(`/members/${e}/activate`);return t.data}catch(t){throw t}},async getMemberCount(e){try{const t=await Ea.A.get(`/members/chapter/${e}/count`);return t.data}catch(t){throw t}}};const Dl={class:"search-input-container position-relative"},Fl={class:"input-group"},Nl={class:"alert alert-info mt-2"},_l={key:0},Pl=["onClick"],Ul={class:"flex-grow-1"},Wl={class:"text-muted ms-2"},Xl={key:1},Bl={key:0,class:"dropdown-divider"},Kl=["onClick"],Vl={class:"flex-grow-1"},$l=["onClick"],Ol={key:2},Ql={class:"mt-3"},jl={key:0,class:"advanced-filters mt-3"},Gl={class:"card"},Jl={class:"card-body"},ql={class:"row g-3"},Hl={class:"col-md-6 col-lg-3"},Yl=["value"],zl={class:"col-md-6 col-lg-3"},Zl={class:"col-md-6 col-lg-3"},en={class:"form-label fw-semibold"},tn={class:"d-flex gap-2"},an={class:"col-md-6 col-lg-3"},sn={class:"col-md-6 col-lg-3"},ln={class:"col-md-6 col-lg-3"},nn={class:"form-label fw-semibold"},on={class:"d-flex align-items-center gap-2"},rn={class:"row mt-3"},cn={class:"col-12"},dn={class:"d-flex gap-2 flex-wrap"},un={key:1,class:"active-filters mt-3"},mn={class:"d-flex align-items-center flex-wrap gap-2"},vn=["onClick","title"],bn={key:2,class:"saved-searches mt-3"},pn={class:"d-flex flex-wrap gap-2"},hn=["onClick","title"],gn=["onClick"];function kn(e,t,a,o,i,r){return(0,l.uX)(),(0,l.CE)("div",{class:"advanced-search-component",tabindex:"0",onKeydown:t[27]||(t[27]=(...e)=>o.containerKeydown&&o.containerKeydown(...e)),ref:"searchContainer"},[(0,l.Lk)("div",Dl,[(0,l.Lk)("div",Fl,[t[29]||(t[29]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"searchInput",type:"text",class:"form-control",placeholder:"Search chapters, universities, cities, or states...","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>o.handleSearchInput&&o.handleSearchInput(...e)),onKeydown:t[2]||(t[2]=(...e)=>o.handleKeydown&&o.handleKeydown(...e)),onKeyup:t[3]||(t[3]=(...e)=>o.handleKeyup&&o.handleKeyup(...e)),onFocus:t[4]||(t[4]=e=>{o.showSuggestions=!0,console.log("🎯 INPUT FOCUSED - suggestions should show, showSuggestions will be:",!0)}),onBlur:t[5]||(t[5]=e=>{console.log("😴 INPUT BLURRED - hiding suggestions in 100ms"),o.hideSuggestionsDelayed}),autocomplete:"off"},null,544),[[s.Jo,o.searchQuery]]),o.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[6]||(t[6]=(...e)=>o.clearSearch&&o.clearSearch(...e)),title:"Clear search"},[...t[28]||(t[28]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-outline-info",type:"button",onClick:t[7]||(t[7]=e=>o.showSuggestions=!o.showSuggestions),title:"Toggle suggestions (debug)"},(0,n.v_)(o.showSuggestions?"Hide":"Show"),1),(0,l.Lk)("button",{class:"btn btn-outline-warning",type:"button",onClick:t[8]||(t[8]=(...e)=>o.closeSuggestions&&o.closeSuggestions(...e)),title:"Test close function"}," Test Close ")]),(0,l.Lk)("div",Nl,[(0,l.Lk)("small",null,[t[30]||(t[30]=(0,l.Lk)("strong",null,"Debug Info:",-1)),(0,l.eW)(" showSuggestions: "+(0,n.v_)(o.showSuggestions)+" | selectedIndex: "+(0,n.v_)(o.selectedSuggestionIndex)+' | searchQuery: "'+(0,n.v_)(o.searchQuery)+'" ',1)])]),o.showSuggestions&&(o.filteredSuggestions.length>0||o.recentSearches.length,1)?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"search-suggestions dropdown-menu show position-absolute w-100 mt-1",style:{"max-height":"300px","overflow-y":"auto","z-index":"1050"},onMousedown:t[11]||(t[11]=(0,s.D$)(()=>{},["prevent"]))},[o.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("div",_l,[t[31]||(t[31]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)(" Suggestions ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredSuggestions.slice(0,8),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`suggestion-${a}`,class:(0,n.C4)(["dropdown-item d-flex align-items-center",{active:o.selectedSuggestionIndex===a}]),onClick:(0,s.D$)(t=>o.selectSuggestion(e),["stop"]),onMousedown:t[9]||(t[9]=(0,s.D$)(()=>{},["prevent"]))},[(0,l.Lk)("i",{class:(0,n.C4)([o.getSuggestionIcon(e.type),"me-2"])},null,2),(0,l.Lk)("span",Ul,(0,n.v_)(e.text),1),(0,l.Lk)("small",Wl,(0,n.v_)(e.type),1)],42,Pl))),128))])):(0,l.Q3)("",!0),o.recentSearches.length>0?((0,l.uX)(),(0,l.CE)("div",Xl,[o.filteredSuggestions.length>0?((0,l.uX)(),(0,l.CE)("hr",Bl)):(0,l.Q3)("",!0),t[34]||(t[34]=(0,l.Lk)("h6",{class:"dropdown-header"},[(0,l.Lk)("i",{class:"bi bi-clock-history me-2"}),(0,l.eW)(" Recent Searches ")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.recentSearches.slice(0,5),(e,a)=>((0,l.uX)(),(0,l.CE)("button",{key:`recent-${a}`,class:"dropdown-item d-flex align-items-center",onClick:(0,s.D$)(t=>o.selectRecentSearch(e),["stop"]),onMousedown:t[10]||(t[10]=(0,s.D$)(()=>{},["prevent"]))},[t[33]||(t[33]=(0,l.Lk)("i",{class:"bi bi-clock me-2"},null,-1)),(0,l.Lk)("span",Vl,(0,n.v_)(e.query),1),(0,l.Lk)("button",{class:"btn btn-sm btn-link text-muted p-0 ms-2",onClick:(0,s.D$)(e=>o.removeRecentSearch(a),["stop"]),title:"Remove"},[...t[32]||(t[32]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)])],8,$l)],40,Kl))),128))])):(0,l.Q3)("",!0),0===o.filteredSuggestions.length&&0===o.recentSearches.length?((0,l.uX)(),(0,l.CE)("div",Ol,[...t[35]||(t[35]=[(0,l.Lk)("div",{class:"dropdown-item-text text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" Suggestions dropdown is visible - Press Escape to close ")],-1)])])):(0,l.Q3)("",!0)],32)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ql,[(0,l.Lk)("button",{class:(0,n.C4)(["btn btn-outline-secondary btn-sm",{active:o.showAdvancedFilters}]),onClick:t[12]||(t[12]=e=>o.showAdvancedFilters=!o.showAdvancedFilters)},[t[36]||(t[36]=(0,l.Lk)("i",{class:"bi bi-sliders me-2"},null,-1)),t[37]||(t[37]=(0,l.eW)(" Advanced Filters ",-1)),(0,l.Lk)("i",{class:(0,n.C4)([o.showAdvancedFilters?"bi bi-chevron-up":"bi bi-chevron-down","ms-2"])},null,2)],2)]),o.showAdvancedFilters?((0,l.uX)(),(0,l.CE)("div",jl,[(0,l.Lk)("div",Gl,[(0,l.Lk)("div",Jl,[(0,l.Lk)("div",ql,[(0,l.Lk)("div",Hl,[t[39]||(t[39]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.filters.state=e),class:"form-select"},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.availableStates,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Yl))),128))],512),[[s.u1,o.filters.state]])]),(0,l.Lk)("div",zl,[t[40]||(t[40]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"City",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.filters.city=e),type:"text",class:"form-control",placeholder:"Enter city name"},null,512),[[s.Jo,o.filters.city]])]),(0,l.Lk)("div",Zl,[(0,l.Lk)("label",en," Health Score: "+(0,n.v_)(o.filters.healthScoreMin)+"-"+(0,n.v_)(o.filters.healthScoreMax),1),(0,l.Lk)("div",tn,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.filters.healthScoreMin=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,o.filters.healthScoreMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>o.filters.healthScoreMax=e),type:"range",class:"form-range",min:"0",max:"100",step:"5"},null,512),[[s.Jo,o.filters.healthScoreMax,void 0,{number:!0}]])])]),(0,l.Lk)("div",an,[t[42]||(t[42]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[17]||(t[17]=e=>o.filters.active=e),class:"form-select"},[...t[41]||(t[41]=[(0,l.Lk)("option",{value:""},"All Chapters",-1),(0,l.Lk)("option",{value:"true"},"Active Only",-1),(0,l.Lk)("option",{value:"false"},"Inactive Only",-1)])],512),[[s.u1,o.filters.active]])]),(0,l.Lk)("div",sn,[t[43]||(t[43]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Founded After",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.filters.foundedAfter=e),type:"date",class:"form-control"},null,512),[[s.Jo,o.filters.foundedAfter]])]),(0,l.Lk)("div",ln,[(0,l.Lk)("label",nn," Min Members: "+(0,n.v_)(o.filters.memberCountMin),1),(0,l.Lk)("div",on,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>o.filters.memberCountMin=e),type:"range",class:"form-range flex-grow-1",min:"0",max:"500",step:"1",onInput:t[20]||(t[20]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,o.filters.memberCountMin,void 0,{number:!0}]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>o.filters.memberCountMin=e),type:"number",class:"form-control",style:{width:"70px"},min:"0",max:"500",step:"1",onInput:t[22]||(t[22]=(...t)=>e.updateFilterResults&&e.updateFilterResults(...t))},null,544),[[s.Jo,o.filters.memberCountMin,void 0,{number:!0}]])])])]),(0,l.Lk)("div",rn,[(0,l.Lk)("div",cn,[(0,l.Lk)("div",dn,[(0,l.Lk)("button",{class:"btn btn-primary btn-sm",onClick:t[23]||(t[23]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-funnel me-1"},null,-1),(0,l.eW)(" Apply Filters ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[24]||(t[24]=(...e)=>o.clearAllFilters&&o.clearAllFilters(...e))},[...t[45]||(t[45]=[(0,l.Lk)("i",{class:"bi bi-x-circle me-1"},null,-1),(0,l.eW)(" Clear All ",-1)])]),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:t[25]||(t[25]=(...e)=>o.saveCurrentSearch&&o.saveCurrentSearch(...e))},[...t[46]||(t[46]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])])])])):(0,l.Q3)("",!0),o.hasActiveFilters?((0,l.uX)(),(0,l.CE)("div",un,[(0,l.Lk)("div",mn,[t[47]||(t[47]=(0,l.Lk)("span",{class:"text-muted fw-semibold"},"Active filters:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.activeFiltersList,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary d-flex align-items-center gap-1"},[(0,l.eW)((0,n.v_)(e.label)+" ",1),(0,l.Lk)("button",{class:"btn-close btn-close-white",style:{"font-size":"0.7em"},onClick:t=>o.removeFilter(e.key),title:`Remove ${e.label}`},null,8,vn)]))),128)),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[26]||(t[26]=(...e)=>o.clearAllFilters&&o.clearAllFilters(...e))}," Clear All ")])])):(0,l.Q3)("",!0),o.savedSearches.length>0?((0,l.uX)(),(0,l.CE)("div",bn,[t[50]||(t[50]=(0,l.Lk)("h6",{class:"fw-semibold mb-2"},[(0,l.Lk)("i",{class:"bi bi-bookmarks me-2"}),(0,l.eW)(" Saved Searches ")],-1)),(0,l.Lk)("div",pn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.savedSearches,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:`saved-${a}`,class:"d-flex align-items-center"},[(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-2 flex-grow-1",onClick:t=>o.loadSavedSearch(e),title:e.description},[t[48]||(t[48]=(0,l.Lk)("i",{class:"bi bi-bookmark"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.name),1)],8,hn),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm ms-1",style:{"font-size":"0.6em"},onClick:(0,s.D$)(e=>o.removeSavedSearch(a),["stop"]),title:"Remove saved search"},[...t[49]||(t[49]=[(0,l.Lk)("i",{class:"bi bi-x"},null,-1)])],8,gn)]))),128))])])):(0,l.Q3)("",!0),t[51]||(t[51]=(0,l.Lk)("div",{class:"keyboard-shortcuts mt-2"},[(0,l.Lk)("small",{class:"text-muted"},[(0,l.Lk)("i",{class:"bi bi-keyboard me-1"}),(0,l.Lk)("strong",null,"Shortcuts:"),(0,l.Lk)("kbd",null,"Ctrl+K"),(0,l.eW)(" Focus search • "),(0,l.Lk)("kbd",null,"↑/↓"),(0,l.eW)(" Navigate suggestions • "),(0,l.Lk)("kbd",null,"Enter"),(0,l.eW)(" Select • "),(0,l.Lk)("kbd",null,"Esc"),(0,l.eW)(" Close ")])],-1))],544)}class yn{async globalSearch(e,t={},a={}){try{const s=new URLSearchParams;e&&s.append("query",e),t.states?.length&&s.append("states",t.states.join(",")),t.statuses?.length&&s.append("statuses",t.statuses.join(",")),t.minMembers&&s.append("minMembers",t.minMembers),t.maxMembers&&s.append("maxMembers",t.maxMembers),t.minHealthScore&&s.append("minHealthScore",t.minHealthScore),t.maxHealthScore&&s.append("maxHealthScore",t.maxHealthScore),a.page&&s.append("page",a.page),a.size&&s.append("size",a.size);const l=await Ea.A.get(`/search/global?${s.toString()}`);return l.data}catch(s){throw console.error("Error performing global search:",s),s}}async getRecommendations(e,t=5){try{const a=new URLSearchParams;e&&a.append("memberId",e),t&&a.append("limit",t);const s=await Ea.A.get(`/search/recommendations?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting recommendations:",a),a}}async getSimilarChapters(e,t=5){try{const a=new URLSearchParams;t&&a.append("limit",t);const s=await Ea.A.get(`/search/similar/${e}?${a.toString()}`);return s.data}catch(a){throw console.error("Error getting similar chapters:",a),a}}async getSuggestions(e){try{const t=await Ea.A.get(`/search/suggestions?partial=${encodeURIComponent(e)}`);return t.data}catch(t){throw console.error("Error getting search suggestions:",t),t}}async getTrendingChapters(e=10){try{const t=await Ea.A.get(`/search/trending?limit=${e}`);return t.data}catch(t){throw console.error("Error getting trending chapters:",t),t}}async facetedSearch(e={}){try{const t=new URLSearchParams;Object.entries(e).forEach(([e,a])=>{a&&t.append(e,a)});const a=await Ea.A.get(`/search/faceted?${t.toString()}`);return a.data}catch(t){throw console.error("Error performing faceted search:",t),t}}async geographicSearch(e,t,a=50,s=10){try{const l=new URLSearchParams({latitude:e.toString(),longitude:t.toString(),radiusKm:a.toString(),limit:s.toString()}),n=await Ea.A.get(`/search/geographic?${l.toString()}`);return n.data}catch(l){throw console.error("Error performing geographic search:",l),l}}async getSavedSearches(e){try{return[]}catch(t){throw console.error("Error getting saved searches:",t),t}}async saveSearch(e,t,a){try{return{success:!0,message:"Search saved successfully"}}catch(s){throw console.error("Error saving search:",s),s}}debounce(e,t){let a;return function(...s){const l=()=>{clearTimeout(a),e(...s)};clearTimeout(a),a=setTimeout(l,t)}}}var Ln=new yn,fn={name:"EnhancedSearch",props:{chapters:{type:Array,default:()=>[]},availableStates:{type:Array,default:()=>[]}},emits:["search","filter-change","search-results"],setup(e,{emit:t}){const a=(0,F.KR)(""),s=(0,F.KR)(!1),n=(0,F.KR)(!1),o=(0,F.KR)(-1),i=(0,F.KR)(null),r=(0,F.KR)(null),c=(0,F.KR)(!1),d=(0,F.KR)({state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""}),u=(0,F.KR)([]),m=(0,F.KR)([]),v=(0,F.KR)([]),b=(0,F.KR)([]),p=(0,F.KR)([]),h=(0,F.KR)(null),g=(0,F.KR)(null),k=(0,F.KR)(null);(0,l.sV)(()=>{console.log("🚀 EnhancedSearch component MOUNTED successfully"),L(),q(),y(),w(),C(),console.log("✅ Enhanced Search component setup complete - ESC key handling initialized")}),(0,l.hi)(()=>{H(),console.log("Enhanced Search component unmounted")});const y=()=>{g.value=Ln.debounce(E,500),k.value=Ln.debounce(f,300)},L=()=>{const e=localStorage.getItem("recentSearches"),t=localStorage.getItem("savedSearches");e&&(u.value=JSON.parse(e)),t&&(m.value=JSON.parse(t))},f=async()=>{if(a.value.length<2)v.value=[];else try{const e=await Ln.getSuggestions(a.value);v.value=e.map(e=>({type:"smart",text:e,value:e}))}catch(e){console.error("Error fetching smart suggestions:",e),v.value=[]}},w=async()=>{try{b.value=await Ln.getRecommendations(null,3)}catch(e){console.error("Error loading recommendations:",e)}},C=async()=>{try{p.value=await Ln.getTrendingChapters(5)}catch(e){console.error("Error loading trending chapters:",e)}},E=async()=>{if(!a.value.trim()&&!A.value)return h.value=null,void t("search-results",null);c.value=!0;try{const e={states:d.value.state?[d.value.state]:[],statuses:d.value.active?["true"===d.value.active?"Active":"Inactive"]:[],minMembers:d.value.memberCountMin>0?d.value.memberCountMin:null,maxMembers:null,minHealthScore:d.value.healthScoreMin>0?d.value.healthScoreMin:null,maxHealthScore:d.value.healthScoreMax<100?d.value.healthScoreMax:null},s=await Ln.globalSearch(a.value.trim(),e,{page:0,size:20});h.value=s,t("search-results",s),t("search",{query:a.value,...d.value,results:s})}catch(e){console.error("Error performing backend search:",e),S()}finally{c.value=!1}},S=()=>{const e={query:a.value,...d.value};a.value&&O(a.value),t("search",e)},x=(0,l.EW)(()=>{if(!a.value||a.value.length<2)return v.value;const t=a.value.toLowerCase(),s=[];e.chapters.forEach(e=>{e.name.toLowerCase().includes(t)&&s.push({type:"chapter",text:e.name,value:e.name})});const l=[...new Set(e.chapters.map(e=>e.universityName))];l.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"university",text:e,value:e})}),e.availableStates.forEach(e=>{e.toLowerCase().includes(t)&&s.push({type:"state",text:e,value:e})});const n=[...new Set(e.chapters.map(e=>e.city))];n.forEach(e=>{e&&e.toLowerCase().includes(t)&&s.push({type:"city",text:e,value:e})});const o=[...v.value,...s],i=o.filter((e,t,a)=>t===a.findIndex(t=>t.text===e.text));return i.slice(0,12)}),T=e=>{const t={chapter:"bi bi-building",university:"bi bi-mortarboard",state:"bi bi-geo-alt",city:"bi bi-geo",smart:"bi bi-lightbulb"};return t[e]||"bi bi-search"},A=(0,l.EW)(()=>a.value||d.value.state||d.value.city||d.value.healthScoreMin>0||d.value.healthScoreMax<100||d.value.memberCountMin>0||d.value.active||d.value.foundedAfter),R=(0,l.EW)(()=>{const e=[];return a.value&&e.push({key:"search",label:`Search: "${a.value}"`}),d.value.state&&e.push({key:"state",label:`State: ${d.value.state}`}),d.value.city&&e.push({key:"city",label:`City: ${d.value.city}`}),(d.value.healthScoreMin>0||d.value.healthScoreMax<100)&&e.push({key:"healthScore",label:`Health: ${d.value.healthScoreMin}-${d.value.healthScoreMax}`}),d.value.memberCountMin>0&&e.push({key:"memberCount",label:`Min Members: ${d.value.memberCountMin}`}),d.value.active&&e.push({key:"active",label:"Status: "+("true"===d.value.active?"Active":"Inactive")}),d.value.foundedAfter&&e.push({key:"foundedAfter",label:`Founded after: ${d.value.foundedAfter}`}),e}),I=()=>{o.value=-1,k.value&&k.value(),g.value&&g.value()},M=e=>{if(console.log("🔥 KEYDOWN EVENT FIRED:",e.key,"showSuggestions:",s.value),s.value&&console.log("INPUT handleKeydown:",e.key,"code:",e.code),"Escape"===e.key)return console.log("🚨 ESCAPE KEY DETECTED in handleKeydown!"),e.preventDefault(),e.stopPropagation(),void D();if(!s.value)return;const t=x.value.length+u.value.length;switch(e.key){case"ArrowDown":console.log("Arrow down pressed"),e.preventDefault(),o.value=Math.min(o.value+1,t-1);break;case"ArrowUp":console.log("Arrow up pressed"),e.preventDefault(),o.value=Math.max(o.value-1,-1);break;case"Enter":if(console.log("Enter pressed"),e.preventDefault(),o.value>=0)if(o.value<x.value.length)P(x.value[o.value]);else{const e=o.value-x.value.length;U(u.value[e])}break}},D=()=>{console.log("🎯 CLOSING SUGGESTIONS - showSuggestions was:",s.value),s.value=!1,o.value=-1,console.log("🎯 CLOSED SUGGESTIONS - showSuggestions now:",s.value)},N=e=>{},_=e=>{console.log("Container keydown:",e.key,"showSuggestions:",s.value),"Escape"===e.key&&s.value&&(console.log("CONTAINER: Escape key detected as backup!"),e.preventDefault(),e.stopPropagation(),D())},P=e=>{a.value=e.text,D(),O(e.text),E(),(0,l.dY)(()=>{i.value&&i.value.focus()})},U=e=>{a.value=e.query,D(),E(),(0,l.dY)(()=>{i.value&&i.value.focus()})},W=()=>{console.log("⏰ HIDING SUGGESTIONS IN 100ms..."),setTimeout(()=>{console.log("💤 TIMEOUT EXECUTED - calling closeSuggestions()"),D()},100)},X=()=>{D()},B=()=>{a.value="",E()},K=()=>{E(),t("filter-change",d.value)},V=()=>{a.value="",d.value={state:"",city:"",healthScoreMin:0,healthScoreMax:100,memberCountMin:0,active:"",foundedAfter:""},E()},$=e=>{switch(e){case"search":a.value="";break;case"state":d.value.state="";break;case"city":d.value.city="";break;case"healthScore":d.value.healthScoreMin=0,d.value.healthScoreMax=100;break;case"memberCount":d.value.memberCountMin=0;break;case"active":d.value.active="";break;case"foundedAfter":d.value.foundedAfter="";break}E()},O=e=>{if(!e.trim())return;const t=u.value.findIndex(t=>t.query===e);t>=0&&u.value.splice(t,1),u.value.unshift({query:e,timestamp:Date.now()}),u.value=u.value.slice(0,10),localStorage.setItem("recentSearches",JSON.stringify(u.value))},Q=e=>{u.value.splice(e,1),localStorage.setItem("recentSearches",JSON.stringify(u.value))},j=async()=>{if(!A.value)return void alert("No active filters to save!");const e=prompt("Enter a name for this search:");if(e)try{const t={query:a.value,filters:d.value};await Ln.saveSearch(null,e,t);const s={name:e,query:a.value,filters:{...d.value},timestamp:Date.now(),description:R.value.map(e=>e.label).join(", ")};m.value.push(s),localStorage.setItem("savedSearches",JSON.stringify(m.value))}catch(t){console.error("Error saving search:",t),alert("Failed to save search. Please try again.")}},G=e=>{a.value=e.query,d.value={...e.filters},E()},J=e=>{m.value.splice(e,1),localStorage.setItem("savedSearches",JSON.stringify(m.value))},q=()=>{document.addEventListener("keydown",Y)},H=()=>{document.removeEventListener("keydown",Y)},Y=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),i.value?.focus()),"Escape"===e.key&&s.value&&(console.log("Global Escape detected as final backup, showSuggestions:",s.value),setTimeout(()=>{s.value&&(console.log("Global Escape executing closure after timeout"),D())},0))};return(0,l.wB)(d,()=>{A.value&&g.value&&g.value()},{deep:!0}),{searchQuery:a,showSuggestions:s,showAdvancedFilters:n,selectedSuggestionIndex:o,searchInput:i,searchContainer:r,isSearching:c,filters:d,recentSearches:u,savedSearches:m,smartSuggestions:v,recommendations:b,trendingChapters:p,searchResults:h,filteredSuggestions:x,hasActiveFilters:A,activeFiltersList:R,getSuggestionIcon:T,handleSearchInput:I,handleKeydown:M,handleKeyup:N,containerKeydown:_,closeSuggestions:D,selectSuggestion:P,selectRecentSearch:U,hideSuggestionsDelayed:W,hideSuggestionsImmediately:X,clearSearch:B,applyFilters:K,clearAllFilters:V,removeFilter:$,removeRecentSearch:Q,saveCurrentSearch:j,loadSavedSearch:G,removeSavedSearch:J,performBackendSearch:E,loadRecommendations:w,loadTrendingChapters:C}}};const wn=(0,W.A)(fn,[["render",kn],["__scopeId","data-v-6d3d1732"]]);var Cn=wn,En={name:"Chapters",components:{EnhancedSearch:Cn},setup(){const e=(0,F.KR)([]),t=(0,F.KR)([]),a=(0,F.KR)([]),s=(0,F.KR)(!0),n=(0,F.KR)(null),o=(0,F.KR)(""),i=(0,F.KR)(""),r=(0,F.KR)(""),c=(0,F.KR)("table"),d=(0,F.KR)(null),u=(0,F.KR)(1),m=(0,F.KR)(10),v=(0,F.KR)("name"),b=(0,F.KR)("asc"),p=(0,F.KR)(!1),h=(0,F.KR)(!1),g=(0,F.KR)([]),k=(0,F.KR)("existing"),y=(0,F.KR)({name:"",description:"",institutionId:null}),L=(0,F.KR)({institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""}),f=(0,F.KR)(["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]),w=(0,l.EW)(()=>{const t=[...new Set(e.value.map(e=>e.state).filter(Boolean))];return t.sort()}),C=(0,l.EW)(()=>a.value.filter(e=>"Active"===e.status).length),E=(0,l.EW)(()=>{if(0===a.value.length)return 0;const e=a.value.reduce((e,t)=>e+(t.healthScore||0),0);return Math.round(e/a.value.length)}),S=(0,l.EW)(()=>{const e=(u.value-1)*m.value,t=e+m.value;return a.value.slice(e,t)}),x=(0,l.EW)(()=>Math.ceil(a.value.length/m.value)),T=async()=>{try{s.value=!0,n.value=null,console.log("Loading chapters from chapter service...");const l=await Rl.getAllChapters();console.log("Chapters response:",l);let o=l;l&&l.data&&Array.isArray(l.data)?o=l.data:Array.isArray(l)?o=l:(console.warn("Unexpected response format:",l),o=[]),e.value=o,t.value=[...o],console.log(`Loaded ${e.value.length} chapters`),t.value=[...e.value],a.value=[...e.value],console.log(`Successfully loaded ${e.value.length} chapters`)}catch(l){console.error("Error loading chapters:",l),n.value="Failed to load chapters. Please try again.",e.value=[],t.value=[],a.value=[]}finally{s.value=!1}},A=()=>{let t=[...e.value];if(o.value){const e=o.value.toLowerCase();t=t.filter(t=>t.name?.toLowerCase().includes(e)||t.university?.toLowerCase().includes(e)||t.city?.toLowerCase().includes(e)||t.state?.toLowerCase().includes(e))}i.value&&(t=t.filter(e=>e.state===i.value)),r.value&&(t=t.filter(e=>e.status===r.value)),t.sort((e,t)=>{let a=e[v.value],s=t[v.value];return null==a&&(a=""),null==s&&(s=""),"string"===typeof a?(a=a.toLowerCase(),s=String(s).toLowerCase(),"asc"===b.value?a.localeCompare(s):s.localeCompare(a)):"asc"===b.value?a-s:s-a}),a.value=t,u.value=1},R=e=>{v.value===e?b.value="asc"===b.value?"desc":"asc":(v.value=e,b.value="asc"),A()},I=e=>v.value!==e?"bi-chevron-expand":"asc"===b.value?"bi-chevron-up":"bi-chevron-down",M=()=>{c.value="table"===c.value?"cards":"table"},D=e=>e?e>=80?"health-excellent":e>=60?"health-good":e>=40?"health-fair":"health-poor":"health-poor",N=()=>{const e=[],t=5,a=Math.max(1,u.value-Math.floor(t/2)),s=Math.min(x.value,a+t-1);for(let l=a;l<=s;l++)e.push(l);return e},_=()=>{const e=["Name","University","City","State","Status","Members","Health Score"],t=[e.join(","),...a.value.map(e=>[`"${e.name||""}"`,`"${e.university||""}"`,`"${e.city||""}"`,`"${e.state||""}"`,`"${e.status||""}"`,e.memberCount||0,e.healthScore||0].join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),l=URL.createObjectURL(s),n=document.createElement("a");n.href=l,n.download=`chapters_${(new Date).toISOString().split("T")[0]}.csv`,n.click(),URL.revokeObjectURL(l)},P=e=>{console.log("View chapter:",e)},U=e=>{console.log("Edit chapter:",e)},W=e=>{console.log("Delete chapter:",e)},X=e=>{if(console.log("Search triggered:",e),d.value&&d.value.chapters)return a.value=d.value.chapters,void(u.value=1);o.value=e.query||"",i.value=e.state||"",r.value="true"===e.active?"Active":"false"===e.active?"Inactive":"",A()},B=t=>{console.log("Search results received:",t),d.value=t,t&&t.chapters?(a.value=t.chapters,u.value=1):a.value=[...e.value]},K=e=>{console.log("Filters changed:",e)},V=async()=>{try{const e=await Rl.getAllInstitutions();g.value=e||[]}catch(n){console.error("Error loading institutions:",n),g.value=[]}},$=()=>{y.value={name:"",description:"",institutionId:null},L.value={institutionType:"UNIVERSITY",name:"",state:"",city:"",zipCode:"",address:"",description:"",universityType:"",accreditation:"",studentPopulation:null,universityFoundedYear:null,denomination:"",pastorName:"",membershipSize:null,churchFoundedYear:null,website:""},k.value="existing",p.value=!0,V()},O=()=>{p.value=!1,h.value=!1},Q=async()=>{try{h.value=!0;const e={name:y.value.name,description:y.value.description};if("existing"===k.value){if(!y.value.institutionId)return void alert("Please select an institution");e.institutionId=y.value.institutionId}else{if(!L.value.name||!L.value.state||!L.value.city)return void alert("Please fill in all required institution fields");e.newInstitution={...L.value}}await Rl.createChapterWithInstitution(e);await T(),O(),alert("Chapter created successfully!")}catch(n){let t="Error creating chapter. Please try again.";n.response&&400===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error.includes("Institution with this name already exists")?"An institution with this name already exists. Please choose a different name or select an existing institution.":n.response.data.error:"Invalid request. Please check all required fields are filled correctly.",console.info("Chapter creation validation error:",n.response.data?.error||"Bad request")):n.response&&500===n.response.status?(t=n.response.data&&n.response.data.error?n.response.data.error:"Server error occurred. Please try again later.",console.error("Server error creating chapter:",n)):"NETWORK_ERROR"!==n.code&&n.response?console.error("Unexpected error creating chapter:",n):(t="Network error. Please check your connection and try again.",console.error("Network error creating chapter:",n)),alert(t)}finally{h.value=!1}};return(0,l.wB)([v,b],()=>{A()}),(0,l.sV)(()=>{T()}),{chapters:e,allChapters:t,filteredChapters:a,loading:s,error:n,searchQuery:o,selectedState:i,selectedStatus:r,currentView:c,currentPage:u,itemsPerPage:m,sortField:v,sortDirection:b,searchResults:d,availableStates:w,activeChapters:C,averageHealth:E,paginatedChapters:S,totalPages:x,loadChapters:T,applyFilters:A,sortBy:R,getSortIcon:I,toggleView:M,getHealthClass:D,getVisiblePages:N,exportToCSV:_,viewChapter:P,editChapter:U,deleteChapter:W,handleSearch:X,handleSearchResults:B,handleFilterChange:K,showAddModal:p,saving:h,institutions:g,institutionOption:k,chapterForm:y,newInstitution:L,usStates:f,openAddModal:$,closeModal:O,saveChapter:Q}}};const Sn=(0,W.A)(En,[["render",xl],["__scopeId","data-v-a5ecd2c8"]]);var xn=Sn;const Tn={class:"members"},An={class:"container"},Rn={class:"row mb-4"},In={class:"col-md-6"},Mn={class:"col-md-6"},Dn={class:"row mb-4"},Fn={class:"col-md-4"},Nn=["value"],_n={class:"col-md-4"},Pn={class:"col-md-4"},Un={key:1,class:"card"},Wn={class:"card-body p-0"},Xn={key:2,class:"card"},Bn={class:"card-header bg-light"},Kn={class:"card-title mb-0"},Vn={class:"card-body p-0"},$n={key:0,class:"text-center py-4 text-muted"},On={key:1,class:"table-responsive"},Qn={class:"table table-hover mb-0"},jn={key:1,class:"text-muted"},Gn={class:"btn-group",role:"group"},Jn=["onClick"],qn=["onClick"],Hn={class:"modal-dialog modal-lg"},Yn={class:"modal-content"},zn={class:"modal-header"},Zn={class:"modal-title"},eo={class:"modal-body"},to={class:"row"},ao={class:"col-md-6 mb-3"},so={class:"col-md-6 mb-3"},lo={class:"mb-3"},no={class:"mb-3"},oo={class:"row"},io={class:"col-md-6 mb-3"},ro=["value"],co={class:"col-md-6 mb-3"},uo={class:"row"},mo={class:"col-md-6 mb-3"},vo={class:"col-md-6 mb-3"},bo={class:"modal-footer"},po=["disabled"],ho={key:0,class:"spinner-border spinner-border-sm me-2"},go={class:"modal-dialog"},ko={class:"modal-content"},yo={class:"modal-header"},Lo={class:"modal-body"},fo={class:"modal-footer"};function wo(e,t,a,o,i,r){const c=(0,l.g2)("AdvancedSearchPanel"),d=(0,l.g2)("SkeletonLoader"),u=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Tn,[(0,l.Lk)("div",An,[t[33]||(t[33]=(0,l.Fv)('<div class="row mb-4" data-v-59e7922b><div class="col" data-v-59e7922b><h1 class="display-4 text-center mb-3" data-v-59e7922b><i class="bi bi-people-fill text-success me-3" data-v-59e7922b></i> Members </h1><p class="lead text-center text-muted" data-v-59e7922b> Manage chapter members and their roles </p></div></div>',1)),(0,l.Lk)("div",Rn,[(0,l.Lk)("div",In,[(0,l.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=e=>i.showCreateModal=!0)},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,l.eW)(" Add New Member ",-1)])])]),(0,l.Lk)("div",Mn,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:t[1]||(t[1]=e=>i.showAdvancedSearch=!i.showAdvancedSearch)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-funnel me-2"},null,-1),(0,l.eW)(" Advanced Search ",-1)])])])]),i.showAdvancedSearch?((0,l.uX)(),(0,l.Wv)(c,{key:0,"search-categories":i.memberSearchCategories,onSearch:r.handleAdvancedSearch,onClose:t[2]||(t[2]=e=>i.showAdvancedSearch=!1)},null,8,["search-categories","onSearch"])):(0,l.Q3)("",!0),(0,l.Lk)("div",Dn,[(0,l.Lk)("div",Fn,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedChapter=e)},[t[24]||(t[24]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Nn))),128))],512),[[s.u1,i.selectedChapter]])]),(0,l.Lk)("div",_n,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedRole=e)},[...t[25]||(t[25]=[(0,l.Fv)('<option value="" data-v-59e7922b>All Roles</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,i.selectedRole]])]),(0,l.Lk)("div",Pn,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedStatus=e)},[...t[26]||(t[26]=[(0,l.Lk)("option",{value:""},"All Status",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],512),[[s.u1,i.selectedStatus]])])]),i.loading?((0,l.uX)(),(0,l.CE)("div",Un,[t[27]||(t[27]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-table me-2"}),(0,l.eW)(" Loading Members... ")])],-1)),(0,l.Lk)("div",Wn,[(0,l.bF)(d,{type:"table",rows:5})])])):((0,l.uX)(),(0,l.CE)("div",Xn,[(0,l.Lk)("div",Bn,[(0,l.Lk)("h5",Kn,[t[28]||(t[28]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(r.filteredMembers.length)+") ",1)])]),(0,l.Lk)("div",Vn,[0===r.filteredMembers.length?((0,l.uX)(),(0,l.CE)("div",$n,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",On,[(0,l.Lk)("table",Qn,[t[32]||(t[32]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,[e.chapterId?((0,l.uX)(),(0,l.Wv)(u,{key:0,to:`/chapters/${e.chapterId}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapterName||"Unknown Chapter"),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",jn,"No Chapter"))]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getRoleBadgeClass(e.role)])},(0,n.v_)(r.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Gn,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>r.editMember(e)},[...t[30]||(t[30]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,Jn),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>r.confirmDelete(e)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,qn)])])]))),128))])])]))])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:i.showCreateModal||i.showEditModal}]),style:(0,n.Tr)({display:i.showCreateModal||i.showEditModal?"block":"none"})},[(0,l.Lk)("div",Hn,[(0,l.Lk)("div",Yn,[(0,l.Lk)("div",zn,[(0,l.Lk)("h5",Zn,(0,n.v_)(i.showEditModal?"Edit Member":"Add New Member"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=(...e)=>r.closeModal&&r.closeModal(...e))})]),(0,l.Lk)("div",eo,[(0,l.Lk)("form",{onSubmit:t[15]||(t[15]=(0,s.D$)((...e)=>r.saveMember&&r.saveMember(...e),["prevent"]))},[(0,l.Lk)("div",to,[(0,l.Lk)("div",ao,[t[34]||(t[34]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"firstName","onUpdate:modelValue":t[7]||(t[7]=e=>i.memberForm.firstName=e),required:""},null,512),[[s.Jo,i.memberForm.firstName]])]),(0,l.Lk)("div",so,[t[35]||(t[35]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"lastName","onUpdate:modelValue":t[8]||(t[8]=e=>i.memberForm.lastName=e),required:""},null,512),[[s.Jo,i.memberForm.lastName]])])]),(0,l.Lk)("div",lo,[t[36]||(t[36]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[9]||(t[9]=e=>i.memberForm.email=e),required:""},null,512),[[s.Jo,i.memberForm.email]])]),(0,l.Lk)("div",no,[t[37]||(t[37]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[10]||(t[10]=e=>i.memberForm.phoneNumber=e)},null,512),[[s.Jo,i.memberForm.phoneNumber]])]),(0,l.Lk)("div",oo,[(0,l.Lk)("div",io,[t[39]||(t[39]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[11]||(t[11]=e=>i.memberForm.chapterId=e),required:""},[t[38]||(t[38]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,ro))),128))],512),[[s.u1,i.memberForm.chapterId]])]),(0,l.Lk)("div",co,[t[41]||(t[41]=(0,l.Lk)("label",{for:"role",class:"form-label"},"Role *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"role","onUpdate:modelValue":t[12]||(t[12]=e=>i.memberForm.role=e),required:""},[...t[40]||(t[40]=[(0,l.Fv)('<option value="" data-v-59e7922b>Select Role</option><option value="PRESIDENT" data-v-59e7922b>President</option><option value="VICE_PRESIDENT" data-v-59e7922b>Vice President</option><option value="SECRETARY" data-v-59e7922b>Secretary</option><option value="TREASURER" data-v-59e7922b>Treasurer</option><option value="MEMBER" data-v-59e7922b>Member</option>',6)])],512),[[s.u1,i.memberForm.role]])])]),(0,l.Lk)("div",uo,[(0,l.Lk)("div",mo,[t[42]||(t[42]=(0,l.Lk)("label",{for:"joinDate",class:"form-label"},"Join Date *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control",id:"joinDate","onUpdate:modelValue":t[13]||(t[13]=e=>i.memberForm.joinDate=e),required:""},null,512),[[s.Jo,i.memberForm.joinDate]])]),(0,l.Lk)("div",vo,[t[44]||(t[44]=(0,l.Lk)("label",{for:"active",class:"form-label"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"active","onUpdate:modelValue":t[14]||(t[14]=e=>i.memberForm.active=e)},[...t[43]||(t[43]=[(0,l.Lk)("option",{value:!0},"Active",-1),(0,l.Lk)("option",{value:!1},"Inactive",-1)])],512),[[s.u1,i.memberForm.active]])])])],32)]),(0,l.Lk)("div",bo,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[16]||(t[16]=(...e)=>r.closeModal&&r.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[17]||(t[17]=(...e)=>r.saveMember&&r.saveMember(...e)),disabled:i.saving},[i.saving?((0,l.uX)(),(0,l.CE)("span",ho)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(i.showEditModal?"Update Member":"Add Member"),1)],8,po)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:i.showDeleteModal}]),style:(0,n.Tr)({display:i.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",go,[(0,l.Lk)("div",ko,[(0,l.Lk)("div",yo,[t[45]||(t[45]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[18]||(t[18]=e=>i.showDeleteModal=!1)})]),(0,l.Lk)("div",Lo,[(0,l.Lk)("p",null,[t[46]||(t[46]=(0,l.eW)("Are you sure you want to delete member ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(i.memberToDelete?.firstName)+" "+(0,n.v_)(i.memberToDelete?.lastName),1),t[47]||(t[47]=(0,l.eW)("?",-1))]),t[48]||(t[48]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",fo,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[19]||(t[19]=e=>i.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[20]||(t[20]=(...e)=>r.deleteMember&&r.deleteMember(...e))}," Delete Member ")])])])],6),i.showCreateModal||i.showEditModal||i.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[21]||(t[21]=(...e)=>r.closeModal&&r.closeModal(...e))})):(0,l.Q3)("",!0)])}const Co={class:"advanced-search-panel"},Eo={class:"search-header"},So={class:"d-flex justify-content-between align-items-center mb-3"},xo=["disabled"],To={class:"search-input-wrapper mb-4"},Ao={class:"input-group input-group-lg"},Ro={key:0,class:"suggestions-dropdown"},Io=["onClick","onMouseenter"],Mo={class:"suggestion-text"},Do={class:"suggestion-category"},Fo={class:"filter-tabs mb-4"},No={class:"nav nav-pills nav-fill",role:"tablist"},_o={class:"nav-item",role:"presentation"},Po={key:0,class:"badge bg-primary ms-2"},Uo={class:"nav-item",role:"presentation"},Wo={key:0,class:"badge bg-primary ms-2"},Xo={class:"nav-item",role:"presentation"},Bo={key:0,class:"badge bg-primary ms-2"},Ko={class:"filter-section"},Vo={class:"row g-3"},$o={class:"col-md-4"},Oo={class:"col-md-4"},Qo=["value"],jo={class:"col-md-4"},Go={class:"col-md-6"},Jo={class:"input-group"},qo={class:"col-md-6"},Ho={class:"tag-input-container"},Yo={class:"selected-tags"},zo=["onClick"],Zo={class:"filter-section"},ei={class:"row g-3"},ti={class:"col-md-3"},ai={class:"col-md-3"},si={class:"col-md-6"},li={class:"input-group"},ni={class:"col-md-6"},oi={class:"range-slider"},ii={class:"range-labels d-flex justify-content-between"},ri={class:"col-md-6"},ci=["value"],di={class:"filter-section"},ui={class:"row g-3"},mi={class:"col-md-4"},vi={class:"col-md-4"},bi=["value"],pi={class:"col-md-4"},hi={class:"range-slider"},gi={class:"range-labels d-flex justify-content-between"},ki={class:"col-12"},yi={class:"active-filters"},Li=["onClick"],fi={key:0,class:"text-muted"},wi={key:0,class:"search-results-summary mt-4 p-3 bg-light rounded"},Ci={class:"d-flex justify-content-between align-items-center"},Ei={key:0,class:"text-muted"},Si={class:"search-actions"};function xi(e,t,a,o,i,r){return(0,l.uX)(),(0,l.CE)("div",Co,[(0,l.Lk)("div",Eo,[(0,l.Lk)("div",So,[t[40]||(t[40]=(0,l.Lk)("h5",{class:"mb-0"},[(0,l.Lk)("i",{class:"bi bi-funnel me-2"}),(0,l.eW)(" Advanced Search & Filters ")],-1)),(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",onClick:t[0]||(t[0]=(...e)=>o.resetFilters&&o.resetFilters(...e)),disabled:!o.hasActiveFilters},[...t[39]||(t[39]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),(0,l.eW)(" Reset ",-1)])],8,xo)])]),(0,l.Lk)("div",To,[(0,l.Lk)("div",Ao,[t[42]||(t[42]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{ref:"mainSearchInput",type:"text",class:"form-control",placeholder:"Search across all content...","onUpdate:modelValue":t[1]||(t[1]=e=>o.searchQuery=e),onInput:t[2]||(t[2]=(...e)=>o.performSearch&&o.performSearch(...e)),onKeyup:t[3]||(t[3]=(0,s.jR)((...e)=>o.performSearch&&o.performSearch(...e),["enter"]))},null,544),[[s.Jo,o.searchQuery]]),o.searchQuery?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[4]||(t[4]=(...e)=>o.clearMainSearch&&o.clearMainSearch(...e))},[...t[41]||(t[41]=[(0,l.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,l.Q3)("",!0)]),o.showSuggestions&&o.suggestions.length?((0,l.uX)(),(0,l.CE)("div",Ro,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.suggestions,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["suggestion-item",{active:o.selectedSuggestionIndex===t}]),onClick:t=>o.selectSuggestion(e),onMouseenter:e=>o.selectedSuggestionIndex=t},[(0,l.Lk)("i",{class:(0,n.C4)(["bi",e.icon])},null,2),(0,l.Lk)("span",Mo,(0,n.v_)(e.text),1),(0,l.Lk)("span",Do,(0,n.v_)(e.category),1)],42,Io))),128))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Fo,[(0,l.Lk)("ul",No,[(0,l.Lk)("li",_o,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"members"===o.activeTab}]),onClick:t[5]||(t[5]=e=>o.activeTab="members"),type:"button"},[t[43]||(t[43]=(0,l.Lk)("i",{class:"bi bi-people me-2"},null,-1)),t[44]||(t[44]=(0,l.eW)(" Members ",-1)),o.memberFilters.active?((0,l.uX)(),(0,l.CE)("span",Po,(0,n.v_)(o.memberFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Uo,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"events"===o.activeTab}]),onClick:t[6]||(t[6]=e=>o.activeTab="events"),type:"button"},[t[45]||(t[45]=(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),t[46]||(t[46]=(0,l.eW)(" Events ",-1)),o.eventFilters.active?((0,l.uX)(),(0,l.CE)("span",Wo,(0,n.v_)(o.eventFilters.count),1)):(0,l.Q3)("",!0)],2)]),(0,l.Lk)("li",Xo,[(0,l.Lk)("button",{class:(0,n.C4)(["nav-link",{active:"chapters"===o.activeTab}]),onClick:t[7]||(t[7]=e=>o.activeTab="chapters"),type:"button"},[t[47]||(t[47]=(0,l.Lk)("i",{class:"bi bi-building me-2"},null,-1)),t[48]||(t[48]=(0,l.eW)(" Chapters ",-1)),o.chapterFilters.active?((0,l.uX)(),(0,l.CE)("span",Bo,(0,n.v_)(o.chapterFilters.count),1)):(0,l.Q3)("",!0)],2)])])]),(0,l.bo)((0,l.Lk)("div",Ko,[(0,l.Lk)("div",Vo,[(0,l.Lk)("div",$o,[t[50]||(t[50]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Role",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>o.memberFilters.role=e),onChange:t[9]||(t[9]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[49]||(t[49]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Roles</option><option value="PRESIDENT" data-v-3500c3e8>President</option><option value="VICE_PRESIDENT" data-v-3500c3e8>Vice President</option><option value="SECRETARY" data-v-3500c3e8>Secretary</option><option value="TREASURER" data-v-3500c3e8>Treasurer</option><option value="MEMBER" data-v-3500c3e8>Member</option>',6)])],544),[[s.u1,o.memberFilters.role]])]),(0,l.Lk)("div",Oo,[t[52]||(t[52]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=e=>o.memberFilters.chapter=e),onChange:t[11]||(t[11]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[51]||(t[51]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Qo))),128))],544),[[s.u1,o.memberFilters.chapter]])]),(0,l.Lk)("div",jo,[t[54]||(t[54]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>o.memberFilters.active=e),onChange:t[13]||(t[13]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[53]||(t[53]=[(0,l.Lk)("option",{value:""},"All",-1),(0,l.Lk)("option",{value:"true"},"Active",-1),(0,l.Lk)("option",{value:"false"},"Inactive",-1)])],544),[[s.u1,o.memberFilters.active]])]),(0,l.Lk)("div",Go,[t[56]||(t[56]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Join Date Range",-1)),(0,l.Lk)("div",Jo,[(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>o.memberFilters.joinDateFrom=e),onChange:t[15]||(t[15]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.memberFilters.joinDateFrom]]),t[55]||(t[55]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>o.memberFilters.joinDateTo=e),onChange:t[17]||(t[17]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.memberFilters.joinDateTo]])])]),(0,l.Lk)("div",qo,[t[57]||(t[57]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Tags",-1)),(0,l.Lk)("div",Ho,[(0,l.Lk)("div",Yo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.memberFilters.tags,e=>((0,l.uX)(),(0,l.CE)("span",{key:e,class:"badge bg-secondary me-1 mb-1"},[(0,l.eW)((0,n.v_)(e)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>o.removeTag("member",e),style:{"font-size":"0.6rem"}},null,8,zo)]))),128))]),(0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Add tags...",onKeyup:t[18]||(t[18]=(0,s.jR)(e=>{o.addTag("member",e.target.value),e.target.value=""},["enter"]))},null,32)])])])],512),[[s.aG,"members"===o.activeTab]]),(0,l.bo)((0,l.Lk)("div",Zo,[(0,l.Lk)("div",ei,[(0,l.Lk)("div",ti,[t[59]||(t[59]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Event Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=e=>o.eventFilters.type=e),onChange:t[20]||(t[20]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[58]||(t[58]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Types</option><option value="MEETING" data-v-3500c3e8>Meeting</option><option value="SOCIAL" data-v-3500c3e8>Social</option><option value="COMMUNITY_SERVICE" data-v-3500c3e8>Community Service</option><option value="FUNDRAISER" data-v-3500c3e8>Fundraiser</option><option value="WORKSHOP" data-v-3500c3e8>Workshop</option>',6)])],544),[[s.u1,o.eventFilters.type]])]),(0,l.Lk)("div",ai,[t[61]||(t[61]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[21]||(t[21]=e=>o.eventFilters.status=e),onChange:t[22]||(t[22]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[60]||(t[60]=[(0,l.Fv)('<option value="" data-v-3500c3e8>All Status</option><option value="UPCOMING" data-v-3500c3e8>Upcoming</option><option value="ONGOING" data-v-3500c3e8>Ongoing</option><option value="COMPLETED" data-v-3500c3e8>Completed</option><option value="CANCELLED" data-v-3500c3e8>Cancelled</option>',5)])],544),[[s.u1,o.eventFilters.status]])]),(0,l.Lk)("div",si,[t[63]||(t[63]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Date Range",-1)),(0,l.Lk)("div",li,[(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=e=>o.eventFilters.dateFrom=e),onChange:t[24]||(t[24]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.dateFrom]]),t[62]||(t[62]=(0,l.Lk)("span",{class:"input-group-text"},"to",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":t[25]||(t[25]=e=>o.eventFilters.dateTo=e),onChange:t[26]||(t[26]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.dateTo]])])]),(0,l.Lk)("div",ni,[t[65]||(t[65]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Attendance Range",-1)),(0,l.Lk)("div",oi,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[27]||(t[27]=e=>o.eventFilters.minAttendance=e),min:0,max:500,onInput:t[28]||(t[28]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.eventFilters.minAttendance]]),(0,l.Lk)("div",ii,[(0,l.Lk)("small",null,(0,n.v_)(o.eventFilters.minAttendance)+"+",1),t[64]||(t[64]=(0,l.Lk)("small",null,"500",-1))])])]),(0,l.Lk)("div",ri,[t[67]||(t[67]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Chapter",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[29]||(t[29]=e=>o.eventFilters.chapter=e),onChange:t[30]||(t[30]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[66]||(t[66]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,ci))),128))],544),[[s.u1,o.eventFilters.chapter]])])])],512),[[s.aG,"events"===o.activeTab]]),(0,l.bo)((0,l.Lk)("div",di,[(0,l.Lk)("div",ui,[(0,l.Lk)("div",mi,[t[69]||(t[69]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Institution Type",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[31]||(t[31]=e=>o.chapterFilters.institutionType=e),onChange:t[32]||(t[32]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[...t[68]||(t[68]=[(0,l.Lk)("option",{value:""},"All Types",-1),(0,l.Lk)("option",{value:"UNIVERSITY"},"University",-1),(0,l.Lk)("option",{value:"CHURCH"},"Church",-1),(0,l.Lk)("option",{value:"COMMUNITY"},"Community",-1)])],544),[[s.u1,o.chapterFilters.institutionType]])]),(0,l.Lk)("div",vi,[t[71]||(t[71]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"State",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[33]||(t[33]=e=>o.chapterFilters.state=e),onChange:t[34]||(t[34]=(...e)=>o.applyFilters&&o.applyFilters(...e))},[t[70]||(t[70]=(0,l.Lk)("option",{value:""},"All States",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,n.v_)(e),9,bi))),128))],544),[[s.u1,o.chapterFilters.state]])]),(0,l.Lk)("div",pi,[t[73]||(t[73]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Member Count Range",-1)),(0,l.Lk)("div",hi,[(0,l.bo)((0,l.Lk)("input",{type:"range",class:"form-range","onUpdate:modelValue":t[35]||(t[35]=e=>o.chapterFilters.minMembers=e),min:0,max:200,onInput:t[36]||(t[36]=(...e)=>o.applyFilters&&o.applyFilters(...e))},null,544),[[s.Jo,o.chapterFilters.minMembers]]),(0,l.Lk)("div",gi,[(0,l.Lk)("small",null,(0,n.v_)(o.chapterFilters.minMembers)+"+",1),t[72]||(t[72]=(0,l.Lk)("small",null,"200",-1))])])]),(0,l.Lk)("div",ki,[t[74]||(t[74]=(0,l.Lk)("label",{class:"form-label fw-semibold"},"Active Filters",-1)),(0,l.Lk)("div",yi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.activeFilters,e=>((0,l.uX)(),(0,l.CE)("span",{key:e.key,class:"badge bg-primary me-2 mb-2"},[(0,l.eW)((0,n.v_)(e.label)+": "+(0,n.v_)(e.value)+" ",1),(0,l.Lk)("button",{type:"button",class:"btn-close btn-close-white ms-1",onClick:t=>o.removeFilter(e.key),style:{"font-size":"0.6rem"}},null,8,Li)]))),128)),o.activeFilters.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",fi,"No active filters"))])])])],512),[[s.aG,"chapters"===o.activeTab]]),o.searchResults.length||o.searchQuery?((0,l.uX)(),(0,l.CE)("div",wi,[(0,l.Lk)("div",Ci,[(0,l.Lk)("div",null,[(0,l.Lk)("strong",null,(0,n.v_)(o.searchResults.length),1),t[75]||(t[75]=(0,l.Lk)("span",{class:"text-muted"},"results found",-1)),o.searchQuery?((0,l.uX)(),(0,l.CE)("span",Ei,'for "'+(0,n.v_)(o.searchQuery)+'"',1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Si,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary me-2",onClick:t[37]||(t[37]=(...e)=>o.exportResults&&o.exportResults(...e))},[...t[76]||(t[76]=[(0,l.Lk)("i",{class:"bi bi-download me-1"},null,-1),(0,l.eW)(" Export ",-1)])]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t[38]||(t[38]=(...e)=>o.saveSearch&&o.saveSearch(...e))},[...t[77]||(t[77]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-1"},null,-1),(0,l.eW)(" Save Search ",-1)])])])])])):(0,l.Q3)("",!0)])}var Ti={name:"AdvancedSearchPanel",emits:["search-results","filters-changed"],setup(e,{emit:t}){(0,Ke.rd)();const a=(0,F.KR)(""),s=(0,F.KR)(!1),n=(0,F.KR)([]),o=(0,F.KR)(-1),i=(0,F.KR)(null),r=(0,F.KR)("members"),c=(0,F.KR)([{id:1,name:"University of California - Berkeley"},{id:2,name:"Stanford University"},{id:3,name:"MIT"}]),d=(0,F.KR)(["CA","NY","TX","FL","IL","PA","OH","GA","NC","MI"]),u=(0,F.Kh)({role:"",chapter:"",active:"",joinDateFrom:"",joinDateTo:"",tags:[],active:!1,count:0}),m=(0,F.Kh)({type:"",status:"",dateFrom:"",dateTo:"",minAttendance:0,chapter:"",active:!1,count:0}),v=(0,F.Kh)({institutionType:"",state:"",minMembers:0,active:!1,count:0}),b=(0,F.KR)([]),p=(0,l.EW)(()=>u.active||m.active||v.active),h=(0,l.EW)(()=>{const e=[];return"members"===r.value?(u.role&&e.push({key:"memberRole",label:"Role",value:u.role}),u.chapter&&e.push({key:"memberChapter",label:"Chapter",value:x(u.chapter)}),u.active&&e.push({key:"memberActive",label:"Status",value:"true"===u.active?"Active":"Inactive"})):"events"===r.value?(m.type&&e.push({key:"eventType",label:"Type",value:m.type}),m.status&&e.push({key:"eventStatus",label:"Status",value:m.status})):"chapters"===r.value&&(v.institutionType&&e.push({key:"institutionType",label:"Type",value:v.institutionType}),v.state&&e.push({key:"chapterState",label:"State",value:v.state})),e}),g=async()=>{console.log("Performing search:",a.value),console.log("Active filters:",h.value),t("search-results",{query:a.value,filters:L(),tab:r.value})},k=()=>{y(),g()},y=()=>{u.count=h.value.filter(e=>e.key.startsWith("member")).length,m.count=h.value.filter(e=>e.key.startsWith("event")).length,v.count=h.value.filter(e=>e.key.startsWith("chapter")).length,u.active=u.count>0,m.active=m.count>0,v.active=v.count>0},L=()=>"members"===r.value?{...u}:"events"===r.value?{...m}:"chapters"===r.value?{...v}:{},f=()=>{Object.keys(u).forEach(e=>{Array.isArray(u[e])?u[e]=[]:"boolean"===typeof u[e]?u[e]=!1:u[e]=""}),Object.keys(m).forEach(e=>{"boolean"===typeof m[e]?m[e]=!1:"number"===typeof m[e]?m[e]=0:m[e]=""}),Object.keys(v).forEach(e=>{"boolean"===typeof v[e]?v[e]=!1:"number"===typeof v[e]?v[e]=0:v[e]=""}),a.value="",k()},w=()=>{a.value="",s.value=!1,g()},C=(e,t)=>{t.trim()&&("member"!==e||u.tags.includes(t.trim())||(u.tags.push(t.trim()),k()))},E=(e,t)=>{if("member"===e){const e=u.tags.indexOf(t);e>-1&&(u.tags.splice(e,1),k())}},S=e=>{console.log("Removing filter:",e),k()},x=e=>{const t=c.value.find(t=>t.id==e);return t?t.name:e},T=()=>{console.log("Exporting results...")},A=()=>{console.log("Saving search...")},R=e=>{a.value=e.text,s.value=!1,g()};return(0,l.sV)(()=>{y()}),{mainSearchInput:i,searchQuery:a,showSuggestions:s,suggestions:n,selectedSuggestionIndex:o,activeTab:r,memberFilters:u,eventFilters:m,chapterFilters:v,searchResults:b,chapters:c,states:d,hasActiveFilters:p,activeFilters:h,performSearch:g,applyFilters:k,resetFilters:f,clearMainSearch:w,addTag:C,removeTag:E,removeFilter:S,exportResults:T,saveSearch:A,selectSuggestion:R}}};const Ai=(0,W.A)(Ti,[["render",xi],["__scopeId","data-v-3500c3e8"]]);var Ri=Ai,Ii={name:"Members",components:{SkeletonLoader:Va,AdvancedSearchPanel:Ri},data(){return{loading:!0,saving:!1,members:[],chapters:[],searchTerm:"",selectedChapter:"",selectedRole:"",selectedStatus:"",showAdvancedSearch:!1,memberSearchCategories:[{id:"general",name:"General",filters:[{type:"text",id:"name",label:"Name",placeholder:"Search by first or last name"},{type:"text",id:"email",label:"Email",placeholder:"Search by email address"},{type:"select",id:"status",label:"Status",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}]},{id:"membership",name:"Membership",filters:[{type:"select",id:"role",label:"Role",options:[{value:"PRESIDENT",label:"President"},{value:"VICE_PRESIDENT",label:"Vice President"},{value:"SECRETARY",label:"Secretary"},{value:"TREASURER",label:"Treasurer"},{value:"MEMBER",label:"Member"}]},{type:"select",id:"chapter",label:"Chapter",options:[]},{type:"dateRange",id:"joinDate",label:"Join Date Range"}]},{id:"advanced",name:"Advanced",filters:[{type:"multiSelect",id:"tags",label:"Tags",options:[]},{type:"number",id:"minEvents",label:"Min Events Attended",min:0},{type:"checkbox",id:"hasEmail",label:"Has Email Address"}]}],showCreateModal:!1,showEditModal:!1,showDeleteModal:!1,memberToDelete:null,memberForm:{id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}},computed:{filteredMembers(){let e=this.members;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.chapterName&&e.chapterName.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapterId===parseInt(this.selectedChapter))),this.selectedRole&&(e=e.filter(e=>e.role===this.selectedRole)),""!==this.selectedStatus){const t="true"===this.selectedStatus;e=e.filter(e=>e.active===t)}return e}},async mounted(){await this.loadData(),this.populateSearchOptions()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([Ml.getAllMembers(),Al.getAllChapters()]);this.members=e,this.chapters=t}catch(e){console.error("Error loading members:",e)}finally{this.loading=!1}},handleAdvancedSearch(e){console.log("Advanced search:",e),this.showAdvancedSearch=!1,e.filters.name&&(this.searchTerm=e.filters.name)},populateSearchOptions(){const e=this.memberSearchCategories.find(e=>"membership"===e.id);if(e){const t=e.filters.find(e=>"chapter"===e.id);t&&(t.options=this.chapters.map(e=>({value:e.id,label:e.name})))}},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},editMember(e){this.memberForm={id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber||"",chapterId:e.chapterId||"",role:e.role,joinDate:e.joinDate,active:e.active},this.showEditModal=!0},confirmDelete(e){this.memberToDelete=e,this.showDeleteModal=!0},async saveMember(){try{if(this.saving=!0,this.showEditModal){const e={...this.memberForm,chapterId:this.memberForm.chapterId};delete e.chapter,await Ml.updateMember(this.memberForm.id,e)}else{const e={firstName:this.memberForm.firstName,lastName:this.memberForm.lastName,email:this.memberForm.email,chapterId:this.memberForm.chapterId,role:this.memberForm.role};await Ml.createMember(e)}await this.loadData(),this.closeModal()}catch(e){console.error("Error saving member:",e),alert("Error saving member. Please try again.")}finally{this.saving=!1}},async deleteMember(){try{await Ml.deleteMember(this.memberToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.memberToDelete=null}catch(e){console.error("Error deleting member:",e),alert("Error deleting member. Please try again.")}},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.memberForm={id:null,firstName:"",lastName:"",email:"",phoneNumber:"",chapterId:"",role:"",joinDate:"",active:!0}}}};const Mi=(0,W.A)(Ii,[["render",wo],["__scopeId","data-v-59e7922b"]]);var Di=Mi;const Fi={class:"events"},Ni={class:"container"},_i={class:"row mb-4"},Pi={class:"col-md-6"},Ui={class:"col-md-6"},Wi={class:"input-group"},Xi={class:"row mb-4"},Bi={class:"col-md-4"},Ki=["value"],Vi={class:"col-md-4"},$i={class:"col-md-4"},Oi={key:0,class:"card"},Qi={class:"card-body p-0"},ji={class:"d-flex justify-content-between align-items-center mb-3"},Gi={class:"view-toggle btn-group",role:"group"},Ji={class:"results-info"},qi={class:"text-muted"},Hi={key:1,class:"empty-state text-center py-5"},Yi={key:2,class:"events-grid"},zi={class:"event-card"},Zi={class:"event-header"},er={class:"event-title-section"},tr={class:"event-title"},ar={class:"event-meta"},sr={class:"event-actions"},lr={class:"dropdown"},nr=["id"],or={class:"dropdown-menu"},ir=["onClick"],rr=["onClick"],cr={class:"event-details"},dr={class:"event-info-grid"},ur={class:"info-item"},mr={key:0,class:"info-item"},vr={key:1,class:"info-item"},br={key:0,class:"event-description"},pr={class:"rsvp-section"},hr={key:3,class:"card"},gr={class:"card-header bg-light"},kr={class:"card-title mb-0"},yr={class:"card-body p-0"},Lr={class:"table-responsive"},fr={class:"table table-hover mb-0"},wr={key:0,class:"text-muted"},Cr={key:1,class:"text-muted"},Er={class:"rsvp-summary"},Sr={class:"badge bg-success me-1"},xr={key:0,class:"badge bg-warning me-1"},Tr={key:1,class:"badge bg-info"},Ar={class:"btn-group",role:"group"},Rr=["onClick"],Ir=["onClick"],Mr={class:"modal-dialog modal-lg"},Dr={class:"modal-content"},Fr={class:"modal-header"},Nr={class:"modal-title"},_r={class:"modal-body"},Pr={class:"mb-3"},Ur={class:"mb-3"},Wr={class:"row"},Xr={class:"col-md-6 mb-3"},Br={class:"col-md-6 mb-3"},Kr={class:"row"},Vr={class:"col-md-6 mb-3"},$r=["value"],Or={class:"col-md-6 mb-3"},Qr={class:"row"},jr={class:"col-md-6 mb-3"},Gr={class:"modal-footer"},Jr=["disabled"],qr={key:0,class:"spinner-border spinner-border-sm me-2"},Hr={class:"modal-dialog"},Yr={class:"modal-content"},zr={class:"modal-header"},Zr={class:"modal-body"},ec={class:"modal-footer"};function tc(e,t,a,o,i,r){const c=(0,l.g2)("SkeletonLoader"),d=(0,l.g2)("router-link"),u=(0,l.g2)("EventRSVPCard");return(0,l.uX)(),(0,l.CE)("div",Fi,[(0,l.Lk)("div",Ni,[t[46]||(t[46]=(0,l.Fv)('<div class="row mb-4" data-v-6af8159a><div class="col" data-v-6af8159a><h1 class="display-4 text-center mb-3" data-v-6af8159a><i class="bi bi-calendar-event text-info me-3" data-v-6af8159a></i> Events </h1><p class="lead text-center text-muted" data-v-6af8159a> Manage chapter events and activities </p></div></div>',1)),(0,l.Lk)("div",_i,[(0,l.Lk)("div",Pi,[(0,l.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>o.showCreateModal=!0)},[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])]),(0,l.Lk)("div",Ui,[(0,l.Lk)("div",Wi,[t[24]||(t[24]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search events...","onUpdate:modelValue":t[1]||(t[1]=e=>o.searchTerm=e)},null,512),[[s.Jo,o.searchTerm]])])])]),(0,l.Lk)("div",Xi,[(0,l.Lk)("div",Bi,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedChapter=e)},[t[25]||(t[25]=(0,l.Lk)("option",{value:""},"All Chapters",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,Ki))),128))],512),[[s.u1,o.selectedChapter]])]),(0,l.Lk)("div",Vi,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedType=e)},[...t[26]||(t[26]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Types</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,o.selectedType]])]),(0,l.Lk)("div",$i,[(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedTimeframe=e)},[...t[27]||(t[27]=[(0,l.Fv)('<option value="" data-v-6af8159a>All Time</option><option value="upcoming" data-v-6af8159a>Upcoming</option><option value="past" data-v-6af8159a>Past</option><option value="today" data-v-6af8159a>Today</option><option value="this-week" data-v-6af8159a>This Week</option><option value="this-month" data-v-6af8159a>This Month</option>',6)])],512),[[s.u1,o.selectedTimeframe]])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",Oi,[t[28]||(t[28]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event me-2"}),(0,l.eW)(" Loading Events... ")])],-1)),(0,l.Lk)("div",Qi,[(0,l.bF)(c,{type:"list",rows:4})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",ji,[(0,l.Lk)("div",Gi,[(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"cardView","onUpdate:modelValue":t[5]||(t[5]=e=>i.viewMode=e),value:"cards"},null,512),[[s.XL,i.viewMode]]),t[29]||(t[29]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"cardView"},[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"}),(0,l.eW)(" Cards ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"btn-check",name:"viewMode",id:"tableView","onUpdate:modelValue":t[6]||(t[6]=e=>i.viewMode=e),value:"table"},null,512),[[s.XL,i.viewMode]]),t[30]||(t[30]=(0,l.Lk)("label",{class:"btn btn-outline-secondary",for:"tableView"},[(0,l.Lk)("i",{class:"bi bi-table"}),(0,l.eW)(" Table ")],-1))]),(0,l.Lk)("div",Ji,[(0,l.Lk)("span",qi,(0,n.v_)(r.filteredEvents.length)+" events found",1)])]),0===r.filteredEvents.length?((0,l.uX)(),(0,l.CE)("div",Hi,[t[32]||(t[32]=(0,l.Lk)("i",{class:"bi bi-calendar-x display-1 text-muted mb-3"},null,-1)),t[33]||(t[33]=(0,l.Lk)("h4",{class:"text-muted"},"No events found",-1)),t[34]||(t[34]=(0,l.Lk)("p",{class:"text-muted"},"Try adjusting your filters or create a new event.",-1)),(0,l.Lk)("button",{class:"btn btn-info",onClick:t[7]||(t[7]=e=>o.showCreateModal=!0)},[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)(" Create New Event ",-1)])])])):"cards"===i.viewMode?((0,l.uX)(),(0,l.CE)("div",Yi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"event-card-container"},[(0,l.Lk)("div",zi,[(0,l.Lk)("div",Zi,[(0,l.Lk)("div",er,[(0,l.Lk)("h5",tr,(0,n.v_)(e.title),1),(0,l.Lk)("div",ar,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getTypeBadgeClass(e.type)])},(0,n.v_)(r.formatType(e.type)),3),(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(r.getEventStatus(e.eventDateTime)),3)])]),(0,l.Lk)("div",sr,[(0,l.Lk)("div",lr,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button",id:`eventMenu${e.id}`,"data-bs-toggle":"dropdown"},[...t[35]||(t[35]=[(0,l.Lk)("i",{class:"bi bi-three-dots"},null,-1)])],8,nr),(0,l.Lk)("ul",or,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t=>r.editEvent(e)},[...t[36]||(t[36]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit Event ",-1)])],8,ir)]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t=>r.confirmDelete(e)},[...t[37]||(t[37]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete Event ",-1)])],8,rr)])])])])]),(0,l.Lk)("div",cr,[(0,l.Lk)("div",dr,[(0,l.Lk)("div",ur,[t[38]||(t[38]=(0,l.Lk)("i",{class:"bi bi-calendar3 text-primary"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(r.formatDateTime(e.eventDateTime)),1)]),e.location?((0,l.uX)(),(0,l.CE)("div",mr,[t[39]||(t[39]=(0,l.Lk)("i",{class:"bi bi-geo-alt text-danger"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.location),1)])):(0,l.Q3)("",!0),e.chapter?((0,l.uX)(),(0,l.CE)("div",vr,[t[40]||(t[40]=(0,l.Lk)("i",{class:"bi bi-building text-info"},null,-1)),(0,l.bF)(d,{to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])])):(0,l.Q3)("",!0)]),e.description?((0,l.uX)(),(0,l.CE)("div",br,(0,n.v_)(e.description),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",pr,[(0,l.bF)(u,{event:e,rsvps:i.eventRsvps[e.id]||[],"current-user-id":i.currentUserId,onRsvpUpdated:r.handleRSVPUpdate},null,8,["event","rsvps","current-user-id","onRsvpUpdated"])])])]))),128))])):((0,l.uX)(),(0,l.CE)("div",hr,[(0,l.Lk)("div",gr,[(0,l.Lk)("h5",kr,[t[41]||(t[41]=(0,l.Lk)("i",{class:"bi bi-table me-2"},null,-1)),(0,l.eW)(" All Events ("+(0,n.v_)(r.filteredEvents.length)+") ",1)])]),(0,l.Lk)("div",yr,[(0,l.Lk)("div",Lr,[(0,l.Lk)("table",fr,[t[45]||(t[45]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Chapter"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"RSVPs"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredEvents,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[42]||(t[42]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",wr,(0,n.v_)(r.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(r.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getTypeBadgeClass(e.type)])},(0,n.v_)(r.formatType(e.type)),3)]),(0,l.Lk)("td",null,[e.chapter?((0,l.uX)(),(0,l.Wv)(d,{key:0,to:`/chapters/${e.chapter.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.chapter.name),1)]),_:2},1032,["to"])):((0,l.uX)(),(0,l.CE)("span",Cr,"No Chapter"))]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Er,[(0,l.Lk)("span",Sr,(0,n.v_)(r.getRSVPCount(e.id,"ATTENDING")),1),r.getRSVPCount(e.id,"MAYBE")?((0,l.uX)(),(0,l.CE)("span",xr,(0,n.v_)(r.getRSVPCount(e.id,"MAYBE"))+" maybe ",1)):(0,l.Q3)("",!0),r.getRSVPCount(e.id,"WAITLIST")?((0,l.uX)(),(0,l.CE)("span",Tr,(0,n.v_)(r.getRSVPCount(e.id,"WAITLIST"))+" waitlist ",1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",r.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(r.getEventStatus(e.eventDateTime)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Ar,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:t=>r.editEvent(e)},[...t[43]||(t[43]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,Rr),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>r.confirmDelete(e)},[...t[44]||(t[44]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,Ir)])])]))),128))])])])])]))]),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showCreateModal||o.showEditModal}]),style:(0,n.Tr)({display:o.showCreateModal||o.showEditModal?"block":"none"})},[(0,l.Lk)("div",Mr,[(0,l.Lk)("div",Dr,[(0,l.Lk)("div",Fr,[(0,l.Lk)("h5",Nr,(0,n.v_)(o.showEditModal?"Edit Event":"Create New Event"),1),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[8]||(t[8]=(...e)=>r.closeModal&&r.closeModal(...e))})]),(0,l.Lk)("div",_r,[(0,l.Lk)("form",{onSubmit:t[16]||(t[16]=(0,s.D$)((...e)=>r.saveEvent&&r.saveEvent(...e),["prevent"]))},[(0,l.Lk)("div",Pr,[t[47]||(t[47]=(0,l.Lk)("label",{for:"title",class:"form-label"},"Event Title *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[9]||(t[9]=e=>o.eventForm.title=e),required:""},null,512),[[s.Jo,o.eventForm.title]])]),(0,l.Lk)("div",Ur,[t[48]||(t[48]=(0,l.Lk)("label",{for:"description",class:"form-label"},"Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[10]||(t[10]=e=>o.eventForm.description=e),rows:"3"},null,512),[[s.Jo,o.eventForm.description]])]),(0,l.Lk)("div",Wr,[(0,l.Lk)("div",Xr,[t[49]||(t[49]=(0,l.Lk)("label",{for:"eventDateTime",class:"form-label"},"Date & Time *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control",id:"eventDateTime","onUpdate:modelValue":t[11]||(t[11]=e=>o.eventForm.eventDateTime=e),required:""},null,512),[[s.Jo,o.eventForm.eventDateTime]])]),(0,l.Lk)("div",Br,[t[51]||(t[51]=(0,l.Lk)("label",{for:"type",class:"form-label"},"Event Type *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"type","onUpdate:modelValue":t[12]||(t[12]=e=>o.eventForm.type=e),required:""},[...t[50]||(t[50]=[(0,l.Fv)('<option value="" data-v-6af8159a>Select Type</option><option value="MEETING" data-v-6af8159a>Meeting</option><option value="SOCIAL" data-v-6af8159a>Social</option><option value="FUNDRAISER" data-v-6af8159a>Fundraiser</option><option value="WORKSHOP" data-v-6af8159a>Workshop</option><option value="VOLUNTEER" data-v-6af8159a>Volunteer</option>',6)])],512),[[s.u1,o.eventForm.type]])])]),(0,l.Lk)("div",Kr,[(0,l.Lk)("div",Vr,[t[53]||(t[53]=(0,l.Lk)("label",{for:"chapter",class:"form-label"},"Chapter *",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"chapter","onUpdate:modelValue":t[13]||(t[13]=e=>o.eventForm.chapterId=e),required:""},[t[52]||(t[52]=(0,l.Lk)("option",{value:""},"Select Chapter",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapters,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.name),9,$r))),128))],512),[[s.u1,o.eventForm.chapterId]])]),(0,l.Lk)("div",Or,[t[54]||(t[54]=(0,l.Lk)("label",{for:"location",class:"form-label"},"Location",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"location","onUpdate:modelValue":t[14]||(t[14]=e=>o.eventForm.location=e),placeholder:"Event location or 'Virtual'"},null,512),[[s.Jo,o.eventForm.location]])])]),(0,l.Lk)("div",Qr,[(0,l.Lk)("div",jr,[t[55]||(t[55]=(0,l.Lk)("label",{for:"capacity",class:"form-label"},"Event Capacity",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"capacity","onUpdate:modelValue":t[15]||(t[15]=e=>o.eventForm.capacity=e),placeholder:"Leave empty for unlimited",min:"1"},null,512),[[s.Jo,o.eventForm.capacity]]),t[56]||(t[56]=(0,l.Lk)("div",{class:"form-text"}," Set a maximum number of attendees (optional) ",-1))])])],32)]),(0,l.Lk)("div",Gr,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[17]||(t[17]=(...e)=>r.closeModal&&r.closeModal(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-info",onClick:t[18]||(t[18]=(...e)=>r.saveEvent&&r.saveEvent(...e)),disabled:o.saving},[o.saving?((0,l.uX)(),(0,l.CE)("span",qr)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.showEditModal?"Update Event":"Create Event"),1)],8,Jr)])])])],6),(0,l.Lk)("div",{class:(0,n.C4)(["modal fade",{show:o.showDeleteModal}]),style:(0,n.Tr)({display:o.showDeleteModal?"block":"none"})},[(0,l.Lk)("div",Hr,[(0,l.Lk)("div",Yr,[(0,l.Lk)("div",zr,[t[57]||(t[57]=(0,l.Lk)("h5",{class:"modal-title"},"Confirm Delete",-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=e=>o.showDeleteModal=!1)})]),(0,l.Lk)("div",Zr,[(0,l.Lk)("p",null,[t[58]||(t[58]=(0,l.eW)("Are you sure you want to delete the event ",-1)),(0,l.Lk)("strong",null,(0,n.v_)(o.eventToDelete?.title),1),t[59]||(t[59]=(0,l.eW)("?",-1))]),t[60]||(t[60]=(0,l.Lk)("p",{class:"text-danger"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",ec,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[20]||(t[20]=e=>o.showDeleteModal=!1)}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[21]||(t[21]=(...e)=>r.deleteEvent&&r.deleteEvent(...e))}," Delete Event ")])])])],6),o.showCreateModal||o.showEditModal||o.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-backdrop fade show",onClick:t[22]||(t[22]=(...e)=>r.closeModal&&r.closeModal(...e))})):(0,l.Q3)("",!0)])}const ac={async getAllEvents(){try{const e=await Ea.A.get("/events");return e.data}catch(e){throw e}},async getEventById(e){try{const t=await Ea.A.get(`/events/${e}`);return t.data}catch(t){throw t}},async getEventsByChapter(e){try{const t=await Ea.A.get(`/events/chapter/${e}`);return t.data}catch(t){throw t}},async getActiveEventsByChapter(e){try{const t=await Ea.A.get(`/events/chapter/${e}/active`);return t.data}catch(t){throw t}},async getUpcomingEventsByChapter(e){try{const t=await Ea.A.get(`/events/chapter/${e}/upcoming`);return t.data}catch(t){throw t}},async getPastEventsByChapter(e){try{const t=await Ea.A.get(`/events/chapter/${e}/past`);return t.data}catch(t){throw t}},async getEventsByType(e,t){try{const a=await Ea.A.get(`/events/chapter/${e}/type/${t}`);return a.data}catch(a){throw a}},async createEvent(e){try{const t=await Ea.A.post("/events",e);return t.data}catch(t){throw t}},async updateEvent(e,t){try{const a=await Ea.A.put(`/events/${e}`,t);return a.data}catch(a){throw a}},async deleteEvent(e){try{return await Ea.A.delete(`/events/${e}`),!0}catch(t){throw t}},async registerForEvent(e){try{const t=await Ea.A.put(`/events/${e}/register`);return t.data}catch(t){throw t}},async unregisterFromEvent(e){try{const t=await Ea.A.put(`/events/${e}/unregister`);return t.data}catch(t){throw t}},async getUpcomingEventCount(e){try{const t=await Ea.A.get(`/events/chapter/${e}/count/upcoming`);return t.data}catch(t){throw t}},async getEventStats(e){try{const t=await Ea.A.get(`/events/${e}/stats`);return t.data}catch(t){throw t}}},sc={class:"member-info"},lc={class:"avatar"},nc=["src","alt"],oc={key:1,class:"avatar-placeholder"},ic={class:"member-details"},rc={class:"member-name"},cc={key:0,class:"member-role"},dc={key:1,class:"member-email"},uc={class:"rsvp-info"},mc={key:0,class:"waitlist-position"},vc={class:"rsvp-time"},bc={key:1,class:"rsvp-notes"},pc={key:0,class:"attendee-actions"};var hc={__name:"AttendeeCard",props:{rsvp:{type:Object,required:!0},status:{type:String,required:!0,validator:e=>["attending","maybe","waitlist","not-attending"].includes(e)},position:{type:Number,default:null},showEmail:{type:Boolean,default:!1},showActions:{type:Boolean,default:!1},canRemove:{type:Boolean,default:!1}},emits:["promote-waitlist","contact-member","remove-rsvp"],setup(e,{emit:t}){const a=e,s=t,o=(0,l.EW)(()=>{const e=a.rsvp.member;return e?e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.name||e.email||"Unknown Member":"Unknown Member"}),i=(0,l.EW)(()=>{const e=o.value,t=e.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()}),r=(0,l.EW)(()=>({"card-attending":"attending"===a.status,"card-maybe":"maybe"===a.status,"card-waitlist":"waitlist"===a.status,"card-not-attending":"not-attending"===a.status})),c=(0,l.EW)(()=>({"badge-attending":"attending"===a.status,"badge-maybe":"maybe"===a.status,"badge-waitlist":"waitlist"===a.status,"badge-not-attending":"not-attending"===a.status})),d=(0,l.EW)(()=>{const e={attending:"bi bi-check-circle-fill",maybe:"bi bi-question-circle-fill",waitlist:"bi bi-clock-history","not-attending":"bi bi-x-circle-fill"};return e[a.status]}),u=(0,l.EW)(()=>{const e={attending:"Going",maybe:"Maybe",waitlist:"Waitlist","not-attending":"Not Going"};return e[a.status]}),m=e=>e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),v=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);if(1===l)return"yesterday";if(l<7)return`${l}d ago`;const n=Math.floor(l/7);return 1===n?"last week":n<4?`${n}w ago`:a.toLocaleDateString()},b=()=>{s("promote-waitlist",a.rsvp)},p=()=>{s("contact-member",a.rsvp.member)},h=()=>{s("remove-rsvp",a.rsvp)};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["attendee-card",r.value])},[(0,l.Lk)("div",sc,[(0,l.Lk)("div",lc,[e.rsvp.member?.profileImage?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.rsvp.member.profileImage,alt:o.value,class:"avatar-img"},null,8,nc)):((0,l.uX)(),(0,l.CE)("div",oc,(0,n.v_)(i.value),1))]),(0,l.Lk)("div",ic,[(0,l.Lk)("h6",rc,(0,n.v_)(o.value),1),e.rsvp.member?.role?((0,l.uX)(),(0,l.CE)("p",cc,(0,n.v_)(m(e.rsvp.member.role)),1)):(0,l.Q3)("",!0),e.showEmail?((0,l.uX)(),(0,l.CE)("p",dc,(0,n.v_)(e.rsvp.member?.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",uc,[(0,l.Lk)("div",{class:(0,n.C4)(["status-badge",c.value])},[(0,l.Lk)("i",{class:(0,n.C4)(d.value)},null,2),(0,l.Lk)("span",null,(0,n.v_)(u.value),1)],2),"waitlist"===e.status&&e.position?((0,l.uX)(),(0,l.CE)("div",mc," Position #"+(0,n.v_)(e.position),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",vc," RSVPed "+(0,n.v_)(v(e.rsvp.createdAt)),1),e.rsvp.notes?((0,l.uX)(),(0,l.CE)("div",bc,[a[0]||(a[0]=(0,l.Lk)("i",{class:"bi bi-chat-left-text"},null,-1)),(0,l.Lk)("span",null,(0,n.v_)(e.rsvp.notes),1)])):(0,l.Q3)("",!0)]),e.showActions?((0,l.uX)(),(0,l.CE)("div",pc,["waitlist"===e.status?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-sm btn-success",onClick:b,title:"Move to attending"},[...a[1]||(a[1]=[(0,l.Lk)("i",{class:"bi bi-arrow-up-circle"},null,-1)])])):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:p,title:"Send message"},[...a[2]||(a[2]=[(0,l.Lk)("i",{class:"bi bi-envelope"},null,-1)])]),e.canRemove?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-sm btn-outline-danger",onClick:h,title:"Remove RSVP"},[...a[3]||(a[3]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],2))}};const gc=(0,W.A)(hc,[["__scopeId","data-v-254b04b9"]]);var kc=gc;const yc={class:"attendee-list"},Lc={class:"attendee-header"},fc={class:"mb-0"},wc={class:"badge bg-primary ms-2"},Cc={class:"status-summary"},Ec={key:0,class:"attendee-details"},Sc={key:0,class:"attendee-section"},xc={class:"section-title"},Tc={class:"attendee-grid"},Ac={key:1,class:"attendee-section"},Rc={class:"section-title"},Ic={class:"attendee-grid"},Mc={key:2,class:"attendee-section"},Dc={class:"section-title"},Fc={class:"attendee-grid"},Nc={key:3,class:"attendee-section"},_c={key:0,class:"attendee-grid"},Pc={key:1,class:"empty-state"};var Uc={__name:"AttendeeList",props:{rsvps:{type:Array,default:()=>[]},showDetails:{type:Boolean,default:!1}},emits:["toggle-details"],setup(e,{emit:t}){const a=e,s=t,o=(0,F.KR)(!1),i=(0,l.EW)(()=>a.rsvps.filter(e=>"ATTENDING"===e.status)),r=(0,l.EW)(()=>a.rsvps.filter(e=>"MAYBE"===e.status)),c=(0,l.EW)(()=>a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt))),d=(0,l.EW)(()=>a.rsvps.filter(e=>"NOT_ATTENDING"===e.status)),u=(0,l.EW)(()=>i.value.length+r.value.length+c.value.length),m=(0,l.EW)(()=>({ATTENDING:i.value.length,MAYBE:r.value.length,WAITLIST:c.value.length,NOT_ATTENDING:d.value.length})),v=()=>{s("toggle-details")},b=e=>{const t={ATTENDING:"bi bi-check-circle-fill",MAYBE:"bi bi-question-circle-fill",WAITLIST:"bi bi-clock-history",NOT_ATTENDING:"bi bi-x-circle-fill"};return t[e]},p=e=>{const t={ATTENDING:"Going",MAYBE:"Maybe",WAITLIST:"Waitlist",NOT_ATTENDING:"Not Going"};return t[e]},h=e=>{const t={ATTENDING:"status-attending",MAYBE:"status-maybe",WAITLIST:"status-waitlist",NOT_ATTENDING:"status-not-attending"};return t[e]};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",yc,[(0,l.Lk)("div",Lc,[(0,l.Lk)("h6",fc,[a[1]||(a[1]=(0,l.Lk)("i",{class:"bi bi-people text-primary"},null,-1)),a[2]||(a[2]=(0,l.eW)(" Attendees ",-1)),(0,l.Lk)("span",wc,(0,n.v_)(u.value),1)]),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:v},[(0,l.Lk)("i",{class:(0,n.C4)(e.showDetails?"bi bi-chevron-up":"bi bi-chevron-down")},null,2),(0,l.eW)(" "+(0,n.v_)(e.showDetails?"Hide":"Show")+" Details ",1)])]),(0,l.Lk)("div",Cc,[t.count>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(m.value,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["status-chip",h(t)])},[(0,l.Lk)("i",{class:(0,n.C4)(b(t))},null,2),(0,l.Lk)("span",null,(0,n.v_)(p(t))+" ("+(0,n.v_)(e)+")",1)],2))),128)):(0,l.Q3)("",!0)]),e.showDetails?((0,l.uX)(),(0,l.CE)("div",Ec,[i.value.length?((0,l.uX)(),(0,l.CE)("div",Sc,[(0,l.Lk)("h6",xc,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-check-circle-fill text-success"},null,-1)),(0,l.eW)(" Attending ("+(0,n.v_)(i.value.length)+") ",1)]),(0,l.Lk)("div",Tc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,e=>((0,l.uX)(),(0,l.Wv)(kc,{key:e.id,rsvp:e,status:"attending"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),r.value.length?((0,l.uX)(),(0,l.CE)("div",Ac,[(0,l.Lk)("h6",Rc,[a[4]||(a[4]=(0,l.Lk)("i",{class:"bi bi-question-circle-fill text-warning"},null,-1)),(0,l.eW)(" Maybe ("+(0,n.v_)(r.value.length)+") ",1)]),(0,l.Lk)("div",Ic,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,e=>((0,l.uX)(),(0,l.Wv)(kc,{key:e.id,rsvp:e,status:"maybe"},null,8,["rsvp"]))),128))])])):(0,l.Q3)("",!0),c.value.length?((0,l.uX)(),(0,l.CE)("div",Mc,[(0,l.Lk)("h6",Dc,[a[5]||(a[5]=(0,l.Lk)("i",{class:"bi bi-clock-history text-info"},null,-1)),(0,l.eW)(" Waitlist ("+(0,n.v_)(c.value.length)+") ",1)]),(0,l.Lk)("div",Fc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.value,(e,t)=>((0,l.uX)(),(0,l.Wv)(kc,{key:e.id,rsvp:e,position:t+1,status:"waitlist"},null,8,["rsvp","position"]))),128))])])):(0,l.Q3)("",!0),d.value.length?((0,l.uX)(),(0,l.CE)("div",Nc,[(0,l.Lk)("button",{class:"btn btn-sm btn-link section-title p-0",onClick:a[0]||(a[0]=e=>o.value=!o.value)},[a[6]||(a[6]=(0,l.Lk)("i",{class:"bi bi-x-circle-fill text-danger"},null,-1)),(0,l.eW)(" Not Attending ("+(0,n.v_)(d.value.length)+") ",1),(0,l.Lk)("i",{class:(0,n.C4)(o.value?"bi bi-chevron-up":"bi bi-chevron-down")},null,2)]),o.value?((0,l.uX)(),(0,l.CE)("div",_c,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,e=>((0,l.uX)(),(0,l.Wv)(kc,{key:e.id,rsvp:e,status:"not-attending"},null,8,["rsvp"]))),128))])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),!u.value&&e.showDetails?((0,l.uX)(),(0,l.CE)("div",Pc,[...a[7]||(a[7]=[(0,l.Lk)("i",{class:"bi bi-calendar-x text-muted"},null,-1),(0,l.Lk)("p",{class:"text-muted mb-0"},"No RSVPs yet",-1)])])):(0,l.Q3)("",!0)]))}};const Wc=(0,W.A)(Uc,[["__scopeId","data-v-52123bd4"]]);var Xc=Wc;function Bc(e,t,a=[]){const s=(0,F.KR)([...a]),n=(0,F.KR)(!1),o=(0,F.KR)(null),{createRSVP:i,updateRSVP:r,deleteRSVP:c,fetchEventRSVPs:d}=Ta(),u=(0,l.EW)(()=>s.value.find(e=>e.userId===t)),m=(0,l.EW)(()=>{const e={ATTENDING:0,NOT_ATTENDING:0,MAYBE:0,WAITLIST:0,PENDING:0};return s.value.forEach(t=>{e.hasOwnProperty(t.status)&&e[t.status]++}),e}),v=(0,l.EW)(()=>m.value.ATTENDING+m.value.WAITLIST),b=(0,l.EW)(()=>!!u.value),p=async()=>{if(e)try{n.value=!0,o.value=null;const t=await d(e);s.value=t.data||[]}catch(t){throw console.error("Failed to load RSVPs:",t),o.value="Failed to load RSVPs",t}finally{n.value=!1}},h=async a=>{if(!e||!t)throw new Error("Event ID and User ID are required");try{let l;n.value=!0,o.value=null,l=b.value?await r(e,t,{status:a}):await i(e,{userId:t,status:a});const c=l.data,d=s.value.findIndex(e=>e.userId===t);return d>=0?s.value[d]=c:s.value.push(c),c}catch(l){throw console.error("Failed to update RSVP:",l),o.value="Failed to update RSVP",l}finally{n.value=!1}},g=async()=>{if(b.value)try{n.value=!0,o.value=null,await c(e,t);const a=s.value.findIndex(e=>e.userId===t);a>=0&&s.value.splice(a,1)}catch(a){throw console.error("Failed to remove RSVP:",a),o.value="Failed to remove RSVP",a}finally{n.value=!1}},k=async t=>{try{n.value=!0,o.value=null;const a=await r(e,t,{status:"ATTENDING"}),l=s.value.findIndex(e=>e.id===t);return l>=0&&(s.value[l]=a.data),a.data}catch(a){throw console.error("Failed to promote from waitlist:",a),o.value="Failed to promote from waitlist",a}finally{n.value=!1}},y=async t=>{try{n.value=!0,o.value=null;const a=t.map(t=>r(e,t.userId,{status:t.status})),l=await Promise.all(a);return l.forEach((e,a)=>{const l=e.data,n=s.value.findIndex(e=>e.userId===t[a].userId);n>=0&&(s.value[n]=l)}),l.map(e=>e.data)}catch(a){throw console.error("Failed to bulk update RSVPs:",a),o.value="Failed to update RSVPs",a}finally{n.value=!1}},L=e=>s.value.filter(t=>t.status===e),f=e=>{const t=L("WAITLIST").sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return t.findIndex(t=>t.userId===e)+1},w=e=>{if(!e)return!0;const t=m.value.ATTENDING;return t<e||"ATTENDING"===u.value?.status},C=e=>{if(!e)return{isFull:!1,percentage:0,remaining:1/0,waitlistCount:m.value.WAITLIST};const t=m.value.ATTENDING,a=Math.round(t/e*100);return{isFull:t>=e,percentage:Math.min(a,100),remaining:Math.max(e-t,0),waitlistCount:m.value.WAITLIST}};return(0,l.wB)(()=>e,e=>{e&&p()},{immediate:!0}),{rsvps:s,isLoading:n,error:o,currentUserRsvp:u,rsvpCounts:m,totalAttending:v,hasUserRsvped:b,loadRSVPs:p,updateRSVP:h,removeRSVP:g,promoteFromWaitlist:k,bulkUpdateRSVPs:y,getRSVPsByStatus:L,getWaitlistPosition:f,canUserAttend:w,getCapacityInfo:C}}const Kc={class:"rsvp-card"},Vc={class:"capacity-section"},$c={class:"capacity-display"},Oc={class:"attendee-stats"},Qc={class:"attendee-count"},jc={key:0,class:"capacity-progress"},Gc={class:"progress"},Jc={class:"text-muted"},qc={class:"rsvp-section"},Hc={key:0,class:"current-status"},Yc={class:"status-badge"},zc={class:"text-muted d-block mt-1"},Zc={class:"rsvp-actions mt-3"},ed=["onClick","disabled"],td={class:"btn-content"},ad={key:0,class:"badge bg-light text-dark ms-2"},sd={key:1,class:"waitlist-info alert alert-info mt-3"},ld={class:"waitlist-details"},nd={key:2,class:"event-full-info alert alert-warning mt-3"},od={class:"attendee-summary mt-4"},id={key:0,class:"loading-overlay"};var rd={__name:"EventRSVPCard",props:{event:{type:Object,required:!0},rsvps:{type:Array,default:()=>[]},currentUserId:{type:Number,default:null}},emits:["rsvp-updated"],setup(e,{emit:t}){const a=e,s=t,o=(0,F.KR)(!1),{currentUserRsvp:i,isLoading:r,updateRSVP:c,rsvpCounts:d}=Bc(a.event.id,a.currentUserId,a.rsvps),u=[{status:"ATTENDING",label:"Going",icon:"bi bi-check-circle-fill",class:"btn-success"},{status:"NOT_ATTENDING",label:"Not Going",icon:"bi bi-x-circle-fill",class:"btn-danger"},{status:"MAYBE",label:"Maybe",icon:"bi bi-question-circle-fill",class:"btn-warning"}],m=(0,l.EW)(()=>d.value.ATTENDING+d.value.WAITLIST),v=(0,l.EW)(()=>a.event.capacity?Math.min(Math.round(m.value/a.event.capacity*100),100):0),b=(0,l.EW)(()=>{const e=v.value;return e>=90?"bg-danger":e>=75?"bg-warning":"bg-success"}),p=(0,l.EW)(()=>a.event.capacity&&m.value>=a.event.capacity),h=(0,l.EW)(()=>!p.value||"ATTENDING"===i.value?.status),g=(0,l.EW)(()=>"WAITLIST"===i.value?.status),k=(0,l.EW)(()=>{if(!g.value)return null;const e=a.rsvps.filter(e=>"WAITLIST"===e.status).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt));return e.findIndex(e=>e.userId===a.currentUserId)+1}),y=async e=>{try{await c(e),s("rsvp-updated",{eventId:a.event.id,status:e})}catch(t){console.error("Failed to update RSVP:",t)}},L=e=>d.value[e]||0,f=e=>{const t={ATTENDING:"bi bi-check-circle-fill text-success",NOT_ATTENDING:"bi bi-x-circle-fill text-danger",MAYBE:"bi bi-question-circle-fill text-warning",WAITLIST:"bi bi-clock-history text-info",PENDING:"bi bi-hourglass-split text-muted"};return t[e]||"bi bi-circle text-muted"},w=e=>{const t={ATTENDING:"Going",NOT_ATTENDING:"Not Going",MAYBE:"Maybe",WAITLIST:"On Waitlist",PENDING:"Pending"};return t[e]||e},C=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/36e5);if(s<1)return"Just now";if(s<24)return`${s}h ago`;const l=Math.floor(s/24);return l<7?`${l}d ago`:a.toLocaleDateString()};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",Kc,[(0,l.Lk)("div",Vc,[a[2]||(a[2]=(0,l.Lk)("div",{class:"capacity-header"},[(0,l.Lk)("h6",{class:"mb-2"},[(0,l.Lk)("i",{class:"bi bi-people-fill text-info"}),(0,l.eW)(" Event Capacity ")])],-1)),(0,l.Lk)("div",$c,[(0,l.Lk)("div",Oc,[(0,l.Lk)("span",Qc,(0,n.v_)(m.value)+"/"+(0,n.v_)(e.event.capacity||"Unlimited"),1),a[1]||(a[1]=(0,l.Lk)("span",{class:"attendee-label"},"attending",-1))]),e.event.capacity?((0,l.uX)(),(0,l.CE)("div",jc,[(0,l.Lk)("div",Gc,[(0,l.Lk)("div",{class:(0,n.C4)(["progress-bar",b.value]),style:(0,n.Tr)({width:v.value+"%"}),role:"progressbar"},null,6)]),(0,l.Lk)("small",Jc,(0,n.v_)(v.value)+"% full",1)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",qc,[a[6]||(a[6]=(0,l.Lk)("div",{class:"rsvp-header"},[(0,l.Lk)("h6",{class:"mb-3"},[(0,l.Lk)("i",{class:"bi bi-calendar-check text-success"}),(0,l.eW)(" Your RSVP Status ")])],-1)),(0,F.R1)(i)?((0,l.uX)(),(0,l.CE)("div",Hc,[(0,l.Lk)("div",Yc,[(0,l.Lk)("i",{class:(0,n.C4)(f((0,F.R1)(i).status))},null,2),(0,l.Lk)("span",null,(0,n.v_)(w((0,F.R1)(i).status)),1)]),(0,l.Lk)("small",zc," Updated "+(0,n.v_)(C((0,F.R1)(i).createdAt)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",Zc,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(u,e=>(0,l.Lk)("button",{key:e.status,class:(0,n.C4)(["btn","rsvp-btn",e.class,{active:(0,F.R1)(i)?.status===e.status,disabled:(0,F.R1)(r)||!h.value&&"ATTENDING"===e.status}]),onClick:t=>y(e.status),disabled:(0,F.R1)(r)},[(0,l.Lk)("div",td,[(0,l.Lk)("i",{class:(0,n.C4)(e.icon)},null,2),(0,l.Lk)("span",null,(0,n.v_)(e.label),1)]),L(e.status)?((0,l.uX)(),(0,l.CE)("span",ad,(0,n.v_)(L(e.status)),1)):(0,l.Q3)("",!0)],10,ed)),64))]),g.value?((0,l.uX)(),(0,l.CE)("div",sd,[a[3]||(a[3]=(0,l.Lk)("i",{class:"bi bi-clock-history"},null,-1)),a[4]||(a[4]=(0,l.Lk)("strong",null,"You're on the waitlist!",-1)),(0,l.Lk)("div",ld," Position #"+(0,n.v_)(k.value)+" - We'll notify you if a spot opens up. ",1)])):(0,l.Q3)("",!0),p.value&&!(0,F.R1)(i)?((0,l.uX)(),(0,l.CE)("div",nd,[...a[5]||(a[5]=[(0,l.Lk)("i",{class:"bi bi-exclamation-triangle"},null,-1),(0,l.Lk)("strong",null,"Event is at capacity",-1),(0,l.Lk)("div",null,"You can still RSVP to join the waitlist.",-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",od,[(0,l.bF)(Xc,{rsvps:e.rsvps,"show-details":o.value,onToggleDetails:a[0]||(a[0]=e=>o.value=!o.value)},null,8,["rsvps","show-details"])]),(0,F.R1)(r)?((0,l.uX)(),(0,l.CE)("div",id,[...a[7]||(a[7]=[(0,l.Lk)("div",{class:"spinner-border text-info",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):(0,l.Q3)("",!0)]))}};const cd=(0,W.A)(rd,[["__scopeId","data-v-3799098a"]]);var dd=cd,ud={name:"Events",components:{EventRSVPCard:dd,SkeletonLoader:Va},setup(){const{fetchEventRSVPs:e}=Ta(),t=(0,F.KR)([]),a=(0,F.KR)([]),s=(0,F.KR)({}),l=(0,F.KR)(!1),n=(0,F.KR)(!1),o=(0,F.KR)("cards"),i=(0,F.KR)(""),r=(0,F.KR)(""),c=(0,F.KR)(""),d=(0,F.KR)(""),u=(0,F.KR)(!1),m=(0,F.KR)(!1),v=(0,F.KR)(!1),b=(0,F.KR)(null),p=(0,F.Kh)({id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}),h=(0,F.KR)(1);return{events:t,chapters:a,eventRsvps:s,loading:l,saving:n,viewMode:o,searchTerm:i,selectedChapter:r,selectedType:c,selectedTimeframe:d,showCreateModal:u,showEditModal:m,showDeleteModal:v,eventToDelete:b,eventForm:p,currentUserId:h,fetchEventRSVPs:e}},computed:{filteredEvents(){let e=this.events;if(this.searchTerm){const t=this.searchTerm.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t)||e.chapter&&e.chapter.name.toLowerCase().includes(t))}if(this.selectedChapter&&(e=e.filter(e=>e.chapter&&e.chapter.id===parseInt(this.selectedChapter))),this.selectedType&&(e=e.filter(e=>e.type===this.selectedType)),this.selectedTimeframe){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=new Date(t.getTime()+6048e5),l=new Date(t.getFullYear(),t.getMonth()+1,t.getDate());e=e.filter(e=>{const n=new Date(e.eventDateTime);switch(this.selectedTimeframe){case"upcoming":return n>=t;case"past":return n<t;case"today":return n>=a&&n<new Date(a.getTime()+864e5);case"this-week":return n>=t&&n<=s;case"this-month":return n>=t&&n<=l;default:return!0}})}return e.sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}},data(){return{eventRsvps:{},viewMode:"cards",currentUserId:1}},async mounted(){await this.loadData()},methods:{async loadData(){try{this.loading=!0;const[e,t]=await Promise.all([ac.getAllEvents(),Al.getAllChapters()]);this.events=e,this.chapters=t,await this.loadAllRSVPs()}catch(e){console.error("Error loading events:",e)}finally{this.loading=!1}},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>50?e.substring(0,50)+"...":e},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"},editEvent(e){const t=new Date(e.eventDateTime),a=t.toISOString().slice(0,16);this.eventForm={id:e.id,title:e.title,description:e.description||"",eventDateTime:a,type:e.type,chapterId:e.chapter?e.chapter.id:"",location:e.location||""},this.showEditModal=!0},confirmDelete(e){this.eventToDelete=e,this.showDeleteModal=!0},async saveEvent(){try{this.saving=!0;const e={...this.eventForm,chapter:this.eventForm.chapterId?{id:this.eventForm.chapterId}:null};delete e.chapterId,this.showEditModal?await ac.updateEvent(this.eventForm.id,e):await ac.createEvent(e),await this.loadData(),this.closeModal()}catch(e){console.error("Error saving event:",e),alert("Error saving event. Please try again.")}finally{this.saving=!1}},async deleteEvent(){try{await ac.deleteEvent(this.eventToDelete.id),await this.loadData(),this.showDeleteModal=!1,this.eventToDelete=null}catch(e){console.error("Error deleting event:",e),alert("Error deleting event. Please try again.")}},async loadEventRSVPs(e){try{const t=await this.fetchEventRSVPs(e);this.eventRsvps[e]=t.data||[]}catch(t){console.error(`Error loading RSVPs for event ${e}:`,t)}},async loadAllRSVPs(){const e=this.events.map(e=>this.loadEventRSVPs(e.id));await Promise.all(e)},handleRSVPUpdate(e){this.loadEventRSVPs(e.eventId)},getRSVPCount(e,t){const a=this.eventRsvps[e]||[];return a.filter(e=>e.status===t).length},closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.showDeleteModal=!1,this.eventForm={id:null,title:"",description:"",eventDateTime:"",type:"",chapterId:"",location:"",capacity:null}}}};const md=(0,W.A)(ud,[["render",tc],["__scopeId","data-v-6af8159a"]]);var vd=md;const bd={class:"chapter-detail"},pd={class:"container"},hd={key:0,class:"text-center py-4"},gd={key:1,class:"text-center py-4"},kd={class:"alert alert-danger"},yd={key:2},Ld={class:"row mb-4"},fd={class:"col"},wd={"aria-label":"breadcrumb"},Cd={class:"breadcrumb"},Ed={class:"breadcrumb-item"},Sd={class:"breadcrumb-item"},xd={class:"breadcrumb-item active","aria-current":"page"},Td={class:"d-flex justify-content-between align-items-start"},Ad={class:"display-4 mb-2"},Rd={class:"lead text-muted"},Id={class:"row mb-4"},Md={class:"col-lg-8"},Dd={class:"card"},Fd={class:"card-body"},Nd={class:"row"},_d={class:"col-md-6"},Pd={class:"col-md-6"},Ud={key:0,class:"mt-3"},Wd={class:"mt-2"},Xd={class:"col-lg-4"},Bd={class:"card bg-primary text-white mb-3"},Kd={class:"card-body text-center"},Vd={class:"card bg-success text-white mb-3"},$d={class:"card-body text-center"},Od={class:"row mb-4"},Qd={class:"col"},jd={class:"card"},Gd={class:"card-header bg-light d-flex justify-content-between align-items-center"},Jd={class:"card-body"},qd={key:0,class:"text-center text-muted py-4"},Hd={key:1,class:"row"},Yd={class:"card border-0 bg-light"},zd={class:"card-body"},Zd={class:"card-title text-primary"},eu={class:"card-text mb-1"},tu={class:"card-text"},au={class:"text-muted"},su={class:"row mb-4"},lu={class:"col"},nu={class:"card"},ou={class:"card-header bg-light d-flex justify-content-between align-items-center"},iu={class:"card-title mb-0"},ru={class:"card-body p-0"},cu={key:0,class:"text-center text-muted py-4"},du={key:1,class:"table-responsive"},uu={class:"table table-hover mb-0"},mu={class:"row"},vu={class:"col"},bu={class:"card"},pu={class:"card-header bg-light d-flex justify-content-between align-items-center"},hu={class:"card-body p-0"},gu={key:0,class:"text-center text-muted py-4"},ku={key:1,class:"table-responsive"},yu={class:"table table-hover mb-0"},Lu={key:0,class:"text-muted"},fu={key:0,class:"text-center p-3 border-top"};function wu(e,t,a,s,o,i){const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",bd,[(0,l.Lk)("div",pd,[o.loading?((0,l.uX)(),(0,l.CE)("div",hd,[...t[2]||(t[2]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)])])):o.chapter?((0,l.uX)(),(0,l.CE)("div",yd,[(0,l.Lk)("div",Ld,[(0,l.Lk)("div",fd,[(0,l.Lk)("nav",wd,[(0,l.Lk)("ol",Cd,[(0,l.Lk)("li",Ed,[(0,l.bF)(r,{to:"/"},{default:(0,l.k6)(()=>[...t[6]||(t[6]=[(0,l.eW)("Home",-1)])]),_:1})]),(0,l.Lk)("li",Sd,[(0,l.bF)(r,{to:"/chapters"},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("Chapters",-1)])]),_:1})]),(0,l.Lk)("li",xd,(0,n.v_)(o.chapter.name),1)])]),(0,l.Lk)("div",Td,[(0,l.Lk)("div",null,[(0,l.Lk)("h1",Ad,[t[8]||(t[8]=(0,l.Lk)("i",{class:"bi bi-building text-primary me-3"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.name),1)]),(0,l.Lk)("p",Rd,(0,n.v_)(o.chapter.universityName),1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-outline-secondary me-2",onClick:t[0]||(t[0]=(...e)=>i.editChapter&&i.editChapter(...e))},[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)(" Edit Chapter ",-1)])]),(0,l.bF)(r,{to:"/chapters",class:"btn btn-secondary"},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])])])]),(0,l.Lk)("div",Id,[(0,l.Lk)("div",Md,[(0,l.Lk)("div",Dd,[t[18]||(t[18]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-info-circle text-primary me-2"}),(0,l.eW)(" Chapter Information ")])],-1)),(0,l.Lk)("div",Fd,[(0,l.Lk)("div",Nd,[(0,l.Lk)("div",_d,[(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"University:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.universityName),1)]),(0,l.Lk)("p",null,[t[12]||(t[12]=(0,l.Lk)("strong",null,"Location:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapter.city)+", "+(0,n.v_)(o.chapter.state),1)]),(0,l.Lk)("p",null,[t[13]||(t[13]=(0,l.Lk)("strong",null,"Founded:",-1)),(0,l.eW)(" "+(0,n.v_)(i.formatDate(o.chapter.foundedDate)),1)])]),(0,l.Lk)("div",Pd,[(0,l.Lk)("p",null,[t[14]||(t[14]=(0,l.Lk)("strong",null,"Total Members:",-1)),(0,l.eW)(" "+(0,n.v_)(o.chapterMembers.length),1)]),(0,l.Lk)("p",null,[t[15]||(t[15]=(0,l.Lk)("strong",null,"Active Members:",-1)),(0,l.eW)(" "+(0,n.v_)(i.activeMembers.length),1)]),(0,l.Lk)("p",null,[t[16]||(t[16]=(0,l.Lk)("strong",null,"Upcoming Events:",-1)),(0,l.eW)(" "+(0,n.v_)(i.upcomingEvents.length),1)])])]),o.chapter.description?((0,l.uX)(),(0,l.CE)("div",Ud,[t[17]||(t[17]=(0,l.Lk)("strong",null,"Description:",-1)),(0,l.Lk)("p",Wd,(0,n.v_)(o.chapter.description),1)])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Xd,[(0,l.Lk)("div",Bd,[(0,l.Lk)("div",Kd,[t[19]||(t[19]=(0,l.Lk)("i",{class:"bi bi-people-fill display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(o.chapterMembers.length),1),t[20]||(t[20]=(0,l.Lk)("p",{class:"mb-0"},"Total Members",-1))])]),(0,l.Lk)("div",Vd,[(0,l.Lk)("div",$d,[t[21]||(t[21]=(0,l.Lk)("i",{class:"bi bi-calendar-event display-4 mb-2"},null,-1)),(0,l.Lk)("h3",null,(0,n.v_)(i.upcomingEvents.length),1),t[22]||(t[22]=(0,l.Lk)("p",{class:"mb-0"},"Upcoming Events",-1))])])])]),(0,l.Lk)("div",Od,[(0,l.Lk)("div",Qd,[(0,l.Lk)("div",jd,[(0,l.Lk)("div",Gd,[t[24]||(t[24]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-award text-warning me-2"}),(0,l.eW)(" Chapter Leadership ")],-1)),(0,l.bF)(r,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[23]||(t[23]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-1"},null,-1),(0,l.eW)(" Add Member ",-1)])]),_:1})]),(0,l.Lk)("div",Jd,[0===i.leadership.length?((0,l.uX)(),(0,l.CE)("div",qd,[...t[25]||(t[25]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No leadership positions assigned",-1)])])):((0,l.uX)(),(0,l.CE)("div",Hd,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.leadership,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 mb-3"},[(0,l.Lk)("div",Yd,[(0,l.Lk)("div",zd,[(0,l.Lk)("h6",Zd,(0,n.v_)(i.formatRole(e.role)),1),(0,l.Lk)("p",eu,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("p",tu,[(0,l.Lk)("small",au,[t[26]||(t[26]=(0,l.Lk)("i",{class:"bi bi-envelope me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.email),1)])])])])]))),128))]))])])])]),(0,l.Lk)("div",su,[(0,l.Lk)("div",lu,[(0,l.Lk)("div",nu,[(0,l.Lk)("div",ou,[(0,l.Lk)("h5",iu,[t[27]||(t[27]=(0,l.Lk)("i",{class:"bi bi-people text-success me-2"},null,-1)),(0,l.eW)(" All Members ("+(0,n.v_)(o.chapterMembers.length)+") ",1)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-secondary me-2",onClick:t[1]||(t[1]=e=>o.showInactiveMembers=!o.showInactiveMembers)},(0,n.v_)(o.showInactiveMembers?"Hide":"Show")+" Inactive ",1),(0,l.bF)(r,{to:"/members",class:"btn btn-sm btn-outline-success"},{default:(0,l.k6)(()=>[...t[28]||(t[28]=[(0,l.eW)(" View All Members ",-1)])]),_:1})])]),(0,l.Lk)("div",ru,[0===i.displayedMembers.length?((0,l.uX)(),(0,l.CE)("div",cu,[...t[29]||(t[29]=[(0,l.Lk)("i",{class:"bi bi-person-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No members found",-1)])])):((0,l.uX)(),(0,l.CE)("div",du,[(0,l.Lk)("table",uu,[t[30]||(t[30]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Role"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Joined"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.displayedMembers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getRoleBadgeClass(e.role)])},(0,n.v_)(i.formatRole(e.role)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,(0,n.v_)(i.formatDate(e.joinDate)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",e.active?"bg-success":"bg-secondary"])},(0,n.v_)(e.active?"Active":"Inactive"),3)])]))),128))])])]))])])])]),(0,l.Lk)("div",mu,[(0,l.Lk)("div",vu,[(0,l.Lk)("div",bu,[(0,l.Lk)("div",pu,[t[32]||(t[32]=(0,l.Lk)("h5",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-calendar-event text-info me-2"}),(0,l.eW)(" Chapter Events ")],-1)),(0,l.bF)(r,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[...t[31]||(t[31]=[(0,l.Lk)("i",{class:"bi bi-calendar-plus me-1"},null,-1),(0,l.eW)(" Create Event ",-1)])]),_:1})]),(0,l.Lk)("div",hu,[0===o.chapterEvents.length?((0,l.uX)(),(0,l.CE)("div",gu,[...t[33]||(t[33]=[(0,l.Lk)("i",{class:"bi bi-calendar-x display-4 mb-3"},null,-1),(0,l.Lk)("p",null,"No events scheduled",-1)])])):((0,l.uX)(),(0,l.CE)("div",ku,[(0,l.Lk)("table",yu,[t[35]||(t[35]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Event Title"),(0,l.Lk)("th",null,"Date & Time"),(0,l.Lk)("th",null,"Type"),(0,l.Lk)("th",null,"Location"),(0,l.Lk)("th",null,"Status")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.chapterEvents.slice(0,10),e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,[(0,l.Lk)("strong",null,(0,n.v_)(e.title),1),t[34]||(t[34]=(0,l.Lk)("br",null,null,-1)),e.description?((0,l.uX)(),(0,l.CE)("small",Lu,(0,n.v_)(i.truncateDescription(e.description)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("td",null,(0,n.v_)(i.formatDateTime(e.eventDateTime)),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getTypeBadgeClass(e.type)])},(0,n.v_)(i.formatType(e.type)),3)]),(0,l.Lk)("td",null,(0,n.v_)(e.location||"TBD"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["badge",i.getStatusBadgeClass(e.eventDateTime)])},(0,n.v_)(i.getEventStatus(e.eventDateTime)),3)])]))),128))])]),o.chapterEvents.length>10?((0,l.uX)(),(0,l.CE)("div",fu,[(0,l.bF)(r,{to:"/events",class:"btn btn-sm btn-outline-info"},{default:(0,l.k6)(()=>[(0,l.eW)(" View All "+(0,n.v_)(o.chapterEvents.length)+" Events ",1)]),_:1})])):(0,l.Q3)("",!0)]))])])])])])):((0,l.uX)(),(0,l.CE)("div",gd,[(0,l.Lk)("div",kd,[t[4]||(t[4]=(0,l.Lk)("h4",null,"Chapter Not Found",-1)),t[5]||(t[5]=(0,l.Lk)("p",null,"The chapter you're looking for doesn't exist.",-1)),(0,l.bF)(r,{to:"/chapters",class:"btn btn-primary"},{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.eW)(" Back to Chapters ",-1)])]),_:1})])]))])])}var Cu={name:"ChapterDetail",data(){return{loading:!0,chapter:null,chapterMembers:[],chapterEvents:[],showInactiveMembers:!1}},computed:{activeMembers(){return this.chapterMembers.filter(e=>e.active)},leadership(){return this.chapterMembers.filter(e=>["PRESIDENT","VICE_PRESIDENT","SECRETARY","TREASURER"].includes(e.role)).sort((e,t)=>{const a={PRESIDENT:1,VICE_PRESIDENT:2,SECRETARY:3,TREASURER:4};return a[e.role]-a[t.role]})},displayedMembers(){return this.showInactiveMembers?this.chapterMembers:this.activeMembers},upcomingEvents(){const e=new Date;return this.chapterEvents.filter(t=>new Date(t.eventDateTime)>=e)}},async mounted(){await this.loadChapterData()},methods:{async loadChapterData(){try{this.loading=!0;const e=parseInt(this.$route.params.id),[t,a,s]=await Promise.all([Al.getChapterById(e),Ml.getAllMembers(),ac.getAllEvents()]);this.chapter=t,this.chapterMembers=a.filter(t=>t.chapterId===e),this.chapterEvents=s.filter(t=>t.chapter&&t.chapter.id===e).sort((e,t)=>new Date(e.eventDateTime)-new Date(t.eventDateTime))}catch(e){console.error("Error loading chapter data:",e),this.chapter=null}finally{this.loading=!1}},editChapter(){this.$router.push("/chapters")},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatRole(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},formatType(e){return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},truncateDescription(e){return e.length>100?e.substring(0,100)+"...":e},getRoleBadgeClass(e){const t={PRESIDENT:"bg-danger",VICE_PRESIDENT:"bg-warning text-dark",SECRETARY:"bg-info",TREASURER:"bg-success",MEMBER:"bg-secondary"};return t[e]||"bg-secondary"},getTypeBadgeClass(e){const t={MEETING:"bg-primary",SOCIAL:"bg-success",FUNDRAISER:"bg-warning text-dark",WORKSHOP:"bg-info",VOLUNTEER:"bg-secondary"};return t[e]||"bg-secondary"},getEventStatus(e){const t=new Date,a=new Date(e);return a<t?"Past":a.toDateString()===t.toDateString()?"Today":"Upcoming"},getStatusBadgeClass(e){const t=this.getEventStatus(e),a={Past:"bg-secondary",Today:"bg-warning text-dark",Upcoming:"bg-success"};return a[t]||"bg-secondary"}},watch:{$route(){this.loadChapterData()}}};const Eu=(0,W.A)(Cu,[["render",wu]]);var Su=Eu;const xu={class:"login-container"},Tu={class:"card"},Au={class:"card-body"},Ru={key:0,class:"alert alert-danger",role:"alert"},Iu={key:1,class:"alert alert-success",role:"alert"},Mu={class:"mb-3"},Du={class:"mb-3"},Fu=["disabled"],Nu={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},_u={key:2,class:"mt-4"},Pu={class:"card"},Uu={class:"card-body"},Wu={class:"mt-4"},Xu=["disabled"],Bu={key:0,class:"mt-2"};function Ku(e,t,a,o,i,r){return(0,l.uX)(),(0,l.CE)("div",xu,[(0,l.Lk)("div",Tu,[t[14]||(t[14]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",null,"Login")],-1)),(0,l.Lk)("div",Au,[i.error?((0,l.uX)(),(0,l.CE)("div",Ru,(0,n.v_)(i.error),1)):(0,l.Q3)("",!0),i.success?((0,l.uX)(),(0,l.CE)("div",Iu,(0,n.v_)(i.success),1)):(0,l.Q3)("",!0),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)((...e)=>r.login&&r.login(...e),["prevent"]))},[(0,l.Lk)("div",Mu,[t[5]||(t[5]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.credentials.username=e),required:""},null,512),[[s.Jo,i.credentials.username]]),t[6]||(t[6]=(0,l.Lk)("div",{class:"form-text"},"Use: testuser",-1))]),(0,l.Lk)("div",Du,[t[7]||(t[7]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.credentials.password=e),required:""},null,512),[[s.Jo,i.credentials.password]]),t[8]||(t[8]=(0,l.Lk)("div",{class:"form-text"},"Use: password123",-1))]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:i.loading},[i.loading?((0,l.uX)(),(0,l.CE)("span",Nu)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(i.loading?"Logging in...":"Login"),1)],8,Fu)],32),i.user?((0,l.uX)(),(0,l.CE)("div",_u,[t[12]||(t[12]=(0,l.Lk)("h5",null,"Current User",-1)),(0,l.Lk)("div",Pu,[(0,l.Lk)("div",Uu,[(0,l.Lk)("p",null,[t[9]||(t[9]=(0,l.Lk)("strong",null,"Name:",-1)),(0,l.eW)(" "+(0,n.v_)(i.user.firstName)+" "+(0,n.v_)(i.user.lastName),1)]),(0,l.Lk)("p",null,[t[10]||(t[10]=(0,l.Lk)("strong",null,"Email:",-1)),(0,l.eW)(" "+(0,n.v_)(i.user.email),1)]),(0,l.Lk)("p",null,[t[11]||(t[11]=(0,l.Lk)("strong",null,"Role:",-1)),(0,l.eW)(" "+(0,n.v_)(i.user.role),1)]),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.logout&&r.logout(...e)),class:"btn btn-secondary"},"Logout")])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Wu,[t[13]||(t[13]=(0,l.Lk)("h5",null,"Test Secured Endpoint",-1)),(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.testSecuredEndpoint&&r.testSecuredEndpoint(...e)),class:"btn btn-info",disabled:!i.user}," Test Chapter Access with Authentication ",8,Xu),i.securedTestResult?((0,l.uX)(),(0,l.CE)("div",Bu,[(0,l.Lk)("div",{class:(0,n.C4)(["alert",i.securedTestResult.success?"alert-success":"alert-danger"])},(0,n.v_)(i.securedTestResult.message),3)])):(0,l.Q3)("",!0)])])])])}var Vu={name:"Login",data(){return{credentials:{username:"testuser",password:"password123"},user:null,loading:!1,error:null,success:null,securedTestResult:null}},methods:{async login(){this.loading=!0,this.error=null,this.success=null;try{const e={...this.credentials,action:"login"},t=await Ea.A.post("/auth/register",e);if(t.data.success){const e={username:t.data.username,action:t.data.action,loginTime:(new Date).toISOString()};this.user=e,this.success="Login successful! Redirecting to dashboard...",localStorage.setItem("user",JSON.stringify(e)),setTimeout(()=>{this.$router.push("/")},1500)}else this.error=t.data.message||"Login failed"}catch(e){console.error("Login error:",e),this.error=e.response?.data?.message||"Login failed. Please try again."}finally{this.loading=!1}},async logout(){try{await Ea.A.post("/auth/logout"),this.user=null,this.success="Logout successful!",this.securedTestResult=null,localStorage.removeItem("user")}catch(e){console.error("Logout error:",e),this.user=null,localStorage.removeItem("user")}},async testSecuredEndpoint(){this.securedTestResult=null;try{const e=await Ea.A.get("/auth/me");e.data.success?this.securedTestResult={success:!0,message:`✅ Authenticated access successful! Current user: ${e.data.user.firstName} ${e.data.user.lastName}`}:this.securedTestResult={success:!1,message:`❌ Authentication failed: ${e.data.message}`}}catch(e){console.error("Secured endpoint test error:",e),this.securedTestResult={success:!1,message:`❌ Error testing secured endpoint: ${e.response?.data?.message||e.message}`}}}},mounted(){const e=localStorage.getItem("user");if(e)try{this.user=JSON.parse(e)}catch(t){console.error("Error parsing stored user:",t),localStorage.removeItem("user")}}};const $u=(0,W.A)(Vu,[["render",Ku],["__scopeId","data-v-2c41526c"]]);var Ou=$u;function Qu(e,t,a,s,n,o){const i=(0,l.g2)("Registration",!0);return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(i)])}const ju={class:"container mt-5"},Gu={class:"row justify-content-center"},Ju={class:"col-md-8"},qu={class:"card"},Hu={class:"card-body"},Yu={key:0,class:"alert alert-success"},zu={key:1,class:"alert alert-danger"},Zu={class:"row"},em={class:"col-md-6"},tm={class:"mb-3"},am={key:0,class:"invalid-feedback"},sm={class:"col-md-6"},lm={class:"mb-3"},nm={key:0,class:"invalid-feedback"},om={class:"row"},im={class:"col-md-6"},rm={class:"mb-3"},cm={key:0,class:"invalid-feedback"},dm={class:"col-md-6"},um={class:"mb-3"},mm={key:0,class:"invalid-feedback"},vm={class:"mb-3"},bm={key:0,class:"invalid-feedback"},pm={class:"mb-3"},hm=["value"],gm={key:0,class:"invalid-feedback"},km={class:"row"},ym={class:"col-md-6"},Lm={class:"mb-3"},fm={class:"col-md-6"},wm={class:"mb-3"},Cm={class:"mb-3"},Em={class:"d-grid"},Sm=["disabled"],xm={key:0,class:"spinner-border spinner-border-sm me-2"},Tm={class:"text-center mt-3"};function Am(e,t,a,o,i,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",ju,[(0,l.Lk)("div",Gu,[(0,l.Lk)("div",Ju,[(0,l.Lk)("div",qu,[t[23]||(t[23]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h3",{class:"text-center"},"Join a Chapter"),(0,l.Lk)("p",{class:"text-center text-muted"},"Create your account to get started")],-1)),(0,l.Lk)("div",Hu,[(0,l.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"]))},[i.successMessage?((0,l.uX)(),(0,l.CE)("div",Yu,(0,n.v_)(i.successMessage),1)):(0,l.Q3)("",!0),i.errorMessage?((0,l.uX)(),(0,l.CE)("div",zu,(0,n.v_)(i.errorMessage),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Zu,[(0,l.Lk)("div",em,[(0,l.Lk)("div",tm,[t[10]||(t[10]=(0,l.Lk)("label",{for:"firstName",class:"form-label"},"First Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.firstName}]),id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>i.form.firstName=e),required:""},null,2),[[s.Jo,i.form.firstName]]),i.errors.firstName?((0,l.uX)(),(0,l.CE)("div",am,(0,n.v_)(i.errors.firstName),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",sm,[(0,l.Lk)("div",lm,[t[11]||(t[11]=(0,l.Lk)("label",{for:"lastName",class:"form-label"},"Last Name *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.lastName}]),id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.lastName=e),required:""},null,2),[[s.Jo,i.form.lastName]]),i.errors.lastName?((0,l.uX)(),(0,l.CE)("div",nm,(0,n.v_)(i.errors.lastName),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",om,[(0,l.Lk)("div",im,[(0,l.Lk)("div",rm,[t[12]||(t[12]=(0,l.Lk)("label",{for:"email",class:"form-label"},"Email *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.email}]),id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.email=e),required:""},null,2),[[s.Jo,i.form.email]]),i.errors.email?((0,l.uX)(),(0,l.CE)("div",cm,(0,n.v_)(i.errors.email),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",dm,[(0,l.Lk)("div",um,[t[13]||(t[13]=(0,l.Lk)("label",{for:"username",class:"form-label"},"Username *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.username}]),id:"username","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.username=e),placeholder:"At least 3 characters",required:""},null,2),[[s.Jo,i.form.username]]),i.errors.username?((0,l.uX)(),(0,l.CE)("div",mm,(0,n.v_)(i.errors.username),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",vm,[t[14]||(t[14]=(0,l.Lk)("label",{for:"password",class:"form-label"},"Password *",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:(0,n.C4)(["form-control",{"is-invalid":i.errors.password}]),id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.password=e),placeholder:"At least 8 characters",required:""},null,2),[[s.Jo,i.form.password]]),i.errors.password?((0,l.uX)(),(0,l.CE)("div",bm,(0,n.v_)(i.errors.password),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",pm,[t[16]||(t[16]=(0,l.Lk)("label",{for:"stateOfResidence",class:"form-label"},"State of Residence *",-1)),(0,l.bo)((0,l.Lk)("select",{class:(0,n.C4)(["form-select",{"is-invalid":i.errors.stateOfResidence}]),id:"stateOfResidence","onUpdate:modelValue":t[5]||(t[5]=e=>i.form.stateOfResidence=e),required:""},[t[15]||(t[15]=(0,l.Lk)("option",{value:""},"Choose your state...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.states,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.code,value:e.code},(0,n.v_)(e.name),9,hm))),128))],2),[[s.u1,i.form.stateOfResidence]]),i.errors.stateOfResidence?((0,l.uX)(),(0,l.CE)("div",gm,(0,n.v_)(i.errors.stateOfResidence),1)):(0,l.Q3)("",!0),t[17]||(t[17]=(0,l.Lk)("small",{class:"form-text text-muted"}," We'll help you find chapters in your area after registration ",-1))]),(0,l.Lk)("div",km,[(0,l.Lk)("div",ym,[(0,l.Lk)("div",Lm,[t[18]||(t[18]=(0,l.Lk)("label",{for:"major",class:"form-label"},"Major",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"major","onUpdate:modelValue":t[6]||(t[6]=e=>i.form.major=e),placeholder:"Your field of study"},null,512),[[s.Jo,i.form.major]])])]),(0,l.Lk)("div",fm,[(0,l.Lk)("div",wm,[t[19]||(t[19]=(0,l.Lk)("label",{for:"graduationYear",class:"form-label"},"Graduation Year",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"graduationYear","onUpdate:modelValue":t[7]||(t[7]=e=>i.form.graduationYear=e),placeholder:"e.g., 2025"},null,512),[[s.Jo,i.form.graduationYear]])])])]),(0,l.Lk)("div",Cm,[t[20]||(t[20]=(0,l.Lk)("label",{for:"phoneNumber",class:"form-label"},"Phone Number",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control",id:"phoneNumber","onUpdate:modelValue":t[8]||(t[8]=e=>i.form.phoneNumber=e),placeholder:"(optional)"},null,512),[[s.Jo,i.form.phoneNumber]])]),(0,l.Lk)("div",Em,[(0,l.Lk)("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:i.isSubmitting},[i.isSubmitting?((0,l.uX)(),(0,l.CE)("span",xm)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(i.isSubmitting?"Creating Account...":"Create Account"),1)],8,Sm)])],32),(0,l.Lk)("div",Tm,[(0,l.Lk)("p",null,[t[22]||(t[22]=(0,l.eW)("Already have an account? ",-1)),(0,l.bF)(c,{to:"/login"},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.eW)("Login here",-1)])]),_:1})])])])])])])])}var Rm={name:"Registration",data(){return{form:{firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},states:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"},{code:"DC",name:"District of Columbia"}],errors:{},successMessage:"",errorMessage:"",isSubmitting:!1}},methods:{validateForm(){this.errors={};let e=!0;return this.form.firstName.trim()?this.form.firstName.length>50&&(this.errors.firstName="First name must be 50 characters or less",e=!1):(this.errors.firstName="First name is required",e=!1),this.form.lastName.trim()?this.form.lastName.length>50&&(this.errors.lastName="Last name must be 50 characters or less",e=!1):(this.errors.lastName="Last name is required",e=!1),this.form.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email)||(this.errors.email="Please enter a valid email address",e=!1):(this.errors.email="Email is required",e=!1),this.form.username.trim()?this.form.username.length<3?(this.errors.username="Username must be at least 3 characters",e=!1):this.form.username.length>50&&(this.errors.username="Username must be 50 characters or less",e=!1):(this.errors.username="Username is required",e=!1),this.form.password?this.form.password.length<8&&(this.errors.password="Password must be at least 8 characters",e=!1):(this.errors.password="Password is required",e=!1),this.form.stateOfResidence||(this.errors.stateOfResidence="Please select your state of residence",e=!1),e},async handleSubmit(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{const{getApiBaseUrl:e}=await Promise.resolve().then(a.bind(a,889)),t=e(),s=await fetch(`${t}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),l=await s.json();s.ok?(this.successMessage=`Registration successful! Welcome ${l.username}!`,this.resetForm(),setTimeout(()=>{this.$router.push("/login")},2e3)):l.message?this.errorMessage=l.message:l.errors?this.errors=l.errors:this.errorMessage="Registration failed. Please try again."}catch(e){console.error("Registration error:",e),this.errorMessage="Network error. Please check your connection and try again."}finally{this.isSubmitting=!1}}},resetForm(){this.form={firstName:"",lastName:"",email:"",username:"",password:"",stateOfResidence:"",major:"",graduationYear:"",phoneNumber:""},this.errors={}}}};const Im=(0,W.A)(Rm,[["render",Am],["__scopeId","data-v-6da26cc1"]]);var Mm=Im,Dm={name:"RegistrationView",components:{Registration:Mm}};const Fm=(0,W.A)(Dm,[["render",Qu]]);var Nm=Fm;const _m={class:"container-fluid py-4"},Pm={key:0,class:"mb-4"},Um={class:"card bg-gradient-primary text-white"},Wm={class:"card-body text-center py-4"},Xm={class:"row mb-4"},Bm={class:"col-md-8"},Km={class:"input-group"},Vm=["disabled"],$m={class:"col-md-4"},Om={class:"btn-group w-100",role:"group"},Qm={key:1,class:"text-center py-5"},jm={key:2,class:"alert alert-danger"},Gm={key:3,class:"text-center py-5"},Jm={class:"text-muted"},qm={key:0},Hm={key:1},Ym={key:0,class:"mt-4"},zm={key:1,class:"mt-4"},Zm={class:"card bg-primary text-white mx-auto",style:{"max-width":"500px"}},ev={class:"card-body text-center py-4"},tv={key:4,class:"row"},av={key:5,class:"row mt-5"},sv={class:"col-12"},lv={"aria-label":"Blog pagination"},nv={class:"pagination justify-content-center"},ov=["disabled"],iv=["onClick"],rv=["disabled"],cv={class:"row mt-5"},dv={class:"col-12"},uv={class:"card bg-light"},mv={class:"card-body text-center"},vv={class:"row"},bv={class:"col-md-4"},pv={class:"text-primary"},hv={class:"col-md-4"},gv={class:"text-primary"},kv={class:"col-md-4"},yv={class:"text-primary"};function Lv(e,t,a,o,i,r){const c=(0,l.g2)("router-link"),d=(0,l.g2)("BlogCard");return(0,l.uX)(),(0,l.CE)("div",_m,[t[28]||(t[28]=(0,l.Fv)('<div class="row mb-4" data-v-a9f417c0><div class="col-12" data-v-a9f417c0><div class="d-flex justify-content-between align-items-center" data-v-a9f417c0><div data-v-a9f417c0><h1 class="display-4 fw-bold text-primary" data-v-a9f417c0><i class="bi bi-journal-text me-3" data-v-a9f417c0></i>Campus Blog </h1><p class="lead text-muted" data-v-a9f417c0>Share your thoughts and connect with fellow students</p></div></div></div></div>',1)),o.currentUser?((0,l.uX)(),(0,l.CE)("div",Pm,[(0,l.Lk)("div",Um,[(0,l.Lk)("div",Wm,[t[9]||(t[9]=(0,l.Lk)("h4",{class:"card-title mb-3"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)("Share Your Story ")],-1)),t[10]||(t[10]=(0,l.Lk)("p",{class:"card-text mb-3"}," Connect with fellow students by sharing your experiences, thoughts, and insights. ",-1)),(0,l.bF)(c,{to:"/blog/create",class:"btn btn-light btn-lg"},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"},null,-1),(0,l.eW)("Create New Post ",-1)])]),_:1})])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Xm,[(0,l.Lk)("div",Bm,[(0,l.Lk)("div",Km,[t[11]||(t[11]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"Search blog posts...","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),onKeyup:t[1]||(t[1]=(0,s.jR)((...e)=>o.searchBlogs&&o.searchBlogs(...e),["enter"]))},null,544),[[s.Jo,o.searchQuery]]),(0,l.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[2]||(t[2]=(...e)=>o.searchBlogs&&o.searchBlogs(...e)),disabled:!o.searchQuery.trim()}," Search ",8,Vm),o.isSearchActive?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:t[3]||(t[3]=(...e)=>o.clearSearch&&o.clearSearch(...e))}," Clear ")):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",$m,[(0,l.Lk)("div",Om,[(0,l.Lk)("button",{type:"button",class:(0,n.C4)(["btn btn-outline-primary",{active:"recent"===o.viewMode}]),onClick:t[4]||(t[4]=e=>o.setViewMode("recent"))},[...t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-clock me-1"},null,-1),(0,l.eW)("Recent ",-1)])],2),(0,l.Lk)("button",{type:"button",class:(0,n.C4)(["btn btn-outline-primary",{active:"popular"===o.viewMode}]),onClick:t[5]||(t[5]=e=>o.setViewMode("popular"))},[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"bi bi-fire me-1"},null,-1),(0,l.eW)("Popular ",-1)])],2)])])]),o.loading?((0,l.uX)(),(0,l.CE)("div",Qm,[...t[14]||(t[14]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,l.Lk)("p",{class:"mt-2"},"Loading blog posts...",-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",jm,[t[15]||(t[15]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error),1)])):0!==o.blogs.length||o.loading?((0,l.uX)(),(0,l.CE)("div",tv,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.blogs,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-lg-6 col-xl-4 mb-4"},[(0,l.bF)(d,{blog:e,onBlogUpdated:o.handleBlogUpdated,onBlogDeleted:o.handleBlogDeleted},null,8,["blog","onBlogUpdated","onBlogDeleted"])]))),128))])):((0,l.uX)(),(0,l.CE)("div",Gm,[t[20]||(t[20]=(0,l.Lk)("i",{class:"bi bi-journal-x display-1 text-muted"},null,-1)),t[21]||(t[21]=(0,l.Lk)("h3",{class:"mt-3 text-muted"},"No blog posts found",-1)),(0,l.Lk)("p",Jm,[o.isSearchActive?((0,l.uX)(),(0,l.CE)("span",qm,"Try adjusting your search terms.")):((0,l.uX)(),(0,l.CE)("span",Hm,"Be the first to share your story!"))]),o.currentUser?((0,l.uX)(),(0,l.CE)("div",Ym,[(0,l.bF)(c,{to:"/blog/create",class:"btn btn-primary btn-lg"},{default:(0,l.k6)(()=>[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("Write the First Post ",-1)])]),_:1})])):(0,l.Q3)("",!0),o.currentUser?((0,l.uX)(),(0,l.CE)("div",zm,[(0,l.Lk)("div",Zm,[(0,l.Lk)("div",ev,[t[18]||(t[18]=(0,l.Lk)("h5",{class:"card-title mb-3"},[(0,l.Lk)("i",{class:"bi bi-lightbulb me-2"}),(0,l.eW)("Share Your Story ")],-1)),t[19]||(t[19]=(0,l.Lk)("p",{class:"card-text mb-3"}," Connect with fellow students by sharing your experiences, thoughts, and insights. ",-1)),(0,l.bF)(c,{to:"/blog/create",class:"btn btn-light btn-lg"},{default:(0,l.k6)(()=>[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"},null,-1),(0,l.eW)("Create New Post ",-1)])]),_:1})])])])):(0,l.Q3)("",!0)])),o.totalPages>1?((0,l.uX)(),(0,l.CE)("div",av,[(0,l.Lk)("div",sv,[(0,l.Lk)("nav",lv,[(0,l.Lk)("ul",nv,[(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:0===o.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[6]||(t[6]=e=>o.changePage(o.currentPage-1)),disabled:0===o.currentPage},[...t[22]||(t[22]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1),(0,l.eW)(" Previous ",-1)])],8,ov)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,n.C4)(["page-item",{active:e===o.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:t=>o.changePage(e)},(0,n.v_)(e+1),9,iv)],2))),128)),(0,l.Lk)("li",{class:(0,n.C4)(["page-item",{disabled:o.currentPage>=o.totalPages-1}])},[(0,l.Lk)("button",{class:"page-link",onClick:t[7]||(t[7]=e=>o.changePage(o.currentPage+1)),disabled:o.currentPage>=o.totalPages-1},[...t[23]||(t[23]=[(0,l.eW)(" Next ",-1),(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)])],8,rv)],2)])])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",cv,[(0,l.Lk)("div",dv,[(0,l.Lk)("div",uv,[(0,l.Lk)("div",mv,[(0,l.Lk)("div",vv,[(0,l.Lk)("div",bv,[(0,l.Lk)("h4",pv,(0,n.v_)(o.totalBlogs.toLocaleString()),1),t[24]||(t[24]=(0,l.Lk)("p",{class:"text-muted mb-0"},"Total Posts",-1))]),(0,l.Lk)("div",hv,[(0,l.Lk)("h4",gv,(0,n.v_)(o.recentBlogs.length),1),t[25]||(t[25]=(0,l.Lk)("p",{class:"text-muted mb-0"},"This Week",-1))]),(0,l.Lk)("div",kv,[(0,l.Lk)("h4",yv,(0,n.v_)(o.activeAuthors),1),t[26]||(t[26]=(0,l.Lk)("p",{class:"text-muted mb-0"},"Active Authors",-1))])])])])])]),o.currentUser?((0,l.uX)(),(0,l.Wv)(c,{key:6,to:"/blog/create",class:"btn btn-primary btn-lg position-fixed d-md-none floating-action-btn",style:{bottom:"20px",right:"20px","z-index":"1000","border-radius":"50%",width:"60px",height:"60px",display:"flex","align-items":"center","justify-content":"center","box-shadow":"0 4px 12px rgba(13, 110, 253, 0.3)"},title:"Write a new post"},{default:(0,l.k6)(()=>[...t[27]||(t[27]=[(0,l.Lk)("i",{class:"bi bi-plus-lg fs-4"},null,-1)])]),_:1})):(0,l.Q3)("",!0)])}const fv={async getAllBlogs(e=0,t=10){try{const a=await Ea.A.get(`/blogs?page=${e}&size=${t}`);return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to fetch blogs"}}},async getAllBlogsList(){try{const e=await Ea.A.get("/blogs/list");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||"Failed to fetch blogs"}}},async getBlogById(e){try{const t=await Ea.A.get(`/blogs/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch blog"}}},async createBlog(e){try{const t=await Ea.A.post("/blogs",e);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to create blog"}}},async updateBlog(e,t){try{const a=await Ea.A.put(`/blogs/${e}`,t);return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to update blog"}}},async deleteBlog(e){try{const t=await Ea.A.delete(`/blogs/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to delete blog"}}},async publishBlog(e){try{const t=await Ea.A.put(`/blogs/${e}/publish`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to publish blog"}}},async unpublishBlog(e){try{const t=await Ea.A.put(`/blogs/${e}/unpublish`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to unpublish blog"}}},async getBlogsByAuthor(e,t=0,a=10,s=!1){try{const l=await Ea.A.get(`/blogs/author/${e}?page=${t}&size=${a}&includeUnpublished=${s}`);return{success:!0,data:l.data}}catch(l){return{success:!1,error:l.response?.data?.message||"Failed to fetch author blogs"}}},async searchBlogs(e){try{const t=await Ea.A.get(`/blogs/search?keyword=${encodeURIComponent(e)}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to search blogs"}}},async getRecentBlogs(e=7){try{const t=await Ea.A.get(`/blogs/recent?days=${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch recent blogs"}}},async getPopularBlogs(e=10){try{const t=await Ea.A.get(`/blogs/popular?limit=${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch popular blogs"}}},async getBlogStats(){try{const e=await Ea.A.get("/blogs/stats");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||"Failed to fetch blog stats"}}},async getCommentsByBlog(e,t=0,a=20){try{const s=await Ea.A.get(`/comments/blog/${e}?page=${t}&size=${a}`);return{success:!0,data:s.data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to fetch comments"}}},async getCommentsByBlogList(e){try{const t=await Ea.A.get(`/comments/blog/${e}/list`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch comments"}}},async getCommentsByAuthor(e){try{const t=await Ea.A.get(`/comments/author/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch author comments"}}},async createComment(e){try{const t=await Ea.A.post("/comments",e);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to create comment"}}},async createCommentForBlog(e,t,a){try{const s=await Ea.A.post(`/comments/blog/${e}`,{content:t,authorId:a});return{success:!0,data:s.data}}catch(s){return{success:!1,error:s.response?.data?.message||"Failed to create comment"}}},async updateComment(e,t){try{const a=await Ea.A.put(`/comments/${e}`,{content:t});return{success:!0,data:a.data}}catch(a){return{success:!1,error:a.response?.data?.message||"Failed to update comment"}}},async deleteComment(e){try{const t=await Ea.A.delete(`/comments/${e}`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to delete comment"}}},async getCommentCount(e){try{const t=await Ea.A.get(`/comments/blog/${e}/count`);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||"Failed to fetch comment count"}}}},wv={class:"card h-100 blog-card"},Cv={class:"card-header border-0 bg-transparent"},Ev={class:"d-flex justify-content-between align-items-start"},Sv={class:"d-flex align-items-center"},xv={class:"mb-0 fw-semibold"},Tv={class:"text-muted"},Av={key:0,class:"dropdown"},Rv={class:"dropdown-menu dropdown-menu-end"},Iv={class:"card-body"},Mv={class:"card-title"},Dv={class:"card-text text-muted"},Fv={key:0},Nv={class:"blog-meta d-flex justify-content-between align-items-center text-muted"},_v={class:"d-flex align-items-center"},Pv={class:"me-3"},Uv={key:0},Wv={class:"card-footer border-0 bg-transparent"},Xv={class:"d-flex justify-content-between align-items-center"},Bv={class:"blog-status"},Kv={key:0,class:"badge bg-warning text-dark"},Vv={key:1,class:"badge bg-success"},$v=["id"],Ov={class:"modal-dialog"},Qv={class:"modal-content"},jv={class:"modal-body"},Gv={class:"modal-footer"},Jv=["disabled"],qv={key:0,class:"spinner-border spinner-border-sm me-2"};function Hv(e,t,a,s,o,i){const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",wv,[(0,l.Lk)("div",Cv,[(0,l.Lk)("div",Ev,[(0,l.Lk)("div",Sv,[t[5]||(t[5]=(0,l.Lk)("div",{class:"author-avatar me-2"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-4 text-secondary"})],-1)),(0,l.Lk)("div",null,[(0,l.Lk)("h6",xv,(0,n.v_)(a.blog.author?.firstName)+" "+(0,n.v_)(a.blog.author?.lastName),1),(0,l.Lk)("small",Tv,"@"+(0,n.v_)(a.blog.author?.username),1)])]),s.canEditBlog?((0,l.uX)(),(0,l.CE)("div",Av,[t[11]||(t[11]=(0,l.Lk)("button",{class:"btn btn-link btn-sm text-muted",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",Rv,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>s.editBlog&&s.editBlog(...e))},[...t[6]||(t[6]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit ",-1)])])]),(0,l.Lk)("li",null,[a.blog.published?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"dropdown-item",onClick:t[1]||(t[1]=(...e)=>s.togglePublishStatus&&s.togglePublishStatus(...e))},[...t[7]||(t[7]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-2"},null,-1),(0,l.eW)("Unpublish ",-1)])])):((0,l.uX)(),(0,l.CE)("button",{key:1,class:"dropdown-item",onClick:t[2]||(t[2]=(...e)=>s.togglePublishStatus&&s.togglePublishStatus(...e))},[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-eye me-2"},null,-1),(0,l.eW)("Publish ",-1)])]))]),t[10]||(t[10]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t[3]||(t[3]=(...e)=>s.deleteBlog&&s.deleteBlog(...e))},[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete ",-1)])])])])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Iv,[(0,l.Lk)("h5",Mv,[(0,l.bF)(r,{to:`/blog/${a.blog.id}`,class:"text-decoration-none text-dark"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(a.blog.title),1)]),_:1},8,["to"])]),(0,l.Lk)("p",Dv,[(0,l.eW)((0,n.v_)(s.truncatedContent)+" ",1),s.isContentTruncated?((0,l.uX)(),(0,l.CE)("span",Fv,"...")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Nv,[(0,l.Lk)("small",null,[t[12]||(t[12]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.formatDate(a.blog.createdAt)),1)]),(0,l.Lk)("div",_v,[(0,l.Lk)("small",Pv,[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-chat me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(s.commentCount)+" "+(0,n.v_)(1===s.commentCount?"comment":"comments"),1)]),a.blog.updatedAt&&a.blog.updatedAt!==a.blog.createdAt?((0,l.uX)(),(0,l.CE)("small",Uv,[...t[14]||(t[14]=[(0,l.Lk)("i",{class:"bi bi-pencil-square me-1"},null,-1),(0,l.eW)(" Updated ",-1)])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Wv,[(0,l.Lk)("div",Xv,[(0,l.bF)(r,{to:`/blog/${a.blog.id}`,class:"btn btn-outline-primary btn-sm"},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-1"},null,-1),(0,l.eW)("Read More ",-1)])]),_:1},8,["to"]),(0,l.Lk)("div",Bv,[a.blog.published?((0,l.uX)(),(0,l.CE)("span",Vv,[...t[17]||(t[17]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",Kv,[...t[16]||(t[16]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])])]),(0,l.Lk)("div",{class:"modal fade",id:`deleteModal-${a.blog.id}`,tabindex:"-1"},[(0,l.Lk)("div",Ov,[(0,l.Lk)("div",Qv,[t[22]||(t[22]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Delete Blog Post"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",jv,[(0,l.Lk)("p",null,[t[18]||(t[18]=(0,l.eW)('Are you sure you want to delete "',-1)),(0,l.Lk)("strong",null,(0,n.v_)(a.blog.title),1),t[19]||(t[19]=(0,l.eW)('"?',-1))]),t[20]||(t[20]=(0,l.Lk)("p",{class:"text-muted"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",Gv,[t[21]||(t[21]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=(...e)=>s.confirmDelete&&s.confirmDelete(...e)),disabled:s.deleting},[s.deleting?((0,l.uX)(),(0,l.CE)("span",qv)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(s.deleting?"Deleting...":"Delete"),1)],8,Jv)])])])],8,$v)])}var Yv={name:"BlogCard",props:{blog:{type:Object,required:!0}},emits:["blog-updated","blog-deleted"],setup(e,{emit:t}){const a=(0,Ke.rd)(),s=(0,F.KR)(null),n=(0,F.KR)(0),o=(0,F.KR)(!1),i=(0,F.KR)(!1),r=(0,l.EW)(()=>s.value&&s.value.id===e.blog.author?.id),c=(0,l.EW)(()=>{if(!e.blog.content)return"";const t=150;return e.blog.content.length>t?e.blog.content.substring(0,t):e.blog.content}),d=(0,l.EW)(()=>e.blog.content&&e.blog.content.length>150),u=()=>{try{const e=localStorage.getItem("user");s.value=e?JSON.parse(e):null}catch(e){console.error("Error parsing stored user:",e),s.value=null}},m=async()=>{try{const t=await fv.getCommentCount(e.blog.id);t.success&&(n.value=t.data.count||0)}catch(t){console.error("Error loading comment count:",t),n.value=0}},v=e=>{if(!e)return"";try{const t=new Date(e),a=new Date,s=(a-t)/36e5;return s<24?t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):s<168?t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return console.error("Error formatting date:",t),"Invalid date"}},b=()=>{a.push(`/blog/create?edit=${e.blog.id}`)},p=async()=>{i.value=!0;try{let a;a=e.blog.published?await fv.unpublishBlog(e.blog.id):await fv.publishBlog(e.blog.id),a.success?t("blog-updated",a.data.blog):alert(a.error||"Failed to update blog status")}catch(a){console.error("Error toggling publish status:",a),alert("Failed to update blog status")}finally{i.value=!1}},h=()=>{const t=document.getElementById(`deleteModal-${e.blog.id}`);if(t){const e=new bootstrap.Modal(t);e.show()}},g=async()=>{o.value=!0;try{const a=await fv.deleteBlog(e.blog.id);if(a.success){const a=document.getElementById(`deleteModal-${e.blog.id}`);if(a){const e=bootstrap.Modal.getInstance(a);e&&e.hide()}t("blog-deleted",e.blog.id)}else alert(a.error||"Failed to delete blog")}catch(a){console.error("Error deleting blog:",a),alert("Failed to delete blog")}finally{o.value=!1}};return(0,l.sV)(()=>{u(),m()}),{currentUser:s,commentCount:n,deleting:o,publishing:i,canEditBlog:r,truncatedContent:c,isContentTruncated:d,formatDate:v,editBlog:b,togglePublishStatus:p,deleteBlog:h,confirmDelete:g}}};const zv=(0,W.A)(Yv,[["render",Hv],["__scopeId","data-v-0e76ad19"]]);var Zv=zv,eb={name:"Blog",components:{BlogCard:Zv},setup(){const e=(0,F.KR)([]),t=(0,F.KR)([]),a=(0,F.KR)(!0),s=(0,F.KR)(""),n=(0,F.KR)(""),o=(0,F.KR)(!1),i=(0,F.KR)("recent"),r=(0,F.KR)(0),c=(0,F.KR)(0),d=(0,F.KR)(0),u=6,m=(0,F.KR)(0),v=(0,F.KR)(0),b=(0,F.KR)(null),p=(0,l.EW)(()=>{const e=[],t=Math.max(0,r.value-2),a=Math.min(c.value-1,r.value+2);for(let s=t;s<=a;s++)e.push(s);return e}),h=()=>{try{const e=localStorage.getItem("user");b.value=e?JSON.parse(e):null}catch(s){console.error("Error parsing stored user:",s),b.value=null}},g=async(t=0)=>{a.value=!0,s.value="";try{const a=await fv.getAllBlogs(t,u);a.success?(e.value=a.data.blogs||[],r.value=a.data.currentPage||0,c.value=a.data.totalPages||0,d.value=a.data.totalElements||0):(s.value=a.error,e.value=[])}catch(l){s.value="Failed to load blogs",console.error("Error loading blogs:",l)}finally{a.value=!1}},k=async()=>{try{const e=await fv.getRecentBlogs(7);e.success&&(t.value=e.data)}catch(e){console.error("Error loading recent blogs:",e)}},y=async(t=0)=>{a.value=!0,s.value="";try{const t=await fv.getPopularBlogs(u);t.success?(e.value=t.data,r.value=0,c.value=1,d.value=t.data.length):(s.value=t.error,e.value=[])}catch(l){s.value="Failed to load popular blogs",console.error("Error loading popular blogs:",l)}finally{a.value=!1}},L=async()=>{try{const e=await fv.getBlogStats();e.success&&(m.value=e.data.totalPublishedBlogs||0)}catch(e){console.error("Error loading blog stats:",e)}},f=async()=>{if(n.value.trim()){a.value=!0,s.value="",o.value=!0;try{const t=await fv.searchBlogs(n.value.trim());t.success?(e.value=t.data,r.value=0,c.value=1,d.value=t.data.length):(s.value=t.error,e.value=[])}catch(t){s.value="Failed to search blogs",console.error("Error searching blogs:",t)}finally{a.value=!1}}},w=()=>{n.value="",o.value=!1,C("recent")},C=e=>{i.value=e,r.value=0,"recent"===e?g(0):"popular"===e&&y(0)},E=e=>{e>=0&&e<c.value&&!o.value&&(r.value=e,"recent"===i.value?g(e):"popular"===i.value&&y(e))},S=t=>{const a=e.value.findIndex(e=>e.id===t.id);-1!==a&&(e.value[a]=t)},x=t=>{e.value=e.value.filter(e=>e.id!==t),m.value=Math.max(0,m.value-1)};return(0,l.wB)(()=>b.value,()=>{g(r.value)}),(0,l.sV)(()=>{h(),g(),k(),L(),setTimeout(()=>{const t=new Set(e.value.map(e=>e.author?.id).filter(e=>e));v.value=t.size},1e3)}),{blogs:e,recentBlogs:t,loading:a,error:s,searchQuery:n,isSearchActive:o,viewMode:i,currentPage:r,totalPages:c,totalElements:d,totalBlogs:m,activeAuthors:v,currentUser:b,visiblePages:p,loadBlogs:g,searchBlogs:f,clearSearch:w,setViewMode:C,changePage:E,handleBlogUpdated:S,handleBlogDeleted:x}}};const tb=(0,W.A)(eb,[["render",Lv],["__scopeId","data-v-a9f417c0"]]);var ab=tb;const sb={class:"container-fluid py-4"},lb={key:0,class:"text-center py-5"},nb={key:1,class:"alert alert-danger"},ob={class:"mt-2"},ib={key:2,class:"row"},rb={class:"col-lg-8"},cb={class:"card shadow-sm mb-4"},db={class:"card-header border-0 bg-white"},ub={class:"d-flex justify-content-between align-items-start"},mb={key:0,class:"dropdown"},vb={class:"dropdown-menu dropdown-menu-end"},bb={class:"card-body"},pb={class:"display-5 fw-bold mb-4"},hb={class:"d-flex align-items-center mb-4 pb-3 border-bottom"},gb={class:"flex-grow-1"},kb={class:"mb-1 fw-semibold"},yb={class:"text-muted small"},Lb={class:"me-3"},fb={class:"me-3"},wb={key:0,class:"me-3"},Cb={class:"blog-status"},Eb={key:0,class:"badge bg-warning text-dark"},Sb={key:1,class:"badge bg-success"},xb={class:"blog-content",style:{"white-space":"pre-wrap","line-height":"1.7","font-size":"1.1rem"}},Tb={class:"card shadow-sm"},Ab={class:"card-header"},Rb={class:"mb-0 fw-semibold"},Ib={key:0,class:"card-body border-bottom"},Mb={class:"mb-3"},Db={class:"form-text"},Fb={class:"d-flex justify-content-between align-items-center"},Nb={class:"text-muted"},_b=["disabled"],Pb={key:0,class:"spinner-border spinner-border-sm me-2"},Ub={key:1,class:"bi bi-send me-2"},Wb={key:1,class:"card-body border-bottom bg-light"},Xb={class:"text-center"},Bb={class:"card-body p-0"},Kb={key:0,class:"text-center py-4 text-muted"},Vb={key:1,class:"comments-list"},$b={class:"d-flex align-items-start"},Ob={class:"flex-grow-1"},Qb={class:"d-flex justify-content-between align-items-start mb-2"},jb={class:"mb-0 fw-semibold"},Gb={class:"text-muted"},Jb={key:0},qb={key:0,class:"dropdown"},Hb={class:"dropdown-menu dropdown-menu-end"},Yb={key:0},zb=["onClick"],Zb=["onClick"],ep={key:0,class:"comment-content",style:{"white-space":"pre-wrap"}},tp={key:1,class:"edit-comment-form"},ap={class:"d-flex justify-content-end gap-2"},sp=["disabled"],lp={key:0,class:"spinner-border spinner-border-sm me-1"},np={class:"col-lg-4"},op={class:"card shadow-sm mb-4"},ip={class:"card-body text-center"},rp={class:"fw-semibold"},cp={class:"text-muted mb-2"},dp={class:"text-muted"},up={class:"row text-center"},mp={class:"col"},vp={class:"text-primary"},bp={class:"col"},pp={class:"text-primary"},hp={key:0,class:"card shadow-sm"},gp={class:"card-header"},kp={class:"mb-0 fw-semibold"},yp={class:"card-body p-0"},Lp={class:"mb-1 fw-semibold text-dark"},fp={class:"text-muted"},wp={class:"modal fade",id:"deleteBlogModal",tabindex:"-1"},Cp={class:"modal-dialog"},Ep={class:"modal-content"},Sp={class:"modal-body"},xp={class:"modal-footer"},Tp=["disabled"],Ap={key:0,class:"spinner-border spinner-border-sm me-2"};function Rp(e,t,a,o,i,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",sb,[o.loading?((0,l.uX)(),(0,l.CE)("div",lb,[...t[8]||(t[8]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading post...")],-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",nb,[t[10]||(t[10]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error)+" ",1),(0,l.Lk)("div",ob,[(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-primary"},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1})])])):o.blog?((0,l.uX)(),(0,l.CE)("div",ib,[(0,l.Lk)("div",rb,[(0,l.Lk)("div",cb,[(0,l.Lk)("div",db,[(0,l.Lk)("div",ub,[(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-secondary btn-sm"},{default:(0,l.k6)(()=>[...t[11]||(t[11]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1}),o.canEditBlog?((0,l.uX)(),(0,l.CE)("div",mb,[t[15]||(t[15]=(0,l.Lk)("button",{class:"btn btn-outline-secondary btn-sm",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",vb,[(0,l.Lk)("li",null,[(0,l.bF)(c,{to:`/blog/create?edit=${o.blog.id}`,class:"dropdown-item"},{default:(0,l.k6)(()=>[...t[12]||(t[12]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit Post ",-1)])]),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=(...e)=>o.togglePublishStatus&&o.togglePublishStatus(...e))},[(0,l.Lk)("i",{class:(0,n.C4)([o.blog.published?"bi bi-eye-slash":"bi bi-eye","me-2"])},null,2),(0,l.eW)(" "+(0,n.v_)(o.blog.published?"Unpublish":"Publish"),1)])]),t[14]||(t[14]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t[1]||(t[1]=(...e)=>o.deleteBlog&&o.deleteBlog(...e))},[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete Post ",-1)])])])])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",bb,[(0,l.Lk)("h1",pb,(0,n.v_)(o.blog.title),1),(0,l.Lk)("div",hb,[t[21]||(t[21]=(0,l.Lk)("div",{class:"author-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-3 text-secondary"})],-1)),(0,l.Lk)("div",gb,[(0,l.Lk)("h6",kb,(0,n.v_)(o.blog.author?.firstName)+" "+(0,n.v_)(o.blog.author?.lastName),1),(0,l.Lk)("div",yb,[(0,l.Lk)("span",Lb,"@"+(0,n.v_)(o.blog.author?.username),1),(0,l.Lk)("span",fb,[t[16]||(t[16]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.formatDate(o.blog.createdAt)),1)]),o.blog.updatedAt&&o.blog.updatedAt!==o.blog.createdAt?((0,l.uX)(),(0,l.CE)("span",wb,[t[17]||(t[17]=(0,l.Lk)("i",{class:"bi bi-pencil-square me-1"},null,-1)),(0,l.eW)(" Updated "+(0,n.v_)(o.formatDate(o.blog.updatedAt)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("span",null,[t[18]||(t[18]=(0,l.Lk)("i",{class:"bi bi-chat me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.comments.length)+" "+(0,n.v_)(1===o.comments.length?"comment":"comments"),1)])])]),(0,l.Lk)("div",Cb,[o.blog.published?((0,l.uX)(),(0,l.CE)("span",Sb,[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",Eb,[...t[19]||(t[19]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])]),(0,l.Lk)("div",xb,(0,n.v_)(o.blog.content),1)])]),(0,l.Lk)("div",Tb,[(0,l.Lk)("div",Ab,[(0,l.Lk)("h5",Rb,[t[22]||(t[22]=(0,l.Lk)("i",{class:"bi bi-chat-dots me-2"},null,-1)),(0,l.eW)(" Comments ("+(0,n.v_)(o.comments.length)+") ",1)])]),o.currentUser&&o.blog.published?((0,l.uX)(),(0,l.CE)("div",Ib,[(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)((...e)=>o.addComment&&o.addComment(...e),["prevent"]))},[(0,l.Lk)("div",Mb,[t[23]||(t[23]=(0,l.Lk)("label",{for:"newComment",class:"form-label fw-semibold"},"Add a comment",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"newComment",class:"form-control",rows:"3","onUpdate:modelValue":t[2]||(t[2]=e=>o.newComment=e),placeholder:"Share your thoughts...",maxlength:"1000",required:""},null,512),[[s.Jo,o.newComment]]),(0,l.Lk)("div",Db,(0,n.v_)(o.newComment.length)+"/1000 characters ",1)]),(0,l.Lk)("div",Fb,[(0,l.Lk)("small",Nb," Posting as "+(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:!o.newComment.trim()||o.addingComment},[o.addingComment?((0,l.uX)(),(0,l.CE)("span",Pb)):((0,l.uX)(),(0,l.CE)("i",Ub)),(0,l.eW)(" "+(0,n.v_)(o.addingComment?"Posting...":"Post Comment"),1)],8,_b)])],32)])):!o.currentUser&&o.blog.published?((0,l.uX)(),(0,l.CE)("div",Wb,[(0,l.Lk)("div",Xb,[t[25]||(t[25]=(0,l.Lk)("p",{class:"mb-2 text-muted"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-2"}),(0,l.eW)(" Please log in to join the conversation ")],-1)),(0,l.bF)(c,{to:"/login",class:"btn btn-outline-primary btn-sm"},{default:(0,l.k6)(()=>[...t[24]||(t[24]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1),(0,l.eW)("Log In ",-1)])]),_:1})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Bb,[0===o.comments.length?((0,l.uX)(),(0,l.CE)("div",Kb,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-chat display-4 opacity-25"},null,-1),(0,l.Lk)("p",{class:"mt-2"},"No comments yet. Be the first to share your thoughts!",-1)])])):((0,l.uX)(),(0,l.CE)("div",Vb,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.comments,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["comment-item p-4",{"border-bottom":a<o.comments.length-1}])},[(0,l.Lk)("div",$b,[t[30]||(t[30]=(0,l.Lk)("div",{class:"author-avatar me-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle fs-5 text-secondary"})],-1)),(0,l.Lk)("div",Ob,[(0,l.Lk)("div",Qb,[(0,l.Lk)("div",null,[(0,l.Lk)("h6",jb,(0,n.v_)(e.author?.firstName)+" "+(0,n.v_)(e.author?.lastName),1),(0,l.Lk)("small",Gb,[(0,l.eW)(" @"+(0,n.v_)(e.author?.username)+" • "+(0,n.v_)(o.formatDate(e.createdAt))+" ",1),e.updatedAt&&e.updatedAt!==e.createdAt?((0,l.uX)(),(0,l.CE)("span",Jb," • edited ")):(0,l.Q3)("",!0)])]),o.canEditComment(e)?((0,l.uX)(),(0,l.CE)("div",qb,[t[29]||(t[29]=(0,l.Lk)("button",{class:"btn btn-link btn-sm text-muted p-0",type:"button","data-bs-toggle":"dropdown"},[(0,l.Lk)("i",{class:"bi bi-three-dots"})],-1)),(0,l.Lk)("ul",Hb,[e.author?.id===o.currentUser?.id?((0,l.uX)(),(0,l.CE)("li",Yb,[(0,l.Lk)("button",{class:"dropdown-item",onClick:t=>o.editComment(e)},[...t[27]||(t[27]=[(0,l.Lk)("i",{class:"bi bi-pencil me-2"},null,-1),(0,l.eW)("Edit ",-1)])],8,zb)])):(0,l.Q3)("",!0),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"dropdown-item text-danger",onClick:t=>o.deleteComment(e)},[...t[28]||(t[28]=[(0,l.Lk)("i",{class:"bi bi-trash me-2"},null,-1),(0,l.eW)("Delete ",-1)])],8,Zb)])])])):(0,l.Q3)("",!0)]),o.editingComment?.id!==e.id?((0,l.uX)(),(0,l.CE)("div",ep,(0,n.v_)(e.content),1)):((0,l.uX)(),(0,l.CE)("div",tp,[(0,l.bo)((0,l.Lk)("textarea",{class:"form-control mb-2",rows:"3","onUpdate:modelValue":t[4]||(t[4]=e=>o.editCommentContent=e),maxlength:"1000"},null,512),[[s.Jo,o.editCommentContent]]),(0,l.Lk)("div",ap,[(0,l.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:t[5]||(t[5]=(...e)=>o.cancelEditComment&&o.cancelEditComment(...e))}," Cancel "),(0,l.Lk)("button",{type:"button",class:"btn btn-sm btn-primary",onClick:t[6]||(t[6]=(...e)=>o.saveEditComment&&o.saveEditComment(...e)),disabled:!o.editCommentContent.trim()||o.updatingComment},[o.updatingComment?((0,l.uX)(),(0,l.CE)("span",lp)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.updatingComment?"Saving...":"Save"),1)],8,sp)])]))])])],2))),128))]))])])]),(0,l.Lk)("div",np,[(0,l.Lk)("div",op,[t[35]||(t[35]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("h6",{class:"mb-0 fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-person me-2"}),(0,l.eW)("About the Author ")])],-1)),(0,l.Lk)("div",ip,[t[33]||(t[33]=(0,l.Lk)("div",{class:"author-avatar mb-3 mx-auto"},[(0,l.Lk)("i",{class:"bi bi-person-circle display-4 text-secondary"})],-1)),(0,l.Lk)("h6",rp,(0,n.v_)(o.blog.author?.firstName)+" "+(0,n.v_)(o.blog.author?.lastName),1),(0,l.Lk)("p",cp,"@"+(0,n.v_)(o.blog.author?.username),1),(0,l.Lk)("small",dp,(0,n.v_)(o.blog.author?.role),1),t[34]||(t[34]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("div",up,[(0,l.Lk)("div",mp,[(0,l.Lk)("h6",vp,(0,n.v_)(o.authorStats.totalPosts),1),t[31]||(t[31]=(0,l.Lk)("small",{class:"text-muted"},"Posts",-1))]),(0,l.Lk)("div",bp,[(0,l.Lk)("h6",pp,(0,n.v_)(o.authorStats.totalComments),1),t[32]||(t[32]=(0,l.Lk)("small",{class:"text-muted"},"Comments",-1))])])])]),o.recentPosts.length>0?((0,l.uX)(),(0,l.CE)("div",hp,[(0,l.Lk)("div",gp,[(0,l.Lk)("h6",kp,[t[36]||(t[36]=(0,l.Lk)("i",{class:"bi bi-journal-text me-2"},null,-1)),(0,l.eW)("More from "+(0,n.v_)(o.blog.author?.firstName),1)])]),(0,l.Lk)("div",yp,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.recentPosts,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"p-3 border-bottom"},[(0,l.bF)(c,{to:`/blog/${e.id}`,class:"text-decoration-none"},{default:(0,l.k6)(()=>[(0,l.Lk)("h6",Lp,(0,n.v_)(e.title),1),(0,l.Lk)("small",fp,[t[37]||(t[37]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.formatDate(e.createdAt)),1)])]),_:2},1032,["to"])]))),128))])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",wp,[(0,l.Lk)("div",Cp,[(0,l.Lk)("div",Ep,[t[42]||(t[42]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Delete Blog Post"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",Sp,[(0,l.Lk)("p",null,[t[38]||(t[38]=(0,l.eW)('Are you sure you want to delete "',-1)),(0,l.Lk)("strong",null,(0,n.v_)(o.blog?.title),1),t[39]||(t[39]=(0,l.eW)('"?',-1))]),t[40]||(t[40]=(0,l.Lk)("p",{class:"text-muted"},"This action cannot be undone.",-1))]),(0,l.Lk)("div",xp,[t[41]||(t[41]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[7]||(t[7]=(...e)=>o.confirmDeleteBlog&&o.confirmDeleteBlog(...e)),disabled:o.deletingBlog},[o.deletingBlog?((0,l.uX)(),(0,l.CE)("span",Ap)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.deletingBlog?"Deleting...":"Delete"),1)],8,Tp)])])])])])}var Ip={name:"BlogDetail",setup(){const e=(0,Ke.rd)(),t=(0,Ke.lq)(),a=(0,F.KR)(null),s=(0,F.KR)([]),n=(0,F.KR)([]),o=(0,F.KR)(null),i=(0,F.KR)(!0),r=(0,F.KR)(""),c=(0,F.KR)(""),d=(0,F.KR)(!1),u=(0,F.KR)(null),m=(0,F.KR)(""),v=(0,F.KR)(!1),b=(0,F.KR)(!1),p=(0,F.KR)({totalPosts:0,totalComments:0}),h=(0,l.EW)(()=>o.value&&a.value&&o.value.id===a.value.author?.id),g=e=>o.value&&(o.value.id===e.author?.id||o.value.id===a.value?.author?.id),k=()=>{try{const e=localStorage.getItem("user");o.value=e?JSON.parse(e):null}catch(r){console.error("Error parsing stored user:",r),o.value=null}},y=async()=>{i.value=!0,r.value="";try{const e=t.params.id,s=await fv.getBlogById(e);s.success?(a.value=s.data,await L(),await f(),await w()):r.value=s.error}catch(e){r.value="Failed to load blog post",console.error("Error loading blog:",e)}finally{i.value=!1}},L=async()=>{if(a.value)try{const e=await fv.getCommentsByBlogList(a.value.id);e.success&&(s.value=e.data)}catch(r){console.error("Error loading comments:",r)}},f=async()=>{if(a.value?.author)try{const[e,t]=await Promise.all([fv.getBlogsByAuthor(a.value.author.id),fv.getCommentsByAuthor(a.value.author.id)]);p.value={totalPosts:e.success&&e.data.blogs?.length||0,totalComments:t.success&&t.data?.length||0}}catch(r){console.error("Error loading author stats:",r)}},w=async()=>{if(a.value?.author)try{const e=await fv.getBlogsByAuthor(a.value.author.id,0,5);e.success&&(n.value=(e.data.blogs||[]).filter(e=>e.id!==a.value.id).slice(0,3))}catch(r){console.error("Error loading recent posts:",r)}},C=async()=>{if(c.value.trim()&&o.value&&a.value){d.value=!0;try{const e=await fv.createCommentForBlog(a.value.id,c.value.trim(),o.value.id);e.success?(c.value="",await L()):alert(e.error||"Failed to add comment")}catch(r){console.error("Error adding comment:",r),alert("Failed to add comment")}finally{d.value=!1}}},E=e=>{u.value=e,m.value=e.content},S=()=>{u.value=null,m.value=""},x=async()=>{if(m.value.trim()&&u.value){v.value=!0;try{const e=await fv.updateComment(u.value.id,m.value.trim());e.success?(await L(),S()):alert(e.error||"Failed to update comment")}catch(r){console.error("Error updating comment:",r),alert("Failed to update comment")}finally{v.value=!1}}},T=async e=>{if(confirm("Are you sure you want to delete this comment?"))try{const t=await fv.deleteComment(e.id);t.success?await L():alert(t.error||"Failed to delete comment")}catch(r){console.error("Error deleting comment:",r),alert("Failed to delete comment")}},A=async()=>{if(a.value)try{let e;e=a.value.published?await fv.unpublishBlog(a.value.id):await fv.publishBlog(a.value.id),e.success?a.value=e.data.blog:alert(e.error||"Failed to update blog status")}catch(r){console.error("Error toggling publish status:",r),alert("Failed to update blog status")}},R=()=>{const e=new bootstrap.Modal(document.getElementById("deleteBlogModal"));e.show()},I=async()=>{if(a.value){b.value=!0;try{const t=await fv.deleteBlog(a.value.id);if(t.success){const t=bootstrap.Modal.getInstance(document.getElementById("deleteBlogModal"));t&&t.hide(),e.push("/blog")}else alert(t.error||"Failed to delete blog")}catch(r){console.error("Error deleting blog:",r),alert("Failed to delete blog")}finally{b.value=!1}}},M=e=>{if(!e)return"";try{const t=new Date(e),a=new Date,s=(a-t)/36e5;if(s<1){const e=Math.floor(60*s);return`${e} minute${1!==e?"s":""} ago`}if(s<24){const e=Math.floor(s);return`${e} hour${1!==e?"s":""} ago`}if(s<168){const e=Math.floor(s/24);return`${e} day${1!==e?"s":""} ago`}return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(r){return console.error("Error formatting date:",r),"Invalid date"}};return(0,l.wB)(()=>t.params.id,e=>{e&&y()}),(0,l.sV)(()=>{k(),y()}),{blog:a,comments:s,recentPosts:n,currentUser:o,loading:i,error:r,newComment:c,addingComment:d,editingComment:u,editCommentContent:m,updatingComment:v,deletingBlog:b,authorStats:p,canEditBlog:h,canEditComment:g,addComment:C,editComment:E,cancelEditComment:S,saveEditComment:x,deleteComment:T,togglePublishStatus:A,deleteBlog:R,confirmDeleteBlog:I,formatDate:M}}};const Mp=(0,W.A)(Ip,[["render",Rp],["__scopeId","data-v-21ebadf0"]]);var Dp=Mp;const Fp={class:"container-fluid py-4"},Np={class:"row mb-4"},_p={class:"col-12"},Pp={class:"d-flex justify-content-between align-items-center"},Up={class:"display-5 fw-bold text-primary"},Wp={key:0,class:"text-center py-5"},Xp={key:1,class:"alert alert-danger"},Bp={key:2,class:"row"},Kp={class:"col-lg-8"},Vp={class:"card shadow-sm"},$p={class:"card-body"},Op={class:"mb-4"},Qp={class:"form-text"},jp={key:0,class:"invalid-feedback"},Gp={class:"mb-4"},Jp={class:"position-relative"},qp=["onClick"],Hp={class:"fw-semibold"},Yp={class:"text-muted"},zp={class:"form-text d-flex justify-content-between"},Zp={key:0,class:"invalid-feedback"},eh={class:"mb-4"},th={class:"form-check form-switch"},ah={class:"form-text"},sh={class:"d-flex justify-content-between align-items-center"},lh=["disabled"],nh={key:0,class:"spinner-border spinner-border-sm me-2"},oh={key:1,class:"bi bi-check-circle me-2"},ih={class:"col-lg-4"},rh={key:0,class:"card shadow-sm"},ch={class:"card-body text-center"},dh={class:"fw-semibold"},uh={class:"text-muted mb-2"},mh={class:"text-muted"},vh={class:"modal fade",id:"previewModal",tabindex:"-1"},bh={class:"modal-dialog modal-xl"},ph={class:"modal-content"},hh={class:"modal-body"},gh={class:"blog-preview"},kh={class:"mb-3"},yh={class:"d-flex align-items-center mb-2"},Lh={key:0,class:"mb-0"},fh={key:1,class:"text-muted"},wh={class:"mb-3"},Ch={class:"blog-content",style:{"white-space":"pre-wrap"}},Eh={class:"mt-4 pt-3 border-top"},Sh={class:"text-muted"},xh={key:0,class:"badge bg-success ms-2"},Th={key:1,class:"badge bg-warning text-dark ms-2"},Ah={class:"modal-footer"},Rh=["disabled"],Ih={key:0,class:"spinner-border spinner-border-sm me-2"};function Mh(e,t,a,o,i,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Fp,[(0,l.Lk)("div",Np,[(0,l.Lk)("div",_p,[(0,l.Lk)("div",Pp,[(0,l.Lk)("div",null,[(0,l.Lk)("h1",Up,[t[9]||(t[9]=(0,l.Lk)("i",{class:"bi bi-pencil-square me-3"},null,-1)),(0,l.eW)(" "+(0,n.v_)(o.isEditing?"Edit Post":"Write New Post"),1)]),t[10]||(t[10]=(0,l.Lk)("p",{class:"lead text-muted"},"Share your thoughts with the community",-1))]),(0,l.bF)(c,{to:"/blog",class:"btn btn-outline-secondary"},{default:(0,l.k6)(()=>[...t[11]||(t[11]=[(0,l.Lk)("i",{class:"bi bi-arrow-left me-2"},null,-1),(0,l.eW)("Back to Blog ",-1)])]),_:1})])])]),o.loading&&o.isEditing?((0,l.uX)(),(0,l.CE)("div",Wp,[...t[12]||(t[12]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading post...")],-1)])])):o.error?((0,l.uX)(),(0,l.CE)("div",Xp,[t[13]||(t[13]=(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),(0,l.eW)((0,n.v_)(o.error),1)])):((0,l.uX)(),(0,l.CE)("div",Bp,[(0,l.Lk)("div",Kp,[(0,l.Lk)("div",Vp,[(0,l.Lk)("div",$p,[(0,l.Lk)("form",{onSubmit:t[7]||(t[7]=(0,s.D$)((...e)=>o.saveBlog&&o.saveBlog(...e),["prevent"]))},[(0,l.Lk)("div",Op,[t[14]||(t[14]=(0,l.Lk)("label",{for:"title",class:"form-label fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-type me-2"}),(0,l.eW)("Title * ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:(0,n.C4)(["form-control form-control-lg",{"is-invalid":o.titleError}]),id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.blog.title=e),placeholder:"Enter an engaging title for your post...",required:"",maxlength:"255"},null,2),[[s.Jo,o.blog.title]]),(0,l.Lk)("div",Qp,(0,n.v_)(o.blog.title.length)+"/255 characters ",1),o.titleError?((0,l.uX)(),(0,l.CE)("div",jp,(0,n.v_)(o.titleError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Gp,[t[17]||(t[17]=(0,l.Lk)("label",{for:"content",class:"form-label fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-text-paragraph me-2"}),(0,l.eW)("Content * ")],-1)),(0,l.Lk)("div",Jp,[(0,l.bo)((0,l.Lk)("textarea",{ref:"contentTextarea",class:(0,n.C4)(["form-control",{"is-invalid":o.contentError}]),id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>o.blog.content=e),rows:"15",placeholder:"Write your blog content here... Use @username to mention other users",required:"",onInput:t[2]||(t[2]=(...e)=>o.handleContentInput&&o.handleContentInput(...e)),onKeydown:t[3]||(t[3]=(...e)=>o.handleContentKeydown&&o.handleContentKeydown(...e))},null,34),[[s.Jo,o.blog.content]]),o.showMentionSuggestions?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"position-absolute bg-white border rounded shadow-sm",style:(0,n.Tr)([o.mentionDropdownStyle,{"z-index":"1000","max-height":"200px","overflow-y":"auto"}])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredMembers,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,n.C4)(["px-3 py-2 cursor-pointer hover-bg-light d-flex align-items-center",{"bg-primary text-white":a===o.selectedMentionIndex}]),onClick:t=>o.insertMention(e)},[t[15]||(t[15]=(0,l.Lk)("i",{class:"bi bi-person-circle me-2"},null,-1)),(0,l.Lk)("div",null,[(0,l.Lk)("div",Hp,(0,n.v_)(e.firstName)+" "+(0,n.v_)(e.lastName),1),(0,l.Lk)("small",Yp,"@"+(0,n.v_)(e.username||`${e.firstName.toLowerCase()}${e.lastName.toLowerCase()}`),1)])],10,qp))),128))],4)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",zp,[(0,l.Lk)("span",null,(0,n.v_)(o.blog.content.length.toLocaleString())+" characters • Type @ to mention users",1),t[16]||(t[16]=(0,l.Lk)("span",{class:"text-primary"},[(0,l.Lk)("i",{class:"bi bi-info-circle me-1"}),(0,l.Lk)("small",null,"Mentioned users will be notified")],-1))]),o.contentError?((0,l.uX)(),(0,l.CE)("div",Zp,(0,n.v_)(o.contentError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",eh,[(0,l.Lk)("div",th,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"published","onUpdate:modelValue":t[4]||(t[4]=e=>o.blog.published=e)},null,512),[[s.lH,o.blog.published]]),t[18]||(t[18]=(0,l.Lk)("label",{class:"form-check-label fw-semibold",for:"published"},[(0,l.Lk)("i",{class:"bi bi-eye me-2"}),(0,l.eW)("Publish immediately ")],-1)),(0,l.Lk)("div",ah,(0,n.v_)(o.blog.published?"This post will be visible to all users immediately.":"Save as draft - you can publish later."),1)])]),(0,l.Lk)("div",sh,[(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"button",class:"btn btn-outline-secondary me-2",onClick:t[5]||(t[5]=(...e)=>o.previewBlog&&o.previewBlog(...e))},[...t[19]||(t[19]=[(0,l.Lk)("i",{class:"bi bi-eye me-2"},null,-1),(0,l.eW)("Preview ",-1)])]),o.isEditing?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>o.resetForm&&o.resetForm(...e))},[...t[20]||(t[20]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,l.eW)("Reset ",-1)])]))]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:o.saving||!o.isFormValid},[o.saving?((0,l.uX)(),(0,l.CE)("span",nh)):((0,l.uX)(),(0,l.CE)("i",oh)),(0,l.eW)(" "+(0,n.v_)(o.saving?"Saving...":o.isEditing?"Update Post":"Save Post"),1)],8,lh)])])],32)])])]),(0,l.Lk)("div",ih,[t[23]||(t[23]=(0,l.Fv)('<div class="card shadow-sm mb-4" data-v-352460a8><div class="card-header bg-light" data-v-352460a8><h6 class="mb-0 fw-semibold" data-v-352460a8><i class="bi bi-lightbulb me-2" data-v-352460a8></i>Writing Tips </h6></div><div class="card-body" data-v-352460a8><ul class="list-unstyled mb-0" data-v-352460a8><li class="mb-2" data-v-352460a8><i class="bi bi-check2 text-success me-2" data-v-352460a8></i> Keep your title clear and engaging </li><li class="mb-2" data-v-352460a8><i class="bi bi-check2 text-success me-2" data-v-352460a8></i> Break up long paragraphs for easier reading </li><li class="mb-2" data-v-352460a8><i class="bi bi-check2 text-success me-2" data-v-352460a8></i> Use examples to illustrate your points </li><li class="mb-2" data-v-352460a8><i class="bi bi-check2 text-success me-2" data-v-352460a8></i> Proofread before publishing </li><li data-v-352460a8><i class="bi bi-check2 text-success me-2" data-v-352460a8></i> Engage with commenters after posting </li></ul></div></div>',1)),o.currentUser?((0,l.uX)(),(0,l.CE)("div",rh,[t[22]||(t[22]=(0,l.Lk)("div",{class:"card-header bg-light"},[(0,l.Lk)("h6",{class:"mb-0 fw-semibold"},[(0,l.Lk)("i",{class:"bi bi-person me-2"}),(0,l.eW)("Author ")])],-1)),(0,l.Lk)("div",ch,[t[21]||(t[21]=(0,l.Lk)("div",{class:"author-avatar mb-3"},[(0,l.Lk)("i",{class:"bi bi-person-circle display-4 text-secondary"})],-1)),(0,l.Lk)("h6",dh,(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1),(0,l.Lk)("p",uh,"@"+(0,n.v_)(o.currentUser.username),1),(0,l.Lk)("small",mh,(0,n.v_)(o.currentUser.role),1)])])):(0,l.Q3)("",!0)])])),(0,l.Lk)("div",vh,[(0,l.Lk)("div",bh,[(0,l.Lk)("div",ph,[t[29]||(t[29]=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-eye me-2"}),(0,l.eW)("Preview ")]),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),(0,l.Lk)("div",hh,[(0,l.Lk)("div",gh,[(0,l.Lk)("div",kh,[(0,l.Lk)("div",yh,[t[24]||(t[24]=(0,l.Lk)("i",{class:"bi bi-person-circle fs-4 text-secondary me-2"},null,-1)),(0,l.Lk)("div",null,[o.currentUser?((0,l.uX)(),(0,l.CE)("h6",Lh,(0,n.v_)(o.currentUser.firstName)+" "+(0,n.v_)(o.currentUser.lastName),1)):(0,l.Q3)("",!0),o.currentUser?((0,l.uX)(),(0,l.CE)("small",fh," @"+(0,n.v_)(o.currentUser.username),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("h1",wh,(0,n.v_)(o.blog.title||"Untitled Post"),1),(0,l.Lk)("div",Ch,(0,n.v_)(o.blog.content||"No content yet..."),1),(0,l.Lk)("div",Eh,[(0,l.Lk)("small",Sh,[t[27]||(t[27]=(0,l.Lk)("i",{class:"bi bi-calendar3 me-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)((new Date).toLocaleDateString())+" • ",1),o.blog.published?((0,l.uX)(),(0,l.CE)("span",xh,[...t[25]||(t[25]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("Published ",-1)])])):((0,l.uX)(),(0,l.CE)("span",Th,[...t[26]||(t[26]=[(0,l.Lk)("i",{class:"bi bi-eye-slash me-1"},null,-1),(0,l.eW)("Draft ",-1)])]))])])])]),(0,l.Lk)("div",Ah,[t[28]||(t[28]=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close Preview ",-1)),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>o.saveBlog&&o.saveBlog(...e)),disabled:o.saving||!o.isFormValid},[o.saving?((0,l.uX)(),(0,l.CE)("span",Ih)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,n.v_)(o.saving?"Saving...":o.isEditing?"Update Post":"Save Post"),1)],8,Rh)])])])])])}var Dh={name:"BlogCreate",setup(){const e=(0,Ke.rd)(),t=(0,Ke.lq)(),a=(0,F.KR)({title:"",content:"",published:!1,author:null}),s=(0,F.KR)(null),n=(0,F.KR)(!1),o=(0,F.KR)(!1),i=(0,F.KR)(""),r=(0,F.KR)(!1),c=(0,F.KR)(null),d=(0,F.KR)(""),u=(0,F.KR)(""),m=(0,F.KR)(!1),v=(0,F.KR)(""),b=(0,F.KR)(0),p=(0,F.KR)(0),h=(0,F.KR)([]),g=(0,F.KR)(null),k=(0,F.KR)({}),y=(0,l.EW)(()=>a.value.title.trim().length>0&&a.value.content.trim().length>0&&!d.value&&!u.value),L=(0,l.EW)(()=>v.value?h.value.filter(e=>{const t=`${e.firstName} ${e.lastName} ${e.username}`.toLowerCase();return t.includes(v.value.toLowerCase())}).slice(0,10):h.value.slice(0,10)),f=async()=>{try{const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);s.value=e,await w(e.username)}else s.value=null,e.push("/login")}catch(i){console.error("Error parsing stored user:",i),s.value=null,e.push("/login")}},w=async e=>{try{console.log("🔍 Fetching member details for username:",e);const t=await fetch(`/api/members/username/${e}`);if(console.log("📡 Member API response status:",t.status),t.ok){const e=await t.json();console.log("✅ Member details fetched:",e),s.value={...s.value,id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,role:e.role},a.value.author={id:e.id},console.log("🎯 Author set for blog:",a.value.author)}else console.error("❌ Failed to fetch member details. Status:",t.status,"Text:",t.statusText),i.value=`Failed to load user details (Status: ${t.status})`}catch(t){console.error("💥 Error fetching member details:",t),i.value="Failed to load user details - network error"}},C=()=>(d.value="",u.value="",a.value.title.trim()?a.value.title.length>255&&(d.value="Title cannot exceed 255 characters"):d.value="Title is required",a.value.content.trim()?a.value.content.length<10&&(u.value="Content should be at least 10 characters long"):u.value="Content is required",!d.value&&!u.value),E=async e=>{n.value=!0,i.value="";try{const t=await fv.getBlogById(e);if(t.success){const l=t.data;if(l.author?.id!==s.value?.id)return void(i.value="You do not have permission to edit this blog");a.value={title:l.title,content:l.content,published:l.published,author:l.author},r.value=!0,c.value=e}else i.value=t.error}catch(t){i.value="Failed to load blog for editing",console.error("Error loading blog:",t)}finally{n.value=!1}},S=async()=>{if(C()){o.value=!0;try{let t;if(r.value)t=await fv.updateBlog(c.value,{title:a.value.title.trim(),content:a.value.content.trim(),published:a.value.published});else{const e={title:a.value.title.trim(),content:a.value.content.trim(),published:a.value.published,author:a.value.author};console.log("📝 Creating blog with data:",e),console.log("👤 Current user state:",s.value),t=await fv.createBlog(e),console.log("📤 Blog creation result:",t)}if(t.success){const t=document.getElementById("previewModal");if(t&&"undefined"!==typeof window.bootstrap){const e=window.bootstrap.Modal.getInstance(t);e&&e.hide()}e.push("/blog")}else i.value=t.error}catch(t){i.value="Failed to save blog",console.error("Error saving blog:",t)}finally{o.value=!1}}},x=()=>{if(C())if("undefined"!==typeof window.bootstrap){const e=new window.bootstrap.Modal(document.getElementById("previewModal"));e.show()}else alert("Preview feature requires Bootstrap to be loaded")},T=()=>{confirm("Are you sure you want to reset the form? All changes will be lost.")&&(a.value={title:"",content:"",published:!1,author:s.value?.id?{id:s.value.id}:null},d.value="",u.value="")},A=async()=>{try{const e=await fetch("/api/members");e.ok&&(h.value=await e.json())}catch(i){console.error("Error loading members:",i)}},R=e=>{const t=e.target,s=t.selectionStart,l=a.value.content.substring(0,s),n=l.lastIndexOf("@");if(n>=0){const e=l.substring(n+1);if(!e.includes(" ")&&e.length<=20){v.value=e,p.value=n,m.value=!0,b.value=0;const l=t.getBoundingClientRect(),o=(parseInt(getComputedStyle(t).lineHeight),t.scrollTop);k.value={left:"10px",top:`${Math.min(l.height-100,s/a.value.content.length*l.height-o+25)}px`}}else m.value=!1}else m.value=!1},I=e=>{m.value&&("ArrowDown"===e.key?(e.preventDefault(),b.value=Math.min(b.value+1,L.value.length-1)):"ArrowUp"===e.key?(e.preventDefault(),b.value=Math.max(b.value-1,0)):"Enter"===e.key||"Tab"===e.key?L.value[b.value]&&(e.preventDefault(),M(L.value[b.value])):"Escape"===e.key&&(m.value=!1))},M=e=>{const t=e.username||`${e.firstName.toLowerCase()}${e.lastName.toLowerCase()}`,s=`@${t}`,l=a.value.content.substring(0,p.value),n=a.value.content.substring(p.value+v.value.length+1);a.value.content=l+s+" "+n,m.value=!1,setTimeout(()=>{if(g.value){const e=p.value+s.length+1;g.value.focus(),g.value.setSelectionRange(e,e)}},0)};return(0,l.wB)(()=>a.value.title,e=>{d.value&&e.trim()&&(d.value="")}),(0,l.wB)(()=>a.value.content,e=>{u.value&&e.trim()&&(u.value="")}),(0,l.sV)(async()=>{await f(),A();const e=t.query.edit;e&&E(parseInt(e))}),{blog:a,currentUser:s,loading:n,saving:o,error:i,isEditing:r,titleError:d,contentError:u,isFormValid:y,saveBlog:S,previewBlog:x,resetForm:T,validateForm:C,fetchMemberDetails:w,showMentionSuggestions:m,filteredMembers:L,selectedMentionIndex:b,mentionDropdownStyle:k,contentTextarea:g,handleContentInput:R,handleContentKeydown:I,insertMention:M}}};const Fh=(0,W.A)(Dh,[["render",Mh],["__scopeId","data-v-352460a8"]]);var Nh=Fh;const _h={class:"container-fluid py-4"},Ph={class:"row"},Uh={class:"col-lg-8 mx-auto"},Wh={class:"card shadow-sm mb-4"},Xh={class:"card-body"},Bh={class:"text-muted mt-3"};function Kh(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",_h,[t[7]||(t[7]=(0,l.Fv)('<div class="row mb-5" data-v-17af6336><div class="col-12" data-v-17af6336><div class="hero-section text-center p-5 mb-4 rounded-3" style="background:linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);color:white;" data-v-17af6336><h1 class="display-4 fw-bold mb-3" data-v-17af6336><i class="bi bi-info-circle me-3" data-v-17af6336></i> About Campus Chapter Organizer </h1><p class="lead" data-v-17af6336> Empowering student leaders to organize and manage their campus chapters effectively </p></div></div></div>',1)),(0,l.Lk)("div",Ph,[(0,l.Lk)("div",Uh,[t[4]||(t[4]=(0,l.Fv)('<div class="card shadow-sm mb-4" data-v-17af6336><div class="card-header bg-primary text-white" data-v-17af6336><h2 class="card-title mb-0" data-v-17af6336><i class="bi bi-bullseye me-2" data-v-17af6336></i> Our Purpose </h2></div><div class="card-body" data-v-17af6336><p class="lead" data-v-17af6336> The Campus Chapter Organizer is designed to help student leaders effectively manage their campus organizations, coordinate events, track membership, and foster community engagement. </p><h4 class="mt-4 mb-3" data-v-17af6336>Key Features:</h4><div class="row" data-v-17af6336><div class="col-md-6" data-v-17af6336><ul class="list-unstyled" data-v-17af6336><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Member Management:</strong> Track and organize chapter membership </li><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Event Planning:</strong> Schedule and coordinate chapter events </li><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Communication:</strong> Blog platform for community engagement </li></ul></div><div class="col-md-6" data-v-17af6336><ul class="list-unstyled" data-v-17af6336><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Chapter Oversight:</strong> Multi-chapter management capabilities </li><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Role Management:</strong> Defined leadership roles and permissions </li><li class="mb-2" data-v-17af6336><i class="bi bi-check-circle text-success me-2" data-v-17af6336></i><strong data-v-17af6336>Analytics:</strong> Track engagement and chapter growth </li></ul></div></div></div></div>',1)),t[5]||(t[5]=(0,l.Lk)("div",{class:"card shadow-sm mb-4 border-warning"},[(0,l.Lk)("div",{class:"card-header bg-warning text-dark"},[(0,l.Lk)("h2",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-exclamation-triangle me-2"}),(0,l.eW)(" Important Notice ")])]),(0,l.Lk)("div",{class:"card-body"},[(0,l.Lk)("div",{class:"alert alert-warning d-flex align-items-center",role:"alert"},[(0,l.Lk)("i",{class:"bi bi-info-circle-fill me-3 fs-4"}),(0,l.Lk)("div",null,[(0,l.Lk)("strong",null,"This is NOT an official Turning Point USA website."),(0,l.eW)(" This Campus Chapter Organizer is an independent tool designed to help student organizations manage their activities and is not affiliated with, endorsed by, or officially connected to Turning Point USA. ")])]),(0,l.Lk)("p",null," While this platform may be used by various student organizations, including those that may be affiliated with Turning Point USA, the platform itself is independently developed and maintained. "),(0,l.Lk)("div",{class:"text-center mt-4"},[(0,l.Lk)("a",{href:"https://www.tpusa.com",target:"_blank",rel:"noopener noreferrer",class:"btn btn-outline-primary btn-lg"},[(0,l.Lk)("i",{class:"bi bi-link-45deg me-2"}),(0,l.eW)(" Visit Official Turning Point USA Website ")])])])],-1)),t[6]||(t[6]=(0,l.Fv)('<div class="card shadow-sm mb-4" data-v-17af6336><div class="card-header bg-secondary text-white" data-v-17af6336><h2 class="card-title mb-0" data-v-17af6336><i class="bi bi-shield-check me-2" data-v-17af6336></i> Legal Disclaimer </h2></div><div class="card-body" data-v-17af6336><h5 data-v-17af6336>Terms of Use</h5><p data-v-17af6336> By using this Campus Chapter Organizer platform, you agree to the following terms: </p><ul data-v-17af6336><li class="mb-2" data-v-17af6336><strong data-v-17af6336>Independent Platform:</strong> This platform is independently operated and is not affiliated with Turning Point USA or any other organization unless explicitly stated. </li><li class="mb-2" data-v-17af6336><strong data-v-17af6336>Educational Purpose:</strong> This tool is designed for educational and organizational purposes to help student leaders manage their campus activities. </li><li class="mb-2" data-v-17af6336><strong data-v-17af6336>Content Responsibility:</strong> Users are responsible for the content they post, including blog posts, events, and member information. </li><li class="mb-2" data-v-17af6336><strong data-v-17af6336>Data Privacy:</strong> User data is handled according to our privacy policy. We do not sell or share personal information with third parties. </li><li class="mb-2" data-v-17af6336><strong data-v-17af6336>No Warranty:</strong> This platform is provided &quot;as is&quot; without any warranties, express or implied. </li></ul><h5 class="mt-4" data-v-17af6336>Intellectual Property</h5><p data-v-17af6336> Any logos, trademarks, or branding related to Turning Point USA remain the property of Turning Point USA. This platform does not claim ownership of any such intellectual property. </p><h5 class="mt-4" data-v-17af6336>Contact Information</h5><p data-v-17af6336> For questions about this platform or to report issues, please contact the development team through the appropriate channels provided within the application. </p></div></div>',1)),(0,l.Lk)("div",Wh,[t[3]||(t[3]=(0,l.Lk)("div",{class:"card-header bg-info text-white"},[(0,l.Lk)("h2",{class:"card-title mb-0"},[(0,l.Lk)("i",{class:"bi bi-code-slash me-2"}),(0,l.eW)(" Technology & Development ")])],-1)),(0,l.Lk)("div",Xh,[t[2]||(t[2]=(0,l.Fv)('<p data-v-17af6336> This Campus Chapter Organizer is built using modern web technologies to ensure reliability, security, and scalability: </p><div class="row" data-v-17af6336><div class="col-md-6" data-v-17af6336><h6 data-v-17af6336>Frontend Technologies:</h6><ul class="list-unstyled" data-v-17af6336><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>Vue.js 3</li><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>Bootstrap 5</li><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>Responsive Design</li></ul></div><div class="col-md-6" data-v-17af6336><h6 data-v-17af6336>Backend Technologies:</h6><ul class="list-unstyled" data-v-17af6336><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>Spring Boot</li><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>PostgreSQL Database</li><li data-v-17af6336><i class="bi bi-check2 text-success me-2" data-v-17af6336></i>RESTful API Architecture</li></ul></div></div>',2)),(0,l.Lk)("p",Bh,[(0,l.Lk)("small",null,[(0,l.eW)(" Last Updated: "+(0,n.v_)((new Date).toLocaleDateString())+" | Version: 1.0.0 | ",1),t[0]||(t[0]=(0,l.Lk)("i",{class:"bi bi-github me-1"},null,-1)),t[1]||(t[1]=(0,l.eW)(" Open Source Project ",-1))])])])])])])])}var Vh={name:"About",metaInfo:{title:"About - Campus Chapter Organizer",meta:[{name:"description",content:"Learn about the Campus Chapter Organizer platform, its purpose, and important disclaimers. This is an independent tool for student organizations and is not affiliated with Turning Point USA."}]}};const $h=(0,W.A)(Vh,[["render",Kh],["__scopeId","data-v-17af6336"]]);var Oh=$h;const Qh=[{path:"/",name:"Dashboard",component:Qa},{path:"/chapters",name:"Chapters",component:xn},{path:"/chapters/:id",name:"ChapterDetail",component:Su,props:!0},{path:"/members",name:"Members",component:Di},{path:"/events",name:"Events",component:vd},{path:"/login",name:"Login",component:Ou},{path:"/register",name:"Registration",component:Nm},{path:"/blog",name:"Blog",component:ab},{path:"/blog/create",name:"BlogCreate",component:Nh},{path:"/blog/:id",name:"BlogDetail",component:Dp,props:!0},{path:"/about",name:"About",component:Oh}],jh=(0,Ke.aE)({history:(0,Ke.LA)(),routes:Qh});var Gh=jh;a(736);const Jh=(0,s.Ef)(Ge);Jh.use(Gh),Jh.mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],n=e[d][2];for(var i=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every(function(e){return a.O[e](s[r])})?s.splice(r--,1):(i=!1,n<o&&(o=n));if(i){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,l,n]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,o=s[0],i=s[1],r=s[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var d=r(a)}for(t&&t(s);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=self["webpackChunkchapter_organizer_frontend"]=self["webpackChunkchapter_organizer_frontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[272,504],function(){return a(954)});s=a.O(s)})();
//# sourceMappingURL=app.45ab124c.js.map